(this["webpackJsonpgame-platform"]=this["webpackJsonpgame-platform"]||[]).push([[0],{72:function(t,e,i){},76:function(t,e,i){},77:function(t,e,i){},78:function(t,e,i){},79:function(t,e,i){},80:function(t,e,i){},81:function(t,e,i){},82:function(t,e,i){},83:function(t,e,i){},84:function(t,e,i){},85:function(t,e,i){},86:function(t,e,i){},87:function(t,e,i){},89:function(t,e,i){},90:function(t,e,i){},91:function(t,e,i){},92:function(t,e,i){},93:function(t,e,i){},94:function(t,e,i){},95:function(t,e,i){},96:function(t,e,i){},97:function(t,e,i){},98:function(t,e,i){},99:function(t,e,i){"use strict";i.r(e);var a=i(1),o=i(47),n=i.n(o),s=i(13),r=function(t){return t.user},c=i(20),h=i(10),l={setLogin:function(t,e){var i=e.payload.isLoggedIn;return Object(h.a)(Object(h.a)({},t),{},{isLoggedIn:i})},setName:function(t,e){var i=e.payload.credentials;return Object(h.a)(Object(h.a)({},t),{},{userName:i.reporter})},setGame:function(t,e){var i=e.payload.game;return Object(h.a)(Object(h.a)({},t),{},{game:i})},setHighScore:function(t,e){var i=e.payload.highScore;return Object(h.a)(Object(h.a)({},t),{},{highScore:i})},addGamePlayed:function(t,e){var i=e.payload.gameName;return Object(h.a)(Object(h.a)({},t),{},{gameName:i})},setActiveRoute:function(t,e){var i=e.payload.activeRoute;return Object(h.a)(Object(h.a)({},t),{},{activeRoute:i})}},d=Object(c.b)({name:"user",initialState:{userName:"randi",email:"randi@poplogics.com",homeTown:"Houston, Texas",currentLocation:{country:"Croatia",city:"Velika Gorica"},activeRoute:"",playing:!1,currentGame:"none",gamesPlayed:[],totalGameTime:0,isLoggedIn:!1},reducers:l}),u=d.actions,m=u.setName,p=(u.setGame,u.addGamePlayed,u.setHighScore,u.setActiveRoute),g=u.setLogin,f=d.reducer,b=i(28),v={date:new Date,dayOfMonth:"",numberOfMonth:"",time:""},x={setDate:function(t,e){var i=e.payload.date;return Object(h.a)(Object(h.a)({},t),{},{date:i})},setCurrentDateTime:function(t,e){var i=e.payload,a=i.dayOfMonth,o=i.numberOfMonth,n=i.time;return Object(h.a)(Object(h.a)({},t),{},{dayOfMonth:a,numberOfMonth:o,time:n})}},w=Object(c.b)({name:"time",initialState:v,reducers:x}),j=w.actions,y=(j.setDate,j.setCurrentDateTime,w.reducer),O=i(45),M=function(t,e){var i=Object(O.a)(t);return i.splice(i.findIndex((function(t){return t===e})),1),i},S=function(t,e){return console.log("the shit that got added : ",e),[].concat(Object(O.a)(t),[{message:e}])},I={onAddNotification:function(t,e){var i=e.payload.title,a="".concat(i," added");return Object(h.a)(Object(h.a)({},t),{},{notifications:S(t.notifications,a)})},onRemoveNotification:function(t,e){return Object(h.a)(Object(h.a)({},t),{},{notifications:M(t.notifications,e.payload)})}},k=Object(c.b)({name:"notifications",initialState:{notifications:[]},reducers:I}),L=k.actions,E=(L.onAddNotification,L.onRemoveNotification),H=k.reducer,T=i(54),R=Object(c.b)({name:"games",initialState:{rabbit:{id:"rabbit",highScores:[],leaderBoard:[],timesPlayed:0,totalHoursPlayed:0}},reducers:{}});Object(T.a)(R.actions);var P=R.reducer,z={setCursorGrabbed:function(t,e){var i=e.payload.cursorGrabbed;return Object(h.a)(Object(h.a)({},t),{},{cursorGrabbed:i})},setDebugState:function(t,e){var i=e.payload.debug;return Object(h.a)(Object(h.a)({},t),{},{debug:i})},setState:function(t,e){var i=e.payload.currentState;return Object(h.a)(Object(h.a)({},t),{},{state:i})},setRotation:function(t,e){var i=e.payload.rotation;return Object(h.a)(Object(h.a)({},t),{},{rotation:i})},setExtendedArm:function(t,e){var i=e.payload.isExtended;return Object(h.a)(Object(h.a)({},t),{},{isExtended:i})},setInnerHovered:function(t){return Object(h.a)(Object(h.a)({},t),{},{innerRef:Object(h.a)(Object(h.a)({},t.innerRef),{},{hovered:!0})})},removeInnerHovered:function(t){return Object(h.a)(Object(h.a)({},t),{},{innerRef:Object(h.a)(Object(h.a)({},t.innerRef),{},{hovered:!1})})},setGameOver:function(t,e){var i=e.payload.gameOver;return Object(h.a)(Object(h.a)({},t),{},{gameOver:i})}},N=Object(c.b)({name:"clickButton",initialState:{debug:!1,position:{x:0,y:0},ref:null,hovered:!1,state:"waiting",gameOver:!1,extended:!1,rotation:0,innerRef:{hovered:!1},outerRef:{hovered:!1},cursorGrabbed:!1},reducers:z}),B=N.actions,C=(B.setExtendedArm,B.setRotation,B.removeInnerHovered),D=B.setInnerHovered,W=B.setState,G=B.setDebugState,A=B.setGameOver,X=B.setCursorGrabbed,_=N.reducer,Y={setHighScore:function(t,e){var i=e.payload.highScore;return Object(h.a)(Object(h.a)({},t),{},{highScore:Object(h.a)(Object(h.a)({},t.highScore),{},{player:i.player,score:i.score})})}},F=Object(c.b)({name:"cliffHanger",initialState:{score:0,highScore:[]},reducers:Y}),V=F.actions.setHighScore,U=F.reducer,q=Object(b.b)({user:f,time:y,notification:H,games:P,clickButton:_,cliffhanger:U}),J=Object(c.a)({reducer:q,devTools:!1,middleware:function(t){return t({serializableCheck:!1})}}),Z=i(17),$=i(19),K=i(102),Q=i(101),tt={duration:.75},et={initial:{y:50,opacity:0},animate:{y:0,opacity:1,transition:tt},exit:{opacity:0,transition:{duration:2}}},it={initial:{x:-50,opacity:0},animate:{x:0,opacity:1,transition:tt},exit:{y:-30,opacity:0,transition:tt}},at={initial:{opacity:0},animate:{opacity:1,transition:{duration:1.5}},exit:{opacity:0,transition:{duration:.5}}},ot={initial:{x:50,opacity:0},animate:{x:0,opacity:1,transition:tt},exit:{x:-30,opacity:0,transition:tt}},nt={initial:{opacity:0},animate:{opacity:1,transition:{duration:1.5}},exit:{opacity:0,transition:{duration:.5}}},st={initial:{opacity:0},animate:{opacity:1,transition:tt},exit:{y:30,opacity:0,transition:tt}},rt=(i(72),i(2)),ct=i(4),ht=i(5),lt=i(6),dt=function(t){Object(ht.a)(i,t);var e=Object(lt.a)(i);function i(t){var a;return Object(rt.a)(this,i),(a=e.call(this,t)).state={hasError:!1},a}return Object(ct.a)(i,[{key:"render",value:function(){return this.state.hasError?null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),i}(a.Component),ut=i(0),mt=function(){return Object(ut.jsx)(Q.a.button,Object(h.a)(Object(h.a)({},st),{},{className:"button__signin-button",type:"submit",children:"Sign in"}))},pt=function(t){var e=t.handleChange,i=t.handleSubmit,a=t.credentials;return Object(ut.jsxs)("form",{className:"form",onSubmit:i,children:[Object(ut.jsx)(Q.a.div,Object(h.a)(Object(h.a)({},ot),{},{className:"input-group",children:Object(ut.jsxs)(Q.a.div,Object(h.a)(Object(h.a)({},ot),{},{className:"input-group",children:[Object(ut.jsx)("input",{className:"input-group__input",onChange:e,type:"text",name:"reporter",id:"reporter",value:a.reporter,placeholder:"\xa0",required:!0}),Object(ut.jsx)("label",{className:"input-group__label",children:"Reporter"})]}))})),Object(ut.jsx)(Q.a.div,Object(h.a)(Object(h.a)({},nt),{},{className:"login-options",children:Object(ut.jsxs)("label",{className:"label",children:[Object(ut.jsx)("input",{className:"remember-me",type:"checkbox"})," Remember Me"]})})),mt()]})},gt=function(){return Object(ut.jsxs)(Q.a.div,Object(h.a)(Object(h.a)({},it),{},{className:"alternative-sign-in",children:[Object(ut.jsx)("button",{className:"button__google-sign-in",children:"Sign in with Google"}),Object(ut.jsx)("button",{className:"button__twitter",children:Object(ut.jsx)("svg",{viewBox:"0 0 24 24",className:"button__twitter__icon",children:Object(ut.jsx)("path",{d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"})})})]}))},ft=i(12),bt=i(16),vt=function(){var t=function(){var t=Object(Z.g)(),e=Object(s.b)(),i=Object(a.useState)({reporter:""}),o=Object(bt.a)(i,2),n=o[0],r=o[1];return{handleChange:function(t){t.preventDefault(),r(Object(h.a)(Object(h.a)({},n),{},Object(ft.a)({},t.target.name,t.target.value)))},handleSubmit:function(i){i.preventDefault(),e(m({credentials:n})),e(g({isLoggedIn:!0})),t.push("/app/dashboard")},credentials:n}}(),e=t.handleSubmit,i=t.handleChange,o=t.credentials;return Object(ut.jsx)(dt,{children:Object(a.createElement)(Q.a.div,Object(h.a)(Object(h.a)({},et),{},{key:"login",className:"login"}),Object(ut.jsx)("div",{className:"login_border",children:Object(ut.jsxs)("div",{className:"login_border__container",children:[gt(),Object(ut.jsx)(Q.a.hr,Object(h.a)(Object(h.a)({},at),{},{className:"login_border__container__divider"})),pt({handleSubmit:e,handleChange:i,credentials:o})]})}))})},xt=function(t){var e=t.onMouseEnter,i=t.onMouseLeave,a=t.onClick;return Object(ut.jsx)("rect",{onMouseEnter:e,onMouseLeave:i,onClick:a,id:"arrowBtn",width:"100",height:"100",opacity:"0",x:"550",y:"220",style:{cursor:"pointer"}})},wt=function(){return Object(ut.jsx)("g",{mask:"url(#m)",children:Object(ut.jsx)("rect",{fill:"#fff",width:"100%",height:"100%"})})},jt=function(){return Object(ut.jsx)("polyline",{className:"arrow",fill:"#fff",points:"599,250 599,289 590,279 590,282 600,292 610,282 610,279 601,289 601,250"})},yt=function(){return Object(ut.jsx)("text",{className:"upperText",fill:"#fff",x:"250",y:"200",children:"Explore the Possibilities"})},Ot=i.p+"static/media/cloud1.8bf34a49.webp",Mt=i.p+"static/media/cloud2.c29c2357.webp",St=i.p+"static/media/cloud3.3b33860d.webp",It=i.p+"static/media/cloud1Mask.a1ca1acc.webp",kt=i.p+"static/media/sky.300fbae0.webp",Lt=i.p+"static/media/mountBg.515103ab.webp",Et=i.p+"static/media/mountFg.23c7ea4c.webp",Ht=i.p+"static/media/mountMg.aa195a05.webp",Tt={viewBox:"0 0 1200 800"},Rt=[{className:"sky",imgUrl:kt,width:1200,height:590},{className:"mountBg",imgUrl:Lt,width:1200,height:800},{className:"mountMg",imgUrl:Ht,width:1200,height:800},{className:"cloud2",imgUrl:Mt,width:1200,height:800},{className:"mountFg",imgUrl:Et,width:1200,height:800},{className:"cloud1",imgUrl:Ot,width:1200,height:800},{className:"cloud3",imgUrl:St,width:1200,height:800}],Pt=function(){return Object(ut.jsx)(a.Fragment,{children:Rt.map((function(t,e){var i=t.className,a=t.imgUrl,o=t.height,n=t.width;return Object(ut.jsx)("image",{className:i,xlinkHref:a,width:n,height:o},e)}))})},zt=function(){return Object(ut.jsx)("mask",{id:"m",children:Object(ut.jsxs)("g",{className:"cloud1",children:[Object(ut.jsx)("rect",{fill:"#fff",width:"100%",height:"801",y:"799"}),Object(ut.jsx)("image",{xlinkHref:It,width:"1200",height:"800"})]})})},Nt=(i(76),{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.1}}),Bt=i(46),Ct=function(){var t=Object(a.useState)(!1),e=Object(bt.a)(t,2),i=e[0],o=e[1];Object(a.useEffect)((function(){Bt.a.set(".main",{position:"fixed",background:"#fff",width:"100%",maxWidth:"1200px",height:"100vh",top:0,left:"50%",x:"-50%"})}));return{onClick:function(){Bt.a.timeline({scrollTrigger:{trigger:".scrollDist",start:"top top",end:"bottom bottom",scrub:1}}).fromTo(".sky",{y:0},{y:-200},0).fromTo(".cloud1",{y:100},{y:-800},0).fromTo(".cloud2",{y:-150},{y:-500},0).fromTo(".cloud3",{y:-50},{y:-650},0).fromTo(".mountBg",{y:-10},{y:-100},0).fromTo(".mountMg",{y:-30},{y:-250},0).fromTo(".mountFg",{y:-50},{y:-600},0),setTimeout((function(){o(!0)}),250)},onMouseEnter:function(){Bt.a.to(".arrow",{y:10,duration:.8,ease:"back.inOut(3)",overwrite:"auto"})},onMouseLeave:function(){Bt.a.to(".arrow",{y:0,duration:.5,ease:"power3.out",overwrite:"auto"})},show:i}},Dt=function(){var t=Ct(),e=t.show,i=t.onMouseEnter,a=t.onMouseLeave,o=t.onClick;return Object(ut.jsx)(Q.a.div,Object(h.a)(Object(h.a)({},Nt),{},{className:"scrollIntro",children:Object(ut.jsxs)("div",{className:"main",children:[e&&Object(ut.jsx)(vt,{}),Object(ut.jsxs)("svg",Object(h.a)(Object(h.a)({},Tt),{},{children:[zt(),Pt(),yt(),jt(),wt(),xt({onMouseLeave:a,onClick:o,onMouseEnter:i})]}))]})}))},Wt=(i(77),function(){var t=function(){return Object(ut.jsxs)("div",{className:"leaderContainer",children:[Object(ut.jsx)("div",{className:"leaderBoardTitle",children:"leaderBoard"}),Object(ut.jsxs)("div",{className:"containerLeaderboard",children:[Object(ut.jsxs)("div",{className:"profileImg",children:[Object(ut.jsx)("img",{src:"https://images.unsplash.com/photo-1595152772835-219674b2a8a6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:""}),Object(ut.jsx)("span",{className:"nameItem",children:"Kalyan"})]}),Object(ut.jsxs)("div",{className:"profileImg",children:[Object(ut.jsx)("img",{src:"https://images.unsplash.com/photo-1530577197743-7adf14294584?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=801&q=80",alt:""}),Object(ut.jsx)("span",{className:"nameItem",children:"Suchitra Tiwari"})]}),Object(ut.jsxs)("div",{className:"profileImg",children:[Object(ut.jsx)("img",{src:"https://images.unsplash.com/photo-1598641795816-a84ac9eac40c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=801&q=80",alt:""}),Object(ut.jsx)("span",{className:"nameItem",children:"Sajid Ghani"})]}),Object(ut.jsxs)("div",{className:"profileImg",children:[Object(ut.jsx)("img",{src:"https://images.unsplash.com/photo-1484186139897-d5fc6b908812?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:""}),Object(ut.jsx)("span",{className:"nameItem",children:"Dhriti"})]}),Object(ut.jsxs)("div",{className:"profileImg",children:[Object(ut.jsx)("img",{src:"https://images.unsplash.com/photo-1618018352910-72bdafdc82a6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:""}),Object(ut.jsx)("span",{className:"nameItem",children:"Milind"})]}),Object(ut.jsxs)("div",{className:"profileImg",children:[Object(ut.jsx)("img",{src:"https://images.unsplash.com/photo-1529068755536-a5ade0dcb4e8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=801&q=80",alt:""}),Object(ut.jsx)("span",{className:"nameItem",children:"Srikant Tiwari"})]}),Object(ut.jsxs)("div",{className:"profileImg",children:[Object(ut.jsx)("img",{src:"https://images.unsplash.com/photo-1485206412256-701ccc5b93ca?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=812&q=80",alt:""}),Object(ut.jsx)("span",{className:"nameItem",children:"Major Sameer"})]})]})]})};return Object(ut.jsx)("div",{className:"leaderBoard",children:Object(ut.jsx)(t,{})})}),Gt={initial:{opacity:0},animate:{opacity:1,transition:{duration:2}},exit:{opacity:0,transition:{duration:2}}},At={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},Xt={initial:{x:50,opacity:0,scale:.75},animate:{x:0,opacity:1,scale:1},exit:{x:50,opacity:0,scale:0},transition:{duration:.2}},_t=(i(78),function(t,e){return Object(ut.jsxs)("div",{className:"image",children:[Object(ut.jsx)("h3",{className:"image_title",children:t}),Object(ut.jsxs)("figure",{children:[Object(ut.jsx)("img",{src:e,alt:"img18"}),Object(ut.jsx)("figcaption",{children:Object(ut.jsx)("p",{children:"the chase is on.."})})]})]})}),Yt=(i(79),function(){return Object(ut.jsxs)("svg",{height:"16",viewBox:"0 0 16 16",width:"16",role:"img",children:[Object(ut.jsx)("clipPath",{id:"a",children:Object(ut.jsx)("path",{d:"m0 0h16v16h-16z"})}),Object(ut.jsx)("g",{clipPath:"url(#a)",children:Object(ut.jsx)("path",{d:"m8 6c-.53043 0-1.03914.21071-1.41421.58579-.37508.37507-.58579.88378-.58579 1.41421s.21071 1.03914.58579 1.41421c.37507.37508.88378.58579 1.41421.58579s1.03914-.21071 1.41421-.58579c.37508-.37507.58579-.88378.58579-1.41421s-.21071-1.03914-.58579-1.41421c-.37507-.37508-.88378-.58579-1.41421-.58579zm-6 0c-.53043 0-1.039141.21071-1.414214.58579-.375072.37507-.585786.88378-.585786 1.41421s.210714 1.03914.585786 1.41421c.375073.37508.883784.58579 1.414214.58579s1.03914-.21071 1.41421-.58579c.37508-.37507.58579-.88378.58579-1.41421s-.21071-1.03914-.58579-1.41421c-.37507-.37508-.88378-.58579-1.41421-.58579zm12 0c-.5304 0-1.0391.21071-1.4142.58579-.3751.37507-.5858.88378-.5858 1.41421s.2107 1.03914.5858 1.41421c.3751.37508.8838.58579 1.4142.58579s1.0391-.21071 1.4142-.58579c.3751-.37507.5858-.88378.5858-1.41421s-.2107-1.03914-.5858-1.41421c-.3751-.37508-.8838-.58579-1.4142-.58579z"})})]})}),Ft=(i(80),Object(a.forwardRef)((function(t,e){var i=t.game,o=t.index;function n(t){e&&e.current&&(e.current[o]=t)}return Object(a.useEffect)((function(){e&&e.current&&e.current[o].scrollIntoView({behavior:"smooth",block:"end"})}),[]),Object(ut.jsx)(Q.a.div,Object(h.a)(Object(h.a)({ref:function(t){return n(t)},className:"projects"},Xt),{},{children:Object(ut.jsx)($.b,{to:i.url,children:Object(ut.jsxs)("span",{className:"projects_link",children:[Object(ut.jsx)("span",{className:"projects_link_deleteButton",children:Yt()}),_t(i.title,i.imgUrl)]},"project")})}))}))),Vt=(i(81),i.p+"static/media/_rabbitCover.0d74d391.png"),Ut=i.p+"static/media/_tiltCover.742e4e62.png",qt=i.p+"static/media/_cliffHanger.be846468.png",Jt=function(t){var e=t.singleRefs,i=t.draggableArea,a=t.dragging,o=t.stopDragging,n=t.startDragging;return Object(ut.jsx)("div",{className:"projectDragContainer",children:Object(ut.jsx)("div",{className:"projectDragContainer_area ",onMouseDown:n,onMouseUp:o,onMouseLeave:o,onMouseMove:a,ref:i,children:e&&[{title:"_rabbit",imgUrl:Vt,url:"/app/rabbit"},{title:"_tilt",imgUrl:Ut,url:"/app/tilt"},{title:"_cliffHanger",imgUrl:qt,url:"/app/cliffhanger"}].map((function(t,i){return Object(ut.jsx)(Ft,{game:t,ref:e,index:i},i)}))})})},Zt=(i(82),function(){var t=function(){var t,e,i=Object(a.useRef)([]),o=!1,n=Object(a.useRef)();function s(t){t.forEach((function(t){t.isIntersecting?(t.target.style.opacity=1,t.target.style.transform="scale(1)"):(t.target.style.opacity=0,t.target.style.transform="scale(.35)")}))}return Object(a.useEffect)((function(){var t=new IntersectionObserver(s,{threshold:.55});return i&&i.current&&i.current.forEach((function(e){t.observe(e)})),function(){i&&i.current&&i.current.forEach((function(e){t.disconnect()}))}}),[i]),{draggableArea:n,singleRefs:i,dragging:function(i){if(i.preventDefault(),o){var a=i.pageX-n.current.offsetLeft-t;n.current.scrollLeft=e-a}},stopDragging:function(t){o=!1},startDragging:function(i){o=!0,t=i.pageX-n.current.offsetLeft,e=n.current.scrollLeft}}}(),e=t.singleRefs,i=t.draggableArea,o=t.dragging,n=t.startDragging,s=t.stopDragging;return Object(ut.jsx)(Q.a.div,Object(h.a)(Object(h.a)({className:"home"},At),{},{children:Jt({draggableArea:i,singleRefs:e,stopDragging:s,dragging:o,startDragging:n})}),"home")}),$t=(i(83),function(){var t=Object(s.b)(),e=Object(Z.g)();return Object(ut.jsx)(dt,{children:Object(ut.jsx)(Q.a.div,Object(h.a)(Object(h.a)({},{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:1}}),{},{className:"signOutButton",children:Object(ut.jsx)("div",{className:"signOutButton_container",children:Object(ut.jsx)("button",{onClick:function(){t(g({isLoggedIn:!1})),e.push("/")},className:"signOutButton_container_button",children:Object(ut.jsx)("svg",{className:"logout-svg",fill:"none",viewBox:"0 0 24 24",id:"img__logout-24",children:Object(ut.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h9v-2H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h9V3H5zm16.83 9.557a1 1 0 0 0-.128-1.27l-3.995-3.994a1 1 0 1 0-1.414 1.414L18.586 11H11a1 1 0 1 0 0 2h7.586l-2.293 2.293a1 1 0 0 0 1.414 1.414l3.995-3.995a.997.997 0 0 0 .128-.155z",fill:"currentColor"})})})})}))})}),Kt=(i(84),Object(a.memo)((function(){return function(){var t=Object(s.b)();Object(a.useEffect)((function(){t(p({activeRoute:"DASHBOARD"}))}))}(),Object(ut.jsxs)(Q.a.div,Object(h.a)(Object(h.a)({className:"dashboard"},Gt),{},{children:[Object(ut.jsx)($t,{}),Object(ut.jsx)(Zt,{})]}),"dashboard")}))),Qt={addBoard:function(t,e){var i=e.payload,a="board-".concat(i);return[].concat(Object(O.a)(t),[a])},removeBoard:function(t,e){var i=e.payload.boardID;return t.filter((function(t){return t!==i}))}},te=Object(c.b)({name:"dashboard",initialState:["board-0"],reducers:Qt}),ee=te.actions;ee.addBoard,ee.removeBoard,te.reducer;Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),Math.sinus||(Math.sinus=function(t){return Math.sin(t/180*Math.PI)});var ie=function t(e,i){var a=this;Object(rt.a)(this,t),this.highScore=void 0,this.canvasHeight=void 0,this.canvasWidth=void 0,this.heroDistanceFromEdge=void 0,this.heroX=void 0,this.heroY=void 0,this.lastTimestamp=void 0,this.paddingX=void 0,this.perfectAreaSize=void 0,this.phase=void 0,this.platformHeight=void 0,this.platforms=void 0,this.sceneOffset=void 0,this.score=void 0,this.sticks=void 0,this.trees=void 0,this.backgroundSpeedMultiplier=void 0,this.fallingSpeed=void 0,this.heroHeight=void 0,this.heroWidth=void 0,this.hill1Amplitude=void 0,this.hill1BaseHeight=void 0,this.hill1Stretch=void 0,this.hill2Amplitude=void 0,this.hill2BaseHeight=void 0,this.hill2Stretch=void 0,this.stretchingSpeed=void 0,this.transitioningSpeed=void 0,this.turningSpeed=void 0,this.walkingSpeed=void 0,this.canvas=void 0,this.ctx=void 0,this.introductionElement=void 0,this.perfectElement=void 0,this.restartButton=void 0,this.scoreElement=void 0,this.highScoreElement=void 0,this.player=void 0,this.setScore=void 0,this.click=function(t){t.preventDefault(),a.resetGame(),a.restartButton.style.display="none"},this.keyDown=function(t){" "==t.key&&(t.preventDefault(),a.resetGame())},this.mouseDown=function(t){if("waiting"===a.phase){a.lastTimestamp=void 0;a.introductionElement.style.opacity=(0).toString(),a.phase="stretching",window.requestAnimationFrame(a.animate)}},this.mouseUp=function(t){"stretching"===a.phase&&(a.phase="turning")},this.resize=function(t){a.canvas.width=window.innerWidth,a.canvas.height=window.innerHeight,a.draw()},this.resetGame=function(){a.phase="waiting",a.lastTimestamp=void 0,a.sceneOffset=0,a.score=0;a.introductionElement.style.opacity=1..toString(),a.perfectElement.style.opacity=(0).toString(),a.restartButton.style.display="none",a.scoreElement.innerText=a.score.toString(),a.highScoreElement.innerText=a.highScore.toString(),a.platforms=[{x:50,w:50}],a.generatePlatform(),a.generatePlatform(),a.generatePlatform(),a.generatePlatform(),a.sticks=[{x:a.platforms[0].x+a.platforms[0].w,length:0,rotation:0}],a.trees=[],a.generateTree(),a.generateTree(),a.generateTree(),a.generateTree(),a.generateTree(),a.generateTree(),a.generateTree(),a.generateTree(),a.generateTree(),a.generateTree(),a.heroX=a.platforms[0].x+a.platforms[0].w-a.heroDistanceFromEdge,a.heroY=0,a.draw()},this.generateTree=function(){var t=a.trees[a.trees.length-1],e=(t?t.x:0)+30+Math.floor(120*Math.random()),i=["#6D8821","#8FAC34","#98B333"][Math.floor(3*Math.random())];a.trees.push({x:e,color:i})},this.generatePlatform=function(){var t=a.platforms[a.platforms.length-1],e=t.x+t.w+40+Math.floor(160*Math.random()),i=20+Math.floor(80*Math.random());a.platforms.push({x:e,w:i})},this.draw=function(){a.ctx&&(a.ctx.save(),a.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),a.drawBackground(),a.ctx.translate((window.innerWidth-a.canvasWidth)/2-a.sceneOffset,(window.innerHeight-a.canvasHeight)/2),a.drawPlatforms(),a.drawHero(),a.drawSticks(),a.ctx.restore())},this.thePlatformTheStickHits=function(){if(90!=a.sticks.last().rotation)throw Error("Stick is ".concat(a.sticks.last().rotation,"\xb0"));var t=a.sticks.last().x+a.sticks.last().length,e=a.platforms.find((function(e){return e.x<t&&t<e.x+e.w}));return e&&e.x+e.w/2-a.perfectAreaSize/2<t&&t<e.x+e.w/2+a.perfectAreaSize/2?[e,!0]:[e,!1]},this.animate=function(t){if(!a.lastTimestamp)return a.lastTimestamp=t,void window.requestAnimationFrame(a.animate);switch(a.phase){case"waiting":return;case"stretching":a.sticks.last().length+=(t-a.lastTimestamp)/a.stretchingSpeed;break;case"turning":if(a.sticks.last().rotation+=(t-a.lastTimestamp)/a.turningSpeed,a.sticks.last().rotation>90){a.sticks.last().rotation=90;var e=a.thePlatformTheStickHits(),i=Object(bt.a)(e,2),o=i[0],n=i[1];if(o){if(a.score+=n?2:1,a.scoreElement.innerText=a.score.toString(),n){var s=1;a.perfectElement.style.opacity=s.toString(),s=0,setTimeout((function(){return a.perfectElement.style.opacity=s.toString()}),1e3)}a.generatePlatform(),a.generateTree(),a.generateTree()}a.phase="walking"}break;case"walking":a.heroX+=(t-a.lastTimestamp)/a.walkingSpeed;var r=a.thePlatformTheStickHits(),c=Object(bt.a)(r,1)[0];if(c){var h=c.x+c.w-a.heroDistanceFromEdge;a.heroX>h&&(a.heroX=h,a.phase="transitioning")}else{var l=a.sticks.last().x+a.sticks.last().length+a.heroWidth;a.heroX>l&&(a.heroX=l,a.phase="falling")}break;case"transitioning":a.sceneOffset+=(t-a.lastTimestamp)/a.transitioningSpeed;var d=a.thePlatformTheStickHits(),u=Object(bt.a)(d,1)[0];a.sceneOffset>u.x+u.w-a.paddingX&&(a.sticks.push({x:u.x+u.w,length:0,rotation:0}),a.phase="waiting");break;case"falling":a.sticks.last().rotation<180&&(a.sticks.last().rotation+=(t-a.lastTimestamp)/a.turningSpeed),a.heroY+=(t-a.lastTimestamp)/a.fallingSpeed;var m=a.platformHeight+100+(window.innerHeight-a.canvasHeight)/2;if(a.heroY>m)return a.restartButton.style.display="block",void(a.score>a.highScore&&(a.highScore=a.score,console.log("highScore --\x3e ",a.score),console.log("data : ",a.player),a.highScoreElement.innerText=a.highScore.toString(),a.setScore({player:a.player,score:a.highScore})));break;default:throw Error("Wrong phase")}a.draw(),window.requestAnimationFrame(a.animate),a.lastTimestamp=t},this.drawHill=function(t,e,i,o){if(a.ctx){a.ctx.beginPath(),a.ctx.moveTo(0,window.innerHeight),a.ctx.lineTo(0,a.getHillY(0,t,e,i));for(var n=0;n<window.innerWidth;n++)a.ctx.lineTo(n,a.getHillY(n,t,e,i));a.ctx.lineTo(window.innerWidth,window.innerHeight),a.ctx.fillStyle=o,a.ctx.fill()}},this.drawPlatforms=function(){a.platforms.forEach((function(t){var e=t.x,i=t.w;a.ctx&&(a.ctx.fillStyle="black",a.ctx.fillRect(e,a.canvasHeight-a.platformHeight,i,a.platformHeight+(window.innerHeight-a.canvasHeight)/2),a.sticks.last().x<e&&(a.ctx.fillStyle="red",a.ctx.fillRect(e+i/2-a.perfectAreaSize/2,a.canvasHeight-a.platformHeight,a.perfectAreaSize,a.perfectAreaSize)))}))},this.drawHero=function(){if(a.ctx){a.ctx.save(),a.ctx.fillStyle="black",a.ctx.translate(a.heroX-a.heroWidth/2,a.heroY+a.canvasHeight-a.platformHeight-a.heroHeight/2),a.drawRoundedRect(-a.heroWidth/2,-a.heroHeight/2,a.heroWidth,a.heroHeight-4,5);a.ctx.beginPath(),a.ctx.arc(5,11.5,3,0,2*Math.PI,!1),a.ctx.fill(),a.ctx.beginPath(),a.ctx.arc(-5,11.5,3,0,2*Math.PI,!1),a.ctx.fill(),a.ctx.beginPath(),a.ctx.fillStyle="white",a.ctx.arc(5,-7,3,0,2*Math.PI,!1),a.ctx.fill(),a.ctx.fillStyle="red",a.ctx.fillRect(-a.heroWidth/2-1,-12,a.heroWidth+2,4.5),a.ctx.beginPath(),a.ctx.moveTo(-9,-14.5),a.ctx.lineTo(-17,-18.5),a.ctx.lineTo(-14,-8.5),a.ctx.fill(),a.ctx.beginPath(),a.ctx.moveTo(-10,-10.5),a.ctx.lineTo(-15,-3.5),a.ctx.lineTo(-5,-7),a.ctx.fill(),a.ctx.restore()}},this.drawRoundedRect=function(t,e,i,o,n){a.ctx&&(a.ctx.beginPath(),a.ctx.moveTo(t,e+n),a.ctx.lineTo(t,e+o-n),a.ctx.arcTo(t,e+o,t+n,e+o,n),a.ctx.lineTo(t+i-n,e+o),a.ctx.arcTo(t+i,e+o,t+i,e+o-n,n),a.ctx.lineTo(t+i,e+n),a.ctx.arcTo(t+i,e,t+i-n,e,n),a.ctx.lineTo(t+n,e),a.ctx.arcTo(t,e,t,e+n,n),a.ctx.fill())},this.drawSticks=function(){a.sticks.forEach((function(t){a.ctx&&(a.ctx.save(),a.ctx.translate(t.x,a.canvasHeight-a.platformHeight),a.ctx.rotate(Math.PI/180*t.rotation),a.ctx.beginPath(),a.ctx.lineWidth=2,a.ctx.moveTo(0,0),a.ctx.lineTo(0,-t.length),a.ctx.stroke(),a.ctx.restore())}))},this.drawBackground=function(){if(a.ctx){var t=a.ctx.createLinearGradient(0,0,0,window.innerHeight);t.addColorStop(0,"#BBD691"),t.addColorStop(1,"#FEF1E1"),a.ctx.fillStyle=t,a.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),a.drawHill(a.hill1BaseHeight,a.hill1Amplitude,a.hill1Stretch,"#95C629"),a.drawHill(a.hill2BaseHeight,a.hill2Amplitude,a.hill2Stretch,"#659F1C"),a.trees.forEach((function(t){return a.drawTree(t.x,t.color)}))}},this.drawTree=function(t,e){a.ctx.save(),a.ctx.translate((-a.sceneOffset*a.backgroundSpeedMultiplier+t)*a.hill1Stretch,a.getTreeY(t,a.hill1BaseHeight,a.hill1Amplitude));a.ctx.fillStyle="#7D833C",a.ctx.fillRect(-1,-5,2,5),a.ctx.beginPath(),a.ctx.moveTo(-5,-5),a.ctx.lineTo(0,-30),a.ctx.lineTo(5,-5),a.ctx.fillStyle=e,a.ctx.fill(),a.ctx.restore()},this.getHillY=function(t,e,i,o){var n=window.innerHeight-e;return Math.sinus((a.sceneOffset*a.backgroundSpeedMultiplier+t)*o)*i+n},this.getTreeY=function(t,e,i){var a=window.innerHeight-e;return Math.sinus(t)*i+a},this.setScore=i,this.player=e,this.phase="waiting",this.platforms=[],this.sticks=[],this.trees=[],this.score=0,this.highScore=0,this.canvasWidth=375,this.canvasHeight=375,this.platformHeight=100,this.heroDistanceFromEdge=10,this.paddingX=100,this.perfectAreaSize=10,this.backgroundSpeedMultiplier=.2,this.hill1BaseHeight=100,this.hill1Amplitude=10,this.hill1Stretch=1,this.hill2BaseHeight=70,this.hill2Amplitude=20,this.hill2Stretch=.5,this.stretchingSpeed=4,this.turningSpeed=4,this.walkingSpeed=4,this.transitioningSpeed=2,this.fallingSpeed=2,this.heroWidth=17,this.heroHeight=30,this.canvas=document.getElementById("game"),this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight),this.ctx=this.canvas.getContext("2d"),this.introductionElement=document.getElementById("introduction"),this.perfectElement=document.getElementById("perfect"),this.restartButton=document.getElementById("restart"),this.scoreElement=document.getElementById("score"),this.highScoreElement=document.getElementById("highScore"),this.resetGame(),window.addEventListener("keydown",this.keyDown),window.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("resize",this.resize),window.requestAnimationFrame(this.animate),this.restartButton.addEventListener("click",this.click)},ae=(i(85),function(){var t=Object(s.b)(),e=Object(s.c)(r),i=function(e){return t(V({highScore:e}))},o=function(){return Object(ut.jsxs)("span",{className:"highScore",children:[Object(ut.jsx)("span",{children:"highScore:"}),Object(ut.jsx)("div",{id:"highScore"})]})},n=function(){return Object(ut.jsxs)("span",{className:"score",children:[Object(ut.jsx)("span",{children:"score:"}),Object(ut.jsx)("div",{id:"score"})]})},c=function(){return Object(ut.jsx)("button",{id:"restart",children:"RESTART"})},h=function(){return Object(ut.jsxs)(ut.Fragment,{children:[Object(ut.jsx)("div",{id:"introduction",children:"Hold down the mouse to stretch out a stick"}),Object(ut.jsx)("div",{id:"perfect",children:"DOUBLE SCORE"})]})},l=function(){return Object(ut.jsx)("canvas",{id:"game",width:"375",height:"375"})};return Object(a.useEffect)((function(){new ie(e.userName,i)})),Object(ut.jsxs)(Q.a.div,{className:"container",children:[Object(ut.jsx)(n,{}),Object(ut.jsx)(o,{}),Object(ut.jsx)(l,{}),Object(ut.jsx)(h,{}),Object(ut.jsx)(c,{})]})}),oe="https://s3-us-west-2.amazonaws.com/s.cdpn.io/184729",ne={head:"".concat(oe,"/head.svg"),waiting:"".concat(oe,"/hand.svg"),stalking:"".concat(oe,"/hand-waiting.svg"),grabbing:"".concat(oe,"/hand.svg"),grabbed:"".concat(oe,"/hand-with-cursor.svg"),shaka:"".concat(oe,"/hand-surfs-up.svg")};Object.keys(ne).forEach((function(t){(new Image).src=ne[t]}));var se=i(21),re=function(t){return t.clickButton},ce=Object(se.a)(re,(function(t){return t.debug})),he=Object(se.a)(re,(function(t){return t.gameOver})),le=(Object(se.a)(re,(function(t){return t.isExtended})),Object(se.a)(re,(function(t){return t.cursorGrabbed}))),de=function(){var t=Object(s.b)(),e=Object(a.useRef)(null),i=Object(a.useState)(!1),o=Object(bt.a)(i,2),n=o[0],r=o[1],c=function(){t(D()),r(!0)},h=function(){t(C()),r(!1)};return Object(a.useEffect)((function(){if(e.current)return e.current.addEventListener("mouseenter",c),e.current.addEventListener("mouseleave",h),function(){e.current&&(e.current.removeEventListener("mouseenter",c),e.current.removeEventListener("mouseleave",h))}}),[e]),[e,n]},ue=function(t,e,i){var o,n,s,r=function(){var t=Object(a.useState)({x:0,y:0}),e=Object(bt.a)(t,2),i=e[0],o=e[1];return Object(a.useEffect)((function(){var t=function(t){return o({x:t.clientX,y:t.clientY})};return window.addEventListener("mousemove",t),function(){window.removeEventListener("mousemove",t)}}),[i]),i}(),c=function(){var t=Object(a.useRef)(null),e=Object(a.useState)(),i=Object(bt.a)(e,2),o=i[0],n=i[1],s=function(){if(t.current){var e=t.current.getBoundingClientRect();n(e)}};return Object(a.useLayoutEffect)((function(){return s(),window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[t.current]),[t,o]}(),h=Object(bt.a)(c,2),l=h[0],d=h[1],u=Object(a.useState)(0),m=Object(bt.a)(u,2),p=m[0],g=m[1];return Object(a.useEffect)((function(){d&&(o=d.left+.5*d.width,n=d.top+.5*d.height,s=e?0:Math.atan2(r.x-o,-(r.y-n))*(180/Math.PI),g(Math.min(Math.max(parseInt(s.toString()),-79),79)))}),[d,l]),{grabberClass:"grabber grabber--".concat(t," ").concat(i&&"grabber--extended"),handImageSrc:ne[t],wrapperStyle:{transform:"rotate(".concat(p,"deg)")},ref:l}},me=function(t,e,i,a){var o=ue(t,e,i),n=o.grabberClass,s=o.handImageSrc,r=o.ref,c=o.wrapperStyle;return Object(ut.jsxs)("div",{className:n,children:[Object(ut.jsx)("div",{className:"grabber__body"}),Object(ut.jsx)("img",{className:"grabber__face",src:ne.head,alt:"grabber__face"}),Object(ut.jsx)("div",{className:"grabber__arm-wrapper",ref:r,style:c,children:Object(ut.jsx)("div",{className:"grabber__arm",children:Object(ut.jsx)("img",{className:"grabber__hand",src:s,onMouseEnter:a,alt:"grabber__hand"})})})]})},pe=function(t,e,i){console.log("grabZone : gameOver",e);var o=function(){var t=Object(s.b)(),e=Object(s.c)(le),i=Object(s.c)(he),o=de(),n=Object(bt.a)(o,2),r=n[0],c=n[1],h=de(),l=Object(bt.a)(h,2),d=l[0],u=l[1],m=Object(a.useState)(!1),p=Object(bt.a)(m,2),g=p[0],f=p[1],b="waiting";return console.log("\nstate :",b),console.log("outerRef --\x3e",r),console.log("innerRef --\x3e",d),Object(a.useEffect)((function(){var a;return console.log("\nuseEffect ---\x3e"),c&&(console.log("outerHovered"),t(W({currentState:"stalking"})),b="stalking"),u&&(console.log("innerHovered"),t(W({currentState:"grabbing"})),b="grabbing"),e&&(console.log("cursorGrabbed"),t(W({currentState:"grabbed"})),b="grabbed"),i&&(console.log("gameOver"),t(W({currentState:"shaka"})),b="shaka"),"grabbing"===b&&(a=setTimeout((function(){f(!0),a=null}),2e3)),function(){console.log("returned"),f(!1),a&&(console.log("timer cleared!"),clearTimeout(a))}}),[b]),{outerRef:r,innerRef:d,isExtended:g,state:b}}(),n=o.isExtended,r=o.innerRef,c=o.outerRef,h=o.state;return Object(ut.jsx)(ut.Fragment,{children:Object(ut.jsxs)("div",{className:"grab-zone",ref:c,children:[Object(ut.jsxs)("div",{className:"grab-zone__debug",children:[Object(ut.jsx)("strong",{children:"Debug info:"}),Object(ut.jsxs)("p",{children:["Current state: ",h]}),Object(ut.jsxs)("p",{children:["Extended arm: ",n?"Yes":"No"]})]}),Object(ut.jsx)("div",{className:"grab-zone__danger",ref:r,children:Object(ut.jsx)(me,{state:h,gameOver:e,extended:n,onCursorGrabbed:i})})]})})},ge=(i(86),function(){var t=function(){var t=Object(s.b)(),e=Object(s.c)(ce),i=Object(s.c)(le),a=Object(s.c)(he);return{handleButtonClicked:function(){A(!0),setTimeout((function(){A(!1)}),4e3)},handleCursorGrabbed:function(){X(!0),setTimeout((function(){X(!1)}),2e3)},handleToggleDebug:function(){t(G({debug:!e}))},screenStyle:i?{cursor:"none"}:{},appClass:e?"app app--debug":"app",gameOver:a,cursorGrabbed:i}}(),e=t.cursorGrabbed,i=t.gameOver,a=t.handleCursorGrabbed,o=t.handleButtonClicked,n=t.handleToggleDebug,r=t.screenStyle,c=t.appClass;return Object(ut.jsxs)("div",{className:c,style:r,children:[Object(ut.jsxs)("section",{className:"containerButton",children:[Object(ut.jsx)("p",{children:"Feel free to browse, relax and, I don't know, click the button down there? Might as well, right?"}),Object(ut.jsx)("button",{className:"debug-button",onClick:n,children:"Debug"})]}),Object(ut.jsxs)("button",{className:"trap-button",onClick:function(){o()},children:[i&&"Nice one",e&&"Gotcha!",!i&&!e&&"Button!"]}),Object(ut.jsx)("div",{className:"grab-zone-wrapper",children:Object(ut.jsx)(pe,{onCursorGrabbed:a})})]})}),fe=(i(87),i(7)),be=i(11),ve=i(8),xe=function t(){Object(rt.a)(this,t),this.blackMat=void 0,this.brownMat=void 0,this.greenMat=void 0,this.lightBrownMat=void 0,this.pinkMat=void 0,this.skinMat=void 0,this.whiteMat=void 0,this.blackMat=new fe.m({color:1050375,flatShading:!0}),this.brownMat=new fe.m({color:11815737,shininess:0,flatShading:!0}),this.greenMat=new fe.m({color:8044430,shininess:0,flatShading:!0}),this.pinkMat=new fe.m({color:14442309,shininess:0,flatShading:!0}),this.lightBrownMat=new fe.m({color:14711383,flatShading:!0}),this.whiteMat=new fe.m({color:10786697,flatShading:!0}),this.skinMat=new fe.m({color:16752293,flatShading:!0})},we=function(){function t(){Object(rt.a)(this,t),this.earGeom=void 0,this.testGeom=void 0,this.runningCycle=void 0,this.mesh=void 0,this.body=void 0,this.torso=void 0,this.pants=void 0,this.tail=void 0,this.head=void 0,this.cheekR=void 0,this.cheekL=void 0,this.nose=void 0,this.mouth=void 0,this.iris=void 0,this.eyeR=void 0,this.eyeL=void 0,this.earR=void 0,this.pawFR=void 0,this.earL=void 0,this.pawBR=void 0,this.pawBL=void 0,this.pawFL=void 0,this.status=void 0,this.material=void 0,this.material=new xe,this.init()}return Object(ct.a)(t,[{key:"init",value:function(){this.status="running",this.runningCycle=0,this.mesh=new fe.i,this.body=new fe.i,this.mesh.add(this.body);var t=new fe.c(7,7,10,1);this.torso=new fe.k(t,this.material.brownMat),this.torso.position.z=0,this.torso.position.y=7,this.torso.castShadow=!0,this.body.add(this.torso);var e=new fe.c(9,9,5,1);this.pants=new fe.k(e,this.material.whiteMat),this.pants.position.z=-3,this.pants.position.y=0,this.pants.castShadow=!0,this.torso.add(this.pants);var i=new fe.c(3,3,3,1);i.applyMatrix4((new fe.j).makeTranslation(0,0,-2)),this.tail=new fe.k(i,this.material.lightBrownMat),this.tail.position.z=-4,this.tail.position.y=5,this.tail.castShadow=!0,this.torso.add(this.tail),this.torso.rotation.x=-Math.PI/8;var a=new fe.c(10,10,13,1);a.applyMatrix4((new fe.j).makeTranslation(0,0,7.5)),this.head=new fe.k(a,this.material.brownMat),this.head.position.z=2,this.head.position.y=11,this.head.castShadow=!0,this.body.add(this.head);var o=new fe.c(1,4,4,1);this.cheekR=new fe.k(o,this.material.pinkMat),this.cheekR.position.x=-5,this.cheekR.position.z=7,this.cheekR.position.y=-2.5,this.cheekR.castShadow=!0,this.head.add(this.cheekR),this.cheekL=this.cheekR.clone(),this.cheekL.position.x=-this.cheekR.position.x,this.head.add(this.cheekL);var n=new fe.c(6,6,3,1);this.nose=new fe.k(n,this.material.lightBrownMat),this.nose.position.z=13.5,this.nose.position.y=2.6,this.nose.castShadow=!0,this.head.add(this.nose);var s=new fe.c(4,2,4,1);s.applyMatrix4((new fe.j).makeTranslation(0,0,3)),s.applyMatrix4((new fe.j).makeRotationX(Math.PI/12)),this.mouth=new fe.k(s,this.material.brownMat),this.mouth.position.z=8,this.mouth.position.y=-4,this.mouth.castShadow=!0,this.head.add(this.mouth);var r=new fe.c(3,3,3,1);this.pawFR=new fe.k(r,this.material.lightBrownMat),this.pawFR.position.x=-2,this.pawFR.position.z=6,this.pawFR.position.y=1.5,this.pawFR.castShadow=!0,this.body.add(this.pawFR),this.pawFL=this.pawFR.clone(),this.pawFL.position.x=-this.pawFR.position.x,this.pawFL.castShadow=!0,this.body.add(this.pawFL);var c=new fe.c(3,3,6,1);this.pawBL=new fe.k(c,this.material.lightBrownMat),this.pawBL.position.y=1.5,this.pawBL.position.z=0,this.pawBL.position.x=5,this.pawBL.castShadow=!0,this.body.add(this.pawBL),this.pawBR=this.pawBL.clone(),this.pawBR.position.x=-this.pawBL.position.x,this.pawBR.castShadow=!0,this.body.add(this.pawBR),this.testGeom=new fe.b;var h=new fe.c(7,18,2,1);new fe.b(7,18,2,1);this.testGeom.merge(h),this.testGeom.attributes.position.setXYZ(6,2,0,.5),this.testGeom.attributes.position.setXYZ(7,2,0,.5),this.testGeom.attributes.position.setXYZ(2,2,0,.5),this.testGeom.attributes.position.setXYZ(3,2,0,.5),this.testGeom.applyMatrix4((new fe.j).makeTranslation(0,9,0)),this.earL=new fe.k(this.testGeom,this.material.brownMat),this.earL.position.x=2,this.earL.position.z=2.5,this.earL.position.y=5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var l=new fe.c(2,4,4);this.eyeL=new fe.k(l,this.material.whiteMat),this.eyeL.position.x=5,this.eyeL.position.z=5.5,this.eyeL.position.y=2.9,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var d=new fe.c(.6,2,2);this.iris=new fe.k(d,this.material.blackMat),this.iris.position.x=1.2,this.iris.position.y=1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR),this.body.traverse((function(t){t instanceof fe.k&&(t.castShadow=!0,t.receiveShadow=!0)}))}},{key:"run",value:function(){this.status="running";var t=Math.min(ke.speed,ke.maxSpeed);this.runningCycle+=ke.delta*t*.7,this.runningCycle%=2*Math.PI;var e=this.runningCycle;this.body.position.y=6+4*Math.sin(e-Math.PI/2),this.body.rotation.x=.2+4*Math.sin(e-Math.PI/2)*.1,this.torso.rotation.x=4*Math.sin(e-Math.PI/2)*.1,this.torso.position.y=7+4*Math.sin(e-Math.PI/2)*.5,this.mouth.rotation.x=Math.PI/16+4*Math.cos(e)*.05,this.head.position.z=2+4*Math.sin(e-Math.PI/2)*.5,this.head.position.y=8+4*Math.cos(e-Math.PI/2)*.7,this.head.rotation.x=4*Math.sin(e+Math.PI)*.1-.2,this.earL.rotation.x=.8*Math.cos(-Math.PI/2+e),this.earR.rotation.x=1.2*Math.cos(-Math.PI/2+.2+e),this.eyeR.scale.y=this.eyeL.scale.y=.7+.6*Math.abs(Math.cos(-Math.PI/4+.5*e)),this.tail.rotation.x=4*Math.cos(Math.PI/2+e)*.3,this.pawFR.position.y=1.5+4*Math.sin(e),this.pawFR.rotation.x=Math.cos(e)*Math.PI/4,this.pawFR.position.z=6-4*Math.cos(e)*2,this.pawFL.position.y=1.5+4*Math.sin(.2+e),this.pawFL.rotation.x=Math.cos(e)*Math.PI/4,this.pawFL.position.z=6-4*Math.cos(.2+e)*2,this.pawBR.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBR.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBR.position.z=4*-Math.cos(Math.PI+e),this.pawBL.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBL.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBL.position.z=4*-Math.cos(Math.PI+e)}},{key:"jump",value:function(){if("jumping"!=this.status){this.status="jumping";var t=this,e=10/ke.speed;be.a.to(this.earL.rotation,e,{x:"+=.3",ease:ve.a.easeOut}),be.a.to(this.earR.rotation,e,{x:"-=.3",ease:ve.a.easeOut}),be.a.to(this.pawFL.rotation,e,{x:"+=.7",ease:ve.a.easeOut}),be.a.to(this.pawFR.rotation,e,{x:"-=.7",ease:ve.a.easeOut}),be.a.to(this.pawBL.rotation,e,{x:"+=.7",ease:ve.a.easeOut}),be.a.to(this.pawBR.rotation,e,{x:"-=.7",ease:ve.a.easeOut}),be.a.to(this.tail.rotation,e,{x:"+=1",ease:ve.a.easeOut}),be.a.to(this.mouth.rotation,e,{x:.5,ease:ve.a.easeOut}),be.a.to(this.mesh.position,e/2,{y:45,ease:ve.d.easeOut}),be.a.to(this.mesh.position,e/2,{y:0,ease:ve.e.easeIn,delay:e/2,onComplete:function(){t.status="running"}})}}},{key:"hang",value:function(){var t=this,e=ve.e.easeOut;be.a.killTweensOf(this.eyeL.scale),be.a.killTweensOf(this.eyeR.scale),this.body.rotation.x=0,this.torso.rotation.x=0,this.body.position.y=0,this.torso.position.y=7,be.a.to(this.mesh.rotation,1,{y:0,ease:e}),be.a.to(this.mesh.position,1,{y:-7,z:6,ease:e}),be.a.to(this.head.rotation,1,{x:Math.PI/6,ease:e,onComplete:function(){t.nod()}}),be.a.to(this.earL.rotation,1,{x:Math.PI/3,ease:e}),be.a.to(this.earR.rotation,1,{x:Math.PI/3,ease:e}),be.a.to(this.pawFL.position,1,{y:-1,z:3,ease:e}),be.a.to(this.pawFR.position,1,{y:-1,z:3,ease:e}),be.a.to(this.pawBL.position,1,{y:-2,z:-3,ease:e}),be.a.to(this.pawBR.position,1,{y:-2,z:-3,ease:e}),be.a.to(this.eyeL.scale,1,{y:1,ease:e}),be.a.to(this.eyeR.scale,1,{y:1,ease:e})}},{key:"nod",value:function(){var t=this,e=.5+Math.random(),i=-Math.PI/6+Math.random()*Math.PI/3;be.a.to(this.head.rotation,e,{y:i,ease:ve.e.easeInOut,onComplete:function(){t.nod()}});var a=Math.PI/4+Math.random()*Math.PI/6,o=Math.PI/4+Math.random()*Math.PI/6;be.a.to(this.earL.rotation,e,{x:a,ease:ve.e.easeInOut}),be.a.to(this.earR.rotation,e,{x:o,ease:ve.e.easeInOut});var n=Math.random()*Math.PI/2,s=8*Math.random()-4;be.a.to(this.pawBL.rotation,e/2,{x:n,ease:ve.c.easeInOut,yoyo:!0,repeat:2}),be.a.to(this.pawBL.position,e/2,{y:s,ease:ve.c.easeInOut,yoyo:!0,repeat:2});var r=Math.random()*Math.PI/2,c=8*Math.random()-4;be.a.to(this.pawBR.rotation,e/2,{x:r,ease:ve.c.easeInOut,yoyo:!0,repeat:2}),be.a.to(this.pawBR.position,e/2,{y:c,ease:ve.c.easeInOut,yoyo:!0,repeat:2});var h=Math.random()*Math.PI/2,l=8*Math.random()-4;be.a.to(this.pawFL.rotation,e/2,{x:h,ease:ve.c.easeInOut,yoyo:!0,repeat:2}),be.a.to(this.pawFL.position,e/2,{y:l,ease:ve.c.easeInOut,yoyo:!0,repeat:2});var d=Math.random()*Math.PI/2,u=8*Math.random()-4;be.a.to(this.pawFR.rotation,e/2,{x:d,ease:ve.c.easeInOut,yoyo:!0,repeat:2}),be.a.to(this.pawFR.position,e/2,{y:u,ease:ve.c.easeInOut,yoyo:!0,repeat:2});var m=Math.random()*Math.PI/8;be.a.to(this.mouth.rotation,e,{x:m,ease:ve.c.easeInOut});var p=2*Math.random()-1,g=2*Math.random()-1,f=this.iris,b=this.eyeR.children[0];be.a.to([f.position,b.position],e,{y:p,z:g,ease:ve.c.easeInOut}),Math.random()>.2&&be.a.to([this.eyeR.scale,this.eyeL.scale],e/8,{y:0,ease:ve.c.easeInOut,yoyo:!0,repeat:1})}}]),t}(),je=function(){function t(){Object(rt.a)(this,t),this.body=void 0,this.runningCycle=void 0,this.mesh=void 0,this.torso=void 0,this.head=void 0,this.mouth=void 0,this.heroHolder=void 0,this.tongue=void 0,this.pawFR=void 0,this.pawFL=void 0,this.pawBL=void 0,this.pawBR=void 0,this.tail=void 0,this.earR=void 0,this.nose=void 0,this.eyeL=void 0,this.earL=void 0,this.iris=void 0,this.eyeR=void 0,this.material=void 0,this.testGeom=void 0,this.testEarGeom=void 0,this.material=new xe,this.init()}return Object(ct.a)(t,[{key:"createHead",value:function(){}},{key:"init",value:function(){this.runningCycle=0,this.mesh=new fe.i,this.body=new fe.i;var t=new fe.c(15,15,20,1);this.torso=new fe.k(t,this.material.blackMat);var e=new fe.c(20,20,40,1);e.applyMatrix4((new fe.j).makeTranslation(0,0,20)),this.head=new fe.k(e,this.material.blackMat),this.head.position.z=12,this.head.position.y=2;var i=new fe.c(10,4,20,1);i.applyMatrix4((new fe.j).makeTranslation(0,-2,10)),this.mouth=new fe.k(i,this.material.blackMat),this.mouth.position.y=-8,this.mouth.rotation.x=.4,this.mouth.position.z=4,this.heroHolder=new fe.i,this.heroHolder.position.z=20,this.mouth.add(this.heroHolder),this.testGeom=new fe.b;var a=new fe.c(2,2,1,1);this.testGeom.merge(a),this.testGeom.attributes.position.setXYZ(4,1,0,0),this.testGeom.attributes.position.setXYZ(5,1,0,0),this.testGeom.attributes.position.setXYZ(0,-1,0,0);for(var o=0;o<3;o++){var n=new fe.k(this.testGeom,this.material.whiteMat);n.position.x=2.5*o-2.8,n.position.y=1,n.position.z=19;var s=new fe.k(this.testGeom,this.material.whiteMat);s.rotation.y=Math.PI/2,s.position.z=12+2.5*o,s.position.y=1,s.position.x=4;var r=s.clone();s.position.x=-4,this.mouth.add(n),this.mouth.add(s),this.mouth.add(r)}var c=new fe.c(6,1,14);c.applyMatrix4((new fe.j).makeTranslation(0,0,7)),this.tongue=new fe.k(c,this.material.pinkMat),this.tongue.position.z=2,this.tongue.rotation.x=-.2,this.mouth.add(this.tongue);var h=new fe.c(4,4,4,1);this.nose=new fe.k(h,this.material.pinkMat),this.nose.position.z=39.5,this.nose.position.y=9,this.head.add(this.nose),this.head.add(this.mouth);var l=new fe.c(2,3,3);this.eyeL=new fe.k(l,this.material.whiteMat),this.eyeL.position.x=10,this.eyeL.position.z=5,this.eyeL.position.y=5,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var d=new fe.c(.6,1,1);this.iris=new fe.k(d,this.material.blackMat),this.iris.position.x=1.2,this.iris.position.y=-1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR),this.testEarGeom=new fe.b;var u=new fe.c(8,6,2,1);this.testEarGeom.merge(u),this.testEarGeom.attributes.position.setXYZ(1,-4,0,0),this.testEarGeom.attributes.position.setXYZ(4,4,0,0),this.testEarGeom.attributes.position.setXYZ(5,4,0,-2),this.testEarGeom.attributes.position.setXYZ(0,-4,0,-2),this.testEarGeom.applyMatrix4((new fe.j).makeTranslation(0,3,0)),this.earL=new fe.k(this.testEarGeom,this.material.blackMat),this.earL.position.x=6,this.earL.position.z=1,this.earL.position.y=10,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.head.add(this.earR);l=new fe.c(2,4,4);var m=new fe.f(5,2,20,4,1);m.applyMatrix4((new fe.j).makeTranslation(0,10,0)),m.applyMatrix4((new fe.j).makeRotationX(-Math.PI/2)),m.applyMatrix4((new fe.j).makeRotationZ(Math.PI/4)),this.tail=new fe.k(m,this.material.blackMat),this.tail.position.z=-10,this.tail.position.y=4,this.torso.add(this.tail);var p=new fe.f(1.5,0,10);p.applyMatrix4((new fe.j).makeTranslation(0,-5,0)),this.pawFL=new fe.k(p,this.material.blackMat),this.pawFL.position.y=-7.5,this.pawFL.position.z=8.5,this.pawFL.position.x=5.5,this.torso.add(this.pawFL),this.pawFR=this.pawFL.clone(),this.pawFR.position.x=-this.pawFL.position.x,this.torso.add(this.pawFR),this.pawBR=this.pawFR.clone(),this.pawBR.position.z=-this.pawFL.position.z,this.torso.add(this.pawBR),this.pawBL=this.pawBR.clone(),this.pawBL.position.x=this.pawFL.position.x,this.torso.add(this.pawBL),this.mesh.add(this.body),this.torso.add(this.head),this.body.add(this.torso),this.torso.castShadow=!0,this.head.castShadow=!0,this.pawFL.castShadow=!0,this.pawFR.castShadow=!0,this.pawBL.castShadow=!0,this.pawBR.castShadow=!0,this.body.rotation.y=Math.PI/2}},{key:"run",value:function(){var t=Math.min(ke.speed,ke.maxSpeed);this.runningCycle+=ke.delta*t*.7,this.runningCycle%=2*Math.PI;var e=this.runningCycle;this.pawFR.rotation.x=Math.sin(e)*Math.PI/4,this.pawFR.position.y=-5.5-Math.sin(e),this.pawFR.position.z=7.5+Math.cos(e),this.pawFL.rotation.x=Math.sin(e+.4)*Math.PI/4,this.pawFL.position.y=-5.5-Math.sin(e+.4),this.pawFL.position.z=7.5+Math.cos(e+.4),this.pawBL.rotation.x=Math.sin(e+2)*Math.PI/4,this.pawBL.position.y=-5.5-Math.sin(e+3.8),this.pawBL.position.z=-7.5+Math.cos(e+3.8),this.pawBR.rotation.x=Math.sin(e+2.4)*Math.PI/4,this.pawBR.position.y=-5.5-Math.sin(e+3.4),this.pawBR.position.z=-7.5+Math.cos(e+3.4),this.torso.rotation.x=Math.sin(e)*Math.PI/8,this.torso.position.y=3-3*Math.sin(e+Math.PI/2),this.head.rotation.x=.4*Math.sin(-e-1)-.1,this.mouth.rotation.x=.2+.4*Math.sin(e+Math.PI+.3),this.tail.rotation.x=.2+Math.sin(e-Math.PI/2),this.eyeR.scale.y=.5+.5*Math.sin(e+Math.PI)}},{key:"nod",value:function(){var t=this,e=1+2*Math.random(),i=-Math.PI/3+.5*Math.random(),a=Math.PI/3-.2+.4*Math.random();be.a.to(this.head.rotation,e,{x:a,y:i,ease:ve.e.easeInOut,onComplete:function(){t.nod()}});var o=-Math.PI/4;be.a.to(this.tail.rotation,e/8,{y:o,ease:ve.c.easeInOut,yoyo:!0,repeat:8}),be.a.to([this.eyeR.scale,this.eyeL.scale],e/20,{y:0,ease:ve.c.easeInOut,yoyo:!0,repeat:1})}},{key:"sit",value:function(){var t=1.2,e=ve.e.easeOut,i=this;be.a.to(this.torso.rotation,t,{x:-1.3,ease:e}),be.a.to(this.torso.position,t,{y:-5,ease:e,onComplete:function(){i.nod()}}),be.a.to(this.head.rotation,t,{x:Math.PI/3,y:-Math.PI/3,ease:e}),be.a.to(this.tail.rotation,t,{x:2,y:Math.PI/4,ease:e}),be.a.to(this.pawBL.rotation,t,{x:-.1,ease:e}),be.a.to(this.pawBR.rotation,t,{x:-.1,ease:e}),be.a.to(this.pawFL.rotation,t,{x:1,ease:e}),be.a.to(this.pawFR.rotation,t,{x:1,ease:e}),be.a.to(this.mouth.rotation,t,{x:.3,ease:e}),be.a.to(this.eyeL.scale,t,{y:1,ease:e}),be.a.to(this.eyeR.scale,t,{y:1,ease:e})}}]),t}(),ye=function(){function t(){Object(rt.a)(this,t),this.testLeafGeom=void 0,this.testBodyGeom=void 0,this.angle=void 0,this.mesh=void 0,this.body=void 0,this.leaf1=void 0,this.leaf2=void 0,this.material=void 0,this.material=new xe,this.init()}return Object(ct.a)(t,[{key:"init",value:function(){this.angle=0,this.mesh=new fe.i;var t=new fe.f(5,3,10,4,1),e=new fe.e;e.merge(t),e.attributes.position.setXYZ(8,0,2,0),e.attributes.position.setXYZ(9,0,-3,0),this.body=new fe.k(e,this.material.pinkMat);var i=new fe.c(5,3,10,4,1),a=new fe.b;a.merge(i),a.applyMatrix4((new fe.j).makeTranslation(0,5,0)),a.attributes.position.setXYZ(2,-1,0,0),a.attributes.position.setXYZ(3,-1,0,0),a.attributes.position.setXYZ(6,1,0,0),a.attributes.position.setXYZ(7,1,0,0),this.leaf1=new fe.k(a,this.material.greenMat),this.leaf1.position.y=7,this.leaf1.rotation.z=.3,this.leaf1.rotation.x=.2,this.leaf2=this.leaf1.clone(),this.leaf2.scale.set(1,1.3,1),this.leaf2.position.y=7,this.leaf2.rotation.z=-.3,this.leaf2.rotation.x=-.2,this.mesh.add(this.body),this.mesh.add(this.leaf1),this.mesh.add(this.leaf2),this.body.traverse((function(t){t instanceof fe.k&&(t.castShadow=!0,t.receiveShadow=!0)}))}}]),t}(),Oe=function(){function t(){Object(rt.a)(this,t),this.eyeR=void 0,this.iris=void 0,this.body=void 0,this.mesh=void 0,this.head=void 0,this.mouth=void 0,this.tongue=void 0,this.tail=void 0,this.earR=void 0,this.nose=void 0,this.eyeL=void 0,this.earL=void 0,this.status=void 0,this.angle=void 0,this.material=void 0,this.material=new xe,this.init()}return Object(ct.a)(t,[{key:"init",value:function(){this.angle=0,this.status="ready",this.mesh=new fe.i;var t=new fe.c(6,6,6,1);this.body=new fe.k(t,this.material.blackMat);var e=new fe.c(5,5,7,1);this.head=new fe.k(e,this.material.lightBrownMat),this.head.position.z=6,this.head.position.y=-.5;var i=new fe.c(1.5,1.5,1.5,1);this.nose=new fe.k(i,this.material.blackMat),this.nose.position.z=4,this.nose.position.y=2;var a=new fe.c(1,3,3);this.eyeL=new fe.k(a,this.material.whiteMat),this.eyeL.position.x=2.2,this.eyeL.position.z=-.5,this.eyeL.position.y=.8,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var o=new fe.c(.5,1,1);this.iris=new fe.k(o,this.material.blackMat),this.iris.position.x=.5,this.iris.position.y=.8,this.iris.position.z=.8,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x;var n=new fe.c(.5,2,.5,1);n.applyMatrix4((new fe.j).makeTranslation(0,1,0));for(var s=0;s<9;s++){var r=s%3,c=Math.floor(s/3),h=new fe.k(n,this.material.blackMat);h.rotation.x=-Math.PI/2+Math.PI/12*r-.5+Math.random(),h.position.z=-3,h.position.y=2*r-2,h.position.x=2*c-2,this.body.add(h);var l=new fe.k(n,this.material.blackMat);l.position.y=3,l.position.x=2*r-2,l.position.z=2*c-2,l.rotation.z=Math.PI/6-Math.PI/6*r-.5+Math.random(),this.body.add(l);var d=new fe.k(n,this.material.blackMat);d.position.x=3,d.position.y=2*r-2,d.position.z=2*c-2,d.rotation.z=-Math.PI/2+Math.PI/12*r-.5+Math.random(),this.body.add(d);var u=new fe.k(n,this.material.blackMat);u.position.x=-3,u.position.y=2*r-2,u.position.z=2*c-2,u.rotation.z=Math.PI/2-Math.PI/12*r-.5+Math.random(),this.body.add(u)}this.head.add(this.eyeR);var m=new fe.c(2,2,.5,1);this.earL=new fe.k(m,this.material.lightBrownMat),this.earL.position.x=2.5,this.earL.position.z=-2.5,this.earL.position.y=2.5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var p=new fe.c(1,1,.5,1);this.mouth=new fe.k(p,this.material.blackMat),this.mouth.position.z=3.5,this.mouth.position.y=-1.5,this.head.add(this.mouth),this.mesh.add(this.body),this.body.add(this.head),this.head.add(this.nose),this.mesh.traverse((function(t){t instanceof fe.k&&(t.castShadow=!0,t.receiveShadow=!0)}))}},{key:"nod",value:function(){var t=this,e=.1+.5*Math.random(),i=-Math.PI/4+Math.random()*Math.PI/2;be.a.to(this.head.rotation,e,{y:i,onComplete:function(){t.nod()}})}}]),t}(),Me=function(){function t(){Object(rt.a)(this,t),this.mesh=void 0,this.material=void 0,this.material=new xe,this.init()}return Object(ct.a)(t,[{key:"init",value:function(){var t=50+150*Math.random(),e=1+5*Math.random(),i=5+5*Math.random(),a=[this.material.blackMat,this.material.brownMat,this.material.pinkMat,this.material.whiteMat,this.material.greenMat,this.material.lightBrownMat,this.material.pinkMat],o=this.material.blackMat,n=new fe.f(e,i,t,3,3);n.applyMatrix4((new fe.j).makeTranslation(0,t/2,0)),this.mesh=new fe.k(n,o);for(var s=this.mesh.geometry.attributes.position,r=new fe.r,c=0;c<s.count;c++){r.fromBufferAttribute(s,c),r.applyMatrix4(this.mesh.matrixWorld);var h=Math.random(),l=r;if(l.x+=-h+Math.random()*h*2,l.y+=-h+Math.random()*h*2,l.z+=-h+Math.random()*h*2,n.computeVertexNormals(),Math.random()>.7){var d=3*Math.random(),u=new fe.c(d,d,d,1),m=a[Math.floor(Math.random()*a.length)],p=new fe.k(u,m);p.position.x=l.x,p.position.y=l.y+3,p.position.z=l.z,p.rotation.x=Math.random()*Math.PI,p.rotation.y=Math.random()*Math.PI,this.mesh.add(p)}if(Math.random()>.5&&l.y>10&&l.y<t-10){var g=3+5*Math.random(),f=.2+Math.random(),b=new fe.f(f/2,f,g,3,1);b.applyMatrix4((new fe.j).makeTranslation(0,g/2,0));var v=new fe.k(b,o);v.position.x=l.x,v.position.y=l.y,v.position.z=l.z;var x=new fe.r(l.x,2,l.z),w=new fe.r(0,1,0);v.quaternion.setFromUnitVectors(w,x.clone().normalize()),this.mesh.add(v)}}this.mesh.castShadow=!0}}]),t}(),Se=function(){function t(){Object(rt.a)(this,t),this.mesh=void 0,this.trunc=void 0,this.init()}return Object(ct.a)(t,[{key:"init",value:function(){this.mesh=new fe.n,this.trunc=new Me,this.mesh.add(this.trunc.mesh)}}]),t}(),Ie=function(){function t(){Object(rt.a)(this,t),this.mesh=void 0,this.parts=void 0,this.material=void 0,this.material=new xe,this.init()}return Object(ct.a)(t,[{key:"init",value:function(){this.mesh=new fe.i;var t=new fe.c(10,10,10,1),e=new fe.c(5,5,5,1);this.parts=[];for(var i=0;i<10;i++){var a=new fe.k(t,this.material.pinkMat),o=new fe.k(e,this.material.greenMat);o.scale.set(.5,.5,.5),this.parts.push(a),this.parts.push(o),this.mesh.add(a),this.mesh.add(o)}}},{key:"explose",value:function(){for(var t=0;t<this.parts.length;t++){var e=100*Math.random()-50,i=100*Math.random()-50,a=100*Math.random()-50,o=this.parts[t];o.position.set(0,0,0),o.scale.set(1,1,1),o.visible=!0;var n=.5+.5*Math.random();be.a.to(o.position,n,{x:e,y:i,z:a,ease:ve.e.easeOut}),be.a.to(o.scale,n,{x:.01,y:.01,z:.01,ease:ve.e.easeOut,onComplete:ke.removeParticle,onCompleteParams:[o]})}}}]),t}(),ke=function(){function t(){var e=this;Object(rt.a)(this,t),this.HEIGHT=void 0,this.WIDTH=void 0,this.windowHalfX=void 0,this.windowHalfY=void 0,this.mousePos=void 0,this.hero=void 0,this.monster=void 0,this.carrot=void 0,this.obstacle=void 0,this.bonusParticles=void 0,this.button=void 0,this.fieldGameOver=void 0,this.fieldDistance=void 0,this.fieldHighScore=void 0,this.PI=void 0,this.window=void 0,this.material=void 0,this.aspectRatio=void 0,this.audio=void 0,this.camera=void 0,this.cameraPosGame=void 0,this.cameraPosGameOver=void 0,this.collisionBonus=void 0,this.collisionObstacle=void 0,this.container=void 0,this.distance=void 0,this.farPlane=void 0,this.fieldOfView=void 0,this.floor=void 0,this.floorGrass=void 0,this.floorRadius=void 0,this.floorRotation=void 0,this.floorShadow=void 0,this.globalLight=void 0,this.initSpeed=void 0,this.level=void 0,this.levelInterval=void 0,this.levelUpdateFreq=void 0,this.malusClearAlpha=void 0,this.malusClearColor=void 0,this.monsterAcceleration=void 0,this.monsterPos=void 0,this.monsterPosTarget=void 0,this.nearPlane=void 0,this.renderer=void 0,this.scene=void 0,this.shadowLight=void 0,this.polyCountValue=void 0,this.drawCallsValue=void 0,this.texturesInMemoryValue=void 0,this.geometriesInMemoryValue=void 0,this.highScore=void 0,this.pauseOrPlay=function(){e.audio&&(e.audio.paused||e.audio.pause())},this.init=function(){e.initScreenAnd3D(),e.createLights(),e.createFloor(),e.createHero(),e.createMonster(),e.createFir(),e.createCarrot(),e.createBonusParticles(),e.createObstacle(),e.initUI(),e.resetGame(),e.loop()},this.initScreenAnd3D=function(){e.HEIGHT=window.innerHeight,e.WIDTH=window.innerWidth,e.windowHalfX=e.WIDTH/2,e.windowHalfY=e.HEIGHT/2,e.scene=new fe.p,e.scene.fog=new fe.h(14084838,160,350),e.createCamera(),e.createRenderer(),e.container=document.getElementById("world"),e.button=document.getElementById("button"),e.container.appendChild(e.renderer.domElement),window.addEventListener("resize",e.handleWindowResize,!1),document.addEventListener("mousedown",e.handleMouseDown,!1),document.addEventListener("touchend",e.handleMouseDown,!1),e.button.addEventListener("click",e.pauseOrPlay),e.audio=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/264161/Antonio-Vivaldi-Summer_01.mp3")},this.handleWindowResize=function(){e.HEIGHT=window.innerHeight,e.WIDTH=window.innerWidth,e.windowHalfX=e.WIDTH/2,e.windowHalfY=e.HEIGHT/2,e.renderer.setSize(e.WIDTH,e.HEIGHT),e.camera.aspect=e.WIDTH/e.HEIGHT,e.camera.updateProjectionMatrix()},this.handleMouseDown=function(){"play"==t.gameStatus?e.hero.jump():"readyToReplay"==t.gameStatus&&e.replay()},this.createCamera=function(){e.aspectRatio=e.WIDTH/e.HEIGHT,e.fieldOfView=50,e.nearPlane=10,e.farPlane=2e3,window.innerWidth<=768?(e.fieldOfView=50,e.farPlane=1200):window.innerWidth>=769&&window.innerWidth<=1080?(e.fieldOfView=50,e.farPlane=1475):(e.fieldOfView=40,e.farPlane=1800),e.camera=new fe.o(e.fieldOfView,e.aspectRatio,e.nearPlane,e.farPlane),e.camera.position.x=0,e.camera.position.z=e.cameraPosGame,e.camera.position.y=30,e.camera.lookAt(new fe.r(0,30,0))},this.createRenderer=function(){e.renderer=new fe.s({alpha:!0,antialias:!0}),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.setClearColor(e.malusClearColor,e.malusClearAlpha),e.renderer.setSize(e.WIDTH,e.HEIGHT),e.renderer.shadowMap.enabled=!0},this.createLights=function(){e.globalLight=new fe.a(16777215,.9),e.shadowLight=new fe.g(16777215,1),e.shadowLight.position.set(-30,40,20),e.shadowLight.castShadow=!0,e.shadowLight.shadow.camera.left=-400,e.shadowLight.shadow.camera.right=400,e.shadowLight.shadow.camera.top=400,e.shadowLight.shadow.camera.bottom=-400,e.shadowLight.shadow.camera.near=1,e.shadowLight.shadow.camera.far=2e3,e.shadowLight.shadow.mapSize.width=e.shadowLight.shadow.mapSize.height=2048,e.scene.add(e.globalLight),e.scene.add(e.shadowLight)},this.createFloor=function(){e.floorShadow=new fe.k(new fe.q(e.floorRadius,50,50),new fe.m({color:8044430,specular:0,shininess:1,transparent:!0,opacity:.5})),e.floorShadow.receiveShadow=!0,e.floorGrass=new fe.k(new fe.q(e.floorRadius-.5,50,50),new fe.l({color:8044430})),e.floorGrass.receiveShadow=!1,e.floor=new fe.i,e.floor.position.y=-e.floorRadius,e.floor.add(e.floorShadow),e.floor.add(e.floorGrass),e.scene.add(e.floor)},this.createHero=function(){e.hero=new we,e.hero.mesh.rotation.y=Math.PI/2,e.scene.add(e.hero.mesh),e.hero.nod()},this.createMonster=function(){e.monster=new je,e.monster.mesh.position.z=20,e.scene.add(e.monster.mesh),e.updateMonsterPosition()},this.updateMonsterPosition=function(){e.monster.run(),e.monsterPosTarget-=t.delta*e.monsterAcceleration,e.monsterPos+=(e.monsterPosTarget-e.monsterPos)*t.delta,e.monsterPos<.56&&e.gameOver();var i=Math.PI*e.monsterPos;e.monster.mesh.position.y=-e.floorRadius+Math.sin(i)*(e.floorRadius+12),e.monster.mesh.position.x=Math.cos(i)*(e.floorRadius+15),e.monster.mesh.rotation.z=-Math.PI/2+i},this.gameOver=function(){console.log("fun _> gameOver"),e.fieldGameOver.className="show",t.gameStatus="gameOver",e.monster.sit(),e.hero.hang(),e.monster.heroHolder.add(e.hero.mesh),be.a.to(e,1,{speed:0}),be.a.to(e.camera.position,3,{z:e.cameraPosGameOver,y:60,x:-30}),e.carrot.mesh.visible=!1,e.obstacle.mesh.visible=!1,clearInterval(e.levelInterval)},this.replay=function(){t.gameStatus="preparingToReplay",e.fieldGameOver.className="",be.a.killTweensOf(e.monster.pawFL.position),be.a.killTweensOf(e.monster.pawFR.position),be.a.killTweensOf(e.monster.pawBL.position),be.a.killTweensOf(e.monster.pawBR.position),be.a.killTweensOf(e.monster.tail.rotation),be.a.killTweensOf(e.monster.head.rotation),be.a.killTweensOf(e.monster.eyeL.scale),be.a.killTweensOf(e.monster.eyeR.scale),e.monster.tail.rotation.y=0,be.a.to(e.camera.position,3,{z:e.cameraPosGame,x:0,y:30,ease:ve.e.easeInOut}),be.a.to(e.monster.torso.rotation,2,{x:0,ease:ve.e.easeInOut}),be.a.to(e.monster.torso.position,2,{y:0,ease:ve.e.easeInOut}),be.a.to(e.monster.pawFL.rotation,2,{x:0,ease:ve.e.easeInOut}),be.a.to(e.monster.pawFR.rotation,2,{x:0,ease:ve.e.easeInOut}),be.a.to(e.monster.mouth.rotation,2,{x:.5,ease:ve.e.easeInOut}),be.a.to(e.monster.head.rotation,2,{y:0,x:-.3,ease:ve.e.easeInOut}),be.a.to(e.hero.mesh.position,2,{x:20,ease:ve.e.easeInOut}),be.a.to(e.hero.head.rotation,2,{x:0,y:0,ease:ve.e.easeInOut}),be.a.to(e.monster.mouth.rotation,2,{x:.2,ease:ve.e.easeInOut}),be.a.to(e.monster.mouth.rotation,1,{x:.4,ease:ve.e.easeIn,delay:1,onComplete:e.resetGame})},this.createFir=function(){for(var t=0;t<100;t++){var i=t*(2*Math.PI)/100,a=Math.PI/2;a+=Math.random()>.05?.25+.3*Math.random():-.35-.1*Math.random();var o=new Se;o.mesh.position.x=Math.sin(a)*Math.cos(i)*e.floorRadius,o.mesh.position.y=Math.sin(a)*Math.sin(i)*(e.floorRadius-10),o.mesh.position.z=Math.cos(a)*e.floorRadius;var n=o.mesh.position.clone(),s=new fe.r(0,1,0);o.mesh.quaternion.setFromUnitVectors(s,n.clone().normalize()),e.floor.add(o.mesh)}},this.createCarrot=function(){e.carrot=new ye,e.scene.add(e.carrot.mesh)},this.updateCarrotPosition=function(){e.carrot.mesh.rotation.y+=6*t.delta,e.carrot.mesh.rotation.z=Math.PI/2-(e.floorRotation+e.carrot.angle),e.carrot.mesh.position.y=-e.floorRadius+Math.sin(e.floorRotation+e.carrot.angle)*(e.floorRadius+50),e.carrot.mesh.position.x=Math.cos(e.floorRotation+e.carrot.angle)*(e.floorRadius+50)},this.updateObstaclePosition=function(){"flying"!=e.obstacle.status&&(e.floorRotation+e.obstacle.angle>2.5&&(e.obstacle.angle=-e.floorRotation+.3*Math.random(),e.obstacle.body.rotation.y=Math.random()*Math.PI*2),e.obstacle.mesh.rotation.z=e.floorRotation+e.obstacle.angle-Math.PI/2,e.obstacle.mesh.position.y=-e.floorRadius+Math.sin(e.floorRotation+e.obstacle.angle)*(e.floorRadius+3),e.obstacle.mesh.position.x=Math.cos(e.floorRotation+e.obstacle.angle)*(e.floorRadius+3))},this.updateFloorRotation=function(){e.floorRotation+=.03*t.delta*t.speed,e.floorRotation%=2*Math.PI,e.floor.rotation.z=e.floorRotation},this.createObstacle=function(){e.obstacle=new Oe,e.obstacle.body.rotation.y=-Math.PI/2,e.obstacle.mesh.scale.set(1.1,1.1,1.1),e.obstacle.mesh.position.y=e.floorRadius+4,e.obstacle.nod(),e.scene.add(e.obstacle.mesh)},this.createBonusParticles=function(){e.bonusParticles=new Ie,e.bonusParticles.mesh.visible=!1,e.scene.add(e.bonusParticles.mesh)},this.checkCollision=function(){var t=e.hero.mesh.position.clone().sub(e.carrot.mesh.position.clone()),i=e.hero.mesh.position.clone().sub(e.obstacle.mesh.position.clone());t.length()<e.collisionBonus&&e.getBonus(),i.length()<e.collisionObstacle&&"flying"!=e.obstacle.status&&e.getMalus()},this.getBonus=function(){e.bonusParticles.mesh.position.copy(e.carrot.mesh.position),e.bonusParticles.mesh.visible=!0,e.bonusParticles.explose(),e.carrot.angle+=Math.PI/2,e.monsterPosTarget+=.025},this.getMalus=function(){e.obstacle.status="flying";var t=Math.random()>.5?-20-10*Math.random():20+5*Math.random();be.a.to(e.obstacle.mesh.position,4,{x:t,y:50*Math.random(),z:350,ease:ve.e.easeOut}),be.a.to(e.obstacle.mesh.rotation,4,{x:3*Math.PI,z:3*Math.PI,y:6*Math.PI,ease:ve.e.easeOut,onComplete:function(){e.obstacle.status="ready",e.obstacle.body.rotation.y=Math.random()*Math.PI*2,e.obstacle.angle=-e.floorRotation-.4*Math.random(),e.obstacle.angle=e.obstacle.angle%(2*Math.PI),e.obstacle.mesh.rotation.x=0,e.obstacle.mesh.rotation.y=0,e.obstacle.mesh.rotation.z=0,e.obstacle.mesh.position.z=0}}),e.monsterPosTarget-=.04,be.a.from(e,.5,{malusClearAlpha:.5,onUpdate:function(){e.renderer.setClearColor(e.malusClearColor,e.malusClearAlpha)}})},this.updateDistance=function(){e.distance+=t.delta*t.speed;var i=e.distance/2;e.fieldDistance.innerHTML=Math.floor(i),e.updateStats(),e.fieldHighScore>e.highScore?e.fieldHighScore.innerHTML=Math.floor(i):e.fieldHighScore=e.highScore,localStorage.setItem("highScore",Math.floor(i).toLocaleString())},this.updateStats=function(){e.polyCountValue.innerHTML=e.renderer.info.render.triangles.toLocaleString(),e.drawCallsValue.innerHTML=e.renderer.info.render.calls.toLocaleString(),e.texturesInMemoryValue.innerHTML=e.renderer.info.memory.textures.toLocaleString(),e.geometriesInMemoryValue.innerHTML=e.renderer.info.memory.geometries.toLocaleString()},this.updateLevel=function(){t.speed>=t.maxSpeed||(e.level++,t.speed+=2)},this.loop=function(){t.delta=t.clock.getDelta(),e.updateFloorRotation(),"play"==t.gameStatus&&("running"==e.hero.status&&e.hero.run(),e.updateDistance(),e.updateMonsterPosition(),e.updateCarrotPosition(),e.updateObstaclePosition(),e.checkCollision()),e.render(),requestAnimationFrame(e.loop)},this.render=function(){e.renderer.render(e.scene,e.camera)},this.resetGame=function(){console.log("fun _> resetGame"),e.scene.add(e.hero.mesh),e.hero.mesh.rotation.y=Math.PI/2,e.hero.mesh.position.y=0,e.hero.mesh.position.z=0,e.hero.mesh.position.x=0,e.monsterPos=.56,e.monsterPosTarget=.65,t.speed=e.initSpeed,e.level=0,e.distance=0,e.carrot.mesh.visible=!0,e.obstacle.mesh.visible=!0,t.gameStatus="play",e.hero.status="running",e.hero.nod(),e.updateLevel(),e.levelInterval=setInterval(e.updateLevel,e.levelUpdateFreq)},this.initUI=function(){e.fieldDistance=document.getElementById("distValue"),e.fieldGameOver=document.getElementById("gameoverInstructions"),e.fieldHighScore=document.getElementById("highScoreValue"),e.polyCountValue=document.getElementById("polyCountValue"),e.drawCallsValue=document.getElementById("drawCallsValue"),e.texturesInMemoryValue=document.getElementById("texturesInMemoryValue"),e.geometriesInMemoryValue=document.getElementById("geometriesInMemoryValue")},this.material=new xe,t.delta=0,t.maxSpeed=48,t.speed=6,t.gameStatus="play",t.clock=new fe.d,this.highScore=localStorage.getItem("highScore"),this.fieldHighScore=localStorage.getItem("highScore"),this.floorRadius=200,this.distance=0,this.level=1,this.levelUpdateFreq=3e3,this.initSpeed=5,this.monsterPos=.65,this.monsterPosTarget=.65,this.floorRotation=0,this.collisionObstacle=10,this.collisionBonus=20,this.cameraPosGame=160,this.cameraPosGameOver=260,this.monsterAcceleration=.004,this.malusClearColor=11815737,this.malusClearAlpha=0,window.addEventListener("load",this.init,!1)}return Object(ct.a)(t,null,[{key:"removeParticle",value:function(t){t.visible=!1}}]),t}();ke.delta=void 0,ke.gameStatus=void 0,ke.clock=void 0,ke.speed=void 0,ke.maxSpeed=void 0,ke.getWorldVerticesPos=function(t){if(t.isMesh)for(var e=t.geometry.attributes.position,i=new fe.r,a=0,o=e.count;a<o;a++)i.fromBufferAttribute(e,a),i.applyMatrix4(t.matrixWorld)};var Le=function(){Object(a.useEffect)((function(){var t=new ke;t.init(),console.log("Game Status",ke.gameStatus,"\nHero Status",t&&t.hero&&t.hero.status)}));return Object(ut.jsxs)("div",{id:"world",children:[Object(ut.jsx)("div",{id:"gameoverInstructions",children:"Game Over"}),Object(ut.jsxs)("div",{className:"stats",children:[Object(ut.jsxs)("div",{className:"statsContainer",children:[Object(ut.jsx)("span",{className:"statsLabel",children:"Scene polyCount:"}),Object(ut.jsx)("div",{id:"polyCountValue",children:"000"})]}),Object(ut.jsxs)("div",{className:"statsContainer",children:["Active Draw Calls:",Object(ut.jsx)("div",{id:"drawCallsValue",children:"000"})]}),Object(ut.jsxs)("div",{className:"statsContainer",children:["Textures in Memory:",Object(ut.jsx)("div",{id:"texturesInMemoryValue",children:"000"})]}),Object(ut.jsxs)("div",{className:"statsContainer",children:["Geometries in Memory:",Object(ut.jsx)("div",{id:"geometriesInMemoryValue",children:"000"})]})]}),Object(ut.jsxs)("div",{id:"dist",children:[Object(ut.jsx)("div",{className:"label",children:"distance"}),Object(ut.jsx)("div",{id:"distValue",children:"000"})]}),Object(ut.jsxs)("div",{id:"highScore",children:["HighScore:",Object(ut.jsx)("div",{id:"highScoreValue",children:"000"})]}),Object(ut.jsxs)("div",{id:"instructions",children:["Click to jump",Object(ut.jsx)("span",{className:"lightInstructions",children:"\u2014 Grab the carrots / avoid the hedgehogs"}),Object(ut.jsx)("button",{id:"button",children:"sound"})]}),Object(ut.jsx)($t,{})]})},Ee=function t(e){var i=this;Object(rt.a)(this,t),this.n=void 0,this.result=void 0,this.tw=void 0,this.image=void 0,this.gameEngine=void 0,this.update=function(){},this.firstRender=function(t){t.fillStyle="#383933",t.fillRect(0,0,i.tw,i.gameEngine.HEIGHT),t.fillStyle="#2a2b26",t.fillRect(0,0,10,i.gameEngine.HEIGHT),t.fillStyle="#484235",t.fillRect(0,i.gameEngine.HEIGHT-150,i.tw,10),t.fillStyle="#747362",t.fillRect(0,i.gameEngine.HEIGHT-140,i.tw,140)},this.secondRender=function(t){var e=t.createPattern(i.result,"repeat");t.fillStyle=e,t.fillRect(0,0,2*i.gameEngine.WIDTH,i.gameEngine.HEIGHT)},this.draw=function(t){var e=i.gameEngine.distance%i.gameEngine.WIDTH/2;t.save(),t.translate(-e,0),t.drawImage(i.image,0,0),t.fill(),t.restore()},this.gameEngine=e,this.tw=this.gameEngine.WIDTH/12,this.result=this.gameEngine.renderToCanvas(this.tw,this.gameEngine.HEIGHT,this.firstRender),this.n=this.gameEngine.renderToCanvas(2*this.gameEngine.WIDTH,this.gameEngine.HEIGHT,this.secondRender),this.image=this.n},He=Math.PI/180,Te=function t(e){var i=this;Object(rt.a)(this,t),this.node=void 0,this.engine=void 0,this.getAngle=function(t,e,i,a){var o=t-i,n=e-a;return Math.atan2(n,o)},this.getDegree=function(t,e,a,o){return i.getAngle(t,e,a,o)/He},this.update=function(){},this.draw=function(t){for(var e,a,o,n,s=i.engine.walls.length,r=0;r<s;r+=1)e={x:i.engine.walls[r].x-i.engine.walls[r].width/2,y:i.engine.WALL_HEIGHT},a={x:i.engine.walls[r].x+i.engine.walls[r].width/2,y:i.engine.WALL_HEIGHT},o=i.getDegree(e.x-i.engine.distance,e.y,i.node.x,i.node.y),n=i.getDegree(a.x-i.engine.distance,a.y,i.node.x,i.node.y),t.save(),t.translate(-i.engine.distance,0),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(a.x,a.y),t.lineTo(a.x+200*Math.cos(n*He),a.y+200*Math.sin(n*He)),t.lineTo(e.x+200*Math.cos(o*He),e.y+200*Math.sin(o*He)),t.closePath(),t.fillStyle=i.engine.gradients.shadow,t.fill(),t.restore()},this.engine=e,this.node={x:this.engine.WIDTH/2,y:this.engine.HEIGHT/4}},Re=Math.PI/180;Math.randMinMax||(Math.randMinMax=function(t,e,i){var a=t+Math.random()*(e-t);return i?a=Math.round(a):a});var Pe=function t(e,i){var a=this;for(Object(rt.a)(this,t),this.life=void 0,this.particles=void 0,this.val=void 0,this.x=void 0,this.y=void 0,this.engine=void 0,this.getAngle=function(t,e,i,a){var o=t-i,n=e-a;return Math.atan2(n,o)},this.getDegree=function(t,e,i,o){return a.getAngle(t,e,i,o)/Re},this.update=function(t){if(a.life<.5)for(var e,i=0;i<40;i+=1)(e=a.particles[i]).degree+=e.vd*t,e.speed+=e.vs,e.speed<0&&(e.speed=0),e.x+=Math.cos(e.degree*Re)*e.speed*t,e.y+=Math.sin(e.degree*Re)*e.speed*t,e.x-=t*a.engine.speed,e.y>e.parent.y+20&&(e.degree*=-1)},this.draw=function(t){if(a.life<.5)for(var e,i=0;i<40;i+=1)e=a.particles[i],t.save(),t.translate(e.x,e.y),t.rotate(e.degree*Re),t.fillStyle=e.color,t.fillRect(-e.size,-e.size,2*e.size,2*e.size),t.restore()},this.engine=i,this.life=0,this.x=e.x,this.y=e.y,this.particles=[],this.val=0;this.val<40;this.val+=1)this.particles.push({parent:this,x:this.x,y:this.y,color:"rgba(255,255,255,".concat(Math.random(),")"),speed:Math.randMinMax(100,300,void 0),size:Math.randMinMax(2,10,void 0),degree:Math.randMinMax(0,360,void 0),vd:Math.randMinMax(-30,0,void 0),vs:Math.randMinMax(-12,-6,void 0)})},ze=Math.PI/180,Ne=function t(e,i){var a=this;return Object(rt.a)(this,t),this.skin=void 0,this.img=void 0,this.gun=void 0,this.x=void 0,this.y=void 0,this.vx=void 0,this.vy=void 0,this.degree=void 0,this.counter=void 0,this.width=void 0,this.height=void 0,this.gunDegree=void 0,this.currentGunDegree=void 0,this.isRunning=void 0,this.isJumping=void 0,this.isLanding=void 0,this.engine=void 0,this.localY=void 0,this.update=function(t){console.log("updated players"),a.counter+=1*t,a.currentGunDegree!==a.gunDegree&&(a.currentGunDegree+=.1*(a.gunDegree-a.currentGunDegree)),a.isJumping&&(a.degree+=.5,a.degree>30&&(a.degree=30),a.vy>0&&a.y>=a.engine.HEIGHT-70&&(a.onLanding(),a.setGunDegree(0),a.isLanding=!0,a.isJumping=!1)),a.isLanding&&(a.degree+=10,a.degree>=355&&(a.onLandingEnd(),a.degree=0,a.isLanding=!1,a.isRunning=!0)),a.vy+=a.engine.GRAVITY,a.y+=a.vy*t,a.y>a.localY&&(a.y=a.localY)},this.draw=function(t){var e=a.width,i=a.height,o=a.x,n=a.y+2.5*Math.sin(8*a.counter);n-i/2<=0&&(a.y=i/2,a.vy=0),a.img.onload=function(){t.save(),t.translate(o,n),t.rotate(a.degree*ze),t.drawImage(a.img,-e/2,-i/2,e,i),console.log("IMAGE Context",t),t.restore(),t.save(),180===a.gunDegree?t.translate(o+8,n+15):t.translate(o-13,n+5),t.rotate(a.currentGunDegree*ze),t.drawImage(a.gun,-5,-5),t.restore()}},this.jump=function(){a.isLanding||(a.isRunning?(a.onJumping(),a.setGunDegree(100),a.vy=-650,a.isJumping=!0,a.isRunning=!1):a.isJumping&&a.inWallBoundaries()&&(a.onLanding(),a.setGunDegree(180),a.vy=-450))},this.onJumping=function(){a.engine.setSpeed(a.engine.JUMP_INCREASE,1),a.engine.addToWorld(new Pe({x:a.x,y:a.y},a.engine))},this.setGunDegree=function(t){a.gunDegree=t},this.inWallBoundaries=function(){for(var t=a.engine.distance+a.x,e=a.engine.walls.length,i=0;i<e;i+=1)if(a.y<a.engine.WALL_HEIGHT&&t>a.engine.walls[i].x-a.engine.walls[i].width/2&&t<a.engine.walls[i].x+a.engine.walls[i].width/2)return!0;return!1},this.onLanding=function(){a.engine.addToWorld(new Pe({x:a.x,y:a.y},a.engine)),a.engine.setSpeed(a.engine.speed+a.engine.NADE_INCREASE,1),a.engine.setScore(a.engine.score+100),a.engine.setJumps(a.engine.jumps+1)},this.onLandingEnd=function(){a.engine.score>a.engine.highscore&&a.engine.setHighscore(a.engine.score),a.engine.setSpeed(a.engine.MIN_SPEED,.1),a.engine.setScore(0),a.engine.setJumps(0)},this.engine=i,this.skin=this,this.img=new Image,this.gun=new Image,this.x=e.x,this.localY=e.y,this.vx=0,this.vy=0,this.degree=0,this.counter=0,this.width=7,this.height=7,this.gunDegree=0,this.currentGunDegree=0,this.isRunning=!0,this.isJumping=!1,this.isLanding=!1,this.img.onload=function(){a.skin.width=a.width,a.skin.height=a.height,a.img.src="../assets/razor.png",a.gun.src="../assets/nader.png"},this.img.src="../assets/razor.png",this.gun.src="../assets/nader.png",this},Be=function t(e,i){var a=this;Object(rt.a)(this,t),this.targetWidth=void 0,this.width=void 0,this.x=void 0,this.engine=void 0,this.spawn=function(){a.x=a.engine.lastWallX+a.engine.WIDTH,a.engine.speed===a.engine.MAX_SPEED&&(a.x-=a.engine.Math.randMinMax(0,200,void 0)),a.engine.lastWallX=a.x},this.resize=function(t){a.targetWidth=t},this.update=function(){a.width!==a.targetWidth&&(a.width+=.1*(a.targetWidth-a.width)),a.engine.distance>a.x+a.width/2&&a.spawn()},this.draw=function(t){var e=a.width,i=a.engine.WALL_HEIGHT;t.save(),t.translate(a.x-a.engine.distance,0),t.fillStyle=a.engine.gradients.wall,t.fillRect(-e/2,0,e,i),t.restore()},this.x=e.x,this.width=e.width,this.targetWidth=e.width,this.engine=i},Ce=function(){function t(){var e=this;Object(rt.a)(this,t),this.ctx=void 0,this.canvas=void 0,this.d0=void 0,this.particles=void 0,this.gradients=void 0,this.WIDTH=void 0,this.HEIGHT=void 0,this.WALL_HEIGHT=void 0,this.GRAVITY=void 0,this.MIN_SPEED=void 0,this.MAX_SPEED=void 0,this.MIN_WALL_WIDTH=void 0,this.MAX_WALL_WIDTH=void 0,this.MAX_JUMPS=void 0,this.NADE_INCREASE=void 0,this.JUMP_INCREASE=void 0,this.score=void 0,this.highscore=void 0,this.jumps=void 0,this.distance=void 0,this.speed=void 0,this.targetSpeed=void 0,this.acceleration=void 0,this.walls=void 0,this.lastWallX=void 0,this.player=void 0,this.mouseDown=function(){e.$("#title").classList.add("hidden"),e.update()},this.init=function(){var t=e.ctx.createLinearGradient(0,e.WALL_HEIGHT,0,e.HEIGHT),i=e.ctx.createLinearGradient(0,0,0,e.WALL_HEIGHT);t.addColorStop(0,"#5d5c4f"),t.addColorStop(1,"#747362"),i.addColorStop(0,"#838678"),i.addColorStop(.33,"#929585"),i.addColorStop(.33,"#676b52"),i.addColorStop(.66,"#676b52"),i.addColorStop(.66,"#545743"),i.addColorStop(.68,"#929585"),i.addColorStop(1,"#838678"),e.gradients={shadow:t,wall:i}},this.update=function(){e.init(),e.setSpeed(e.MIN_SPEED,0),e.addToWorld(new Ee(e));for(var t=0;t<3;t+=1)e.walls[t]=new Be({x:e.WIDTH+e.WIDTH*t,width:e.WIDTH},e),e.addToWorld(e.walls[t]),e.lastWallX=e.walls[t].x;e.addToWorld(new Te(e)),e.player=new Ne({x:100,y:e.HEIGHT-60},e),e.addToWorld(e.player),e.$("#game").addEventListener("mousedown",e.playerJump),e.step()},this.playerJump=function(){e.player.jump()},this.step=function(){var t=new Date,i=(t-e.d0)/1e3,a=e.particles.length;e.distance+=i*e.speed,e.speed!==e.targetSpeed&&(e.speed+=(e.targetSpeed-e.speed)*e.acceleration),e.canvas.width=e.WIDTH;for(var o=0;o<a;o+=1)e.particles[o].update(i),e.particles[o].draw(e.ctx);e.d0=t,e.requestAnimationFrame(e.step)},this.addToWorld=function(t){e.particles.push(t)},this.setSpeed=function(t,i){t>e.MAX_SPEED&&(t=e.MAX_SPEED),e.targetSpeed=t,e.acceleration=i||e.acceleration},this.setScore=function(t){var i=t-e.score;i>0&&(i="+".concat(i)),e.score=t,e.$("#score").innerHTML=t,e.$("#increase").style.top="".concat(e.player.y-80,"px"),e.$("#increase").innerHTML='<div class="ding">'.concat(i,"</div>")},this.setHighscore=function(t){e.highscore=t,e.$("#highscore").innerHTML=t,e.$("#newhighscore").classList.add("visible"),window.setTimeout(e.removeHighScore,1500)},this.removeHighScore=function(){e.$("#newhighscore").classList.remove("visible")},this.resizeWalls=function(){for(var t=e.MIN_WALL_WIDTH+(1-e.jumps/e.MAX_JUMPS)*(e.MAX_WALL_WIDTH-e.MIN_WALL_WIDTH),i=e.walls.length,a=0;a<i;a+=1)e.walls[a].resize(t)},this.renderToCanvas=function(t,e,i,a){var o=document.createElement("canvas");return a||(a={}),o.width=t,o.height=e,i.call(a,o.getContext("2d")),o},this.requestAnimationFrame=function(t){window.setTimeout(t,1e3/60)},this.canvas=document.getElementById("game"),this.ctx=this.canvas.getContext("2d"),this.d0=new Date,this.particles=[],this.WIDTH=this.canvas.width,this.HEIGHT=this.canvas.height,this.WALL_HEIGHT=this.HEIGHT-75,this.GRAVITY=25,this.MIN_SPEED=100,this.MAX_SPEED=1100,this.MIN_WALL_WIDTH=60,this.MAX_WALL_WIDTH=this.WIDTH,this.MAX_JUMPS=12,this.NADE_INCREASE=100,this.JUMP_INCREASE=300,this.score=0,this.highscore=0,this.jumps=0,this.distance=0,this.speed=0,this.targetSpeed=0,this.acceleration=.05,this.walls=[],this.gradients={},this.lastWallX=0,this.$("#title").addEventListener("mousedown",this.mouseDown)}return Object(ct.a)(t,[{key:"$",value:function(t){return document.querySelector(t)}}]),t}(),De=(i(89),function(){var t=function(){return Object(ut.jsxs)("div",{className:"instructions",children:["You are ",Object(ut.jsx)("em",{children:"PropelMan!"}),Object(ut.jsx)("br",{}),Object(ut.jsx)("em",{children:"Click"})," to propel yourself in the air by using your grenade launcher.",Object(ut.jsx)("br",{}),"When airborne, ",Object(ut.jsx)("em",{children:"click again in front of walls"})," to bounce further and further.",Object(ut.jsx)("br",{}),"The longer you can go without touching the ground,"," ",Object(ut.jsx)("em",{children:"the more points you get."}),Object(ut.jsx)("br",{})]})},e=function(){return Object(ut.jsx)("canvas",{className:"canvas",id:"game",width:"640",height:"360"})},i=function(){return Object(ut.jsxs)("div",{className:"hud-highscore",children:[Object(ut.jsx)("div",{id:"highscore",className:"hud-counter",children:"0"}),Object(ut.jsx)("div",{className:"hud-caption",children:"Highscore"})]})},o=function(){return Object(ut.jsxs)("div",{className:"hud-score",children:[Object(ut.jsx)("div",{id:"score",className:"hud-counter",children:"0"}),Object(ut.jsx)("div",{className:"hud-caption",children:"Score"})]})},n=function(){return Object(ut.jsxs)("div",{className:"hud-jumps",children:[Object(ut.jsx)("div",{id:"jumps",className:"hud-counter",children:"0"}),Object(ut.jsx)("div",{className:"hud-caption",children:"Jump Combo"})]})};return Object(a.useEffect)((function(){(new Ce).init()}),[]),Object(ut.jsx)("div",{className:"propelManContainer",children:Object(ut.jsxs)("div",{className:"wrap",children:[Object(ut.jsxs)("div",{className:"screen title",id:"title",children:[Object(ut.jsx)("h1",{children:"PropelMan"}),Object(ut.jsx)("p",{children:"Click to start"})]}),Object(ut.jsx)(e,{}),Object(ut.jsxs)("div",{className:"screen hud",children:[Object(ut.jsx)(n,{}),Object(ut.jsx)(o,{}),Object(ut.jsx)(i,{}),Object(ut.jsx)("div",{id:"increase"}),Object(ut.jsx)("div",{id:"newhighscore",children:"New Highscore!"})]}),Object(ut.jsx)(t,{})]})})}),We=(i(90),function t(){var e=this;Object(rt.a)(this,t),this.holes=void 0,this.accelerationX=void 0,this.accelerationY=void 0,this.ballElements=void 0,this.ballSize=void 0,this.balls=void 0,this.debugMode=void 0,this.frictionX=void 0,this.frictionY=void 0,this.gameInProgress=void 0,this.hardMode=void 0,this.holeElements=void 0,this.holeSize=void 0,this.mouseStartX=void 0,this.mouseStartY=void 0,this.pathW=void 0,this.previousTimestamp=void 0,this.wallW=void 0,this.walls=void 0,this.joystickHeadElement=void 0,this.mazeElement=void 0,this.noteElement=void 0,this.maxVelocity=void 0,this.minmax=function(t,e){return Math.max(Math.min(t,e),-e)},this.drawBallsFirstTime=function(){e.balls.forEach((function(t){var i=t.x,a=t.y,o=document.createElement("div");o.setAttribute("class","ball"),o.style.cssText="left: ".concat(i,"px; top: ").concat(a,"px; "),e.mazeElement.appendChild(o),e.ballElements.push(o)}))},this.drawWalls=function(){e.walls.forEach((function(t){var i=t.x,a=t.y,o=t.horizontal,n=t.length,s=document.createElement("div");s.setAttribute("class","wall"),s.style.cssText="\n      left: ".concat(i,"px;\n      top: ").concat(a,"px;\n      width: ").concat(e.wallW,"px;\n      height: ").concat(n,"px;\n      transform: rotate(").concat(o?-90:0,"deg);\n    "),e.mazeElement.appendChild(s)}))},this.setHole=function(){e.holes=[{column:0,row:5},{column:2,row:0},{column:2,row:4},{column:4,row:6},{column:6,row:2},{column:6,row:8},{column:8,row:1},{column:8,row:2}].map((function(t){return{x:t.column*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2),y:t.row*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2)}}))},this.setWallData=function(){e.walls=[{column:0,row:0,horizontal:!0,length:10},{column:0,row:0,horizontal:!1,length:9},{column:0,row:9,horizontal:!0,length:10},{column:10,row:0,horizontal:!1,length:9},{column:0,row:6,horizontal:!0,length:1},{column:0,row:8,horizontal:!0,length:1},{column:1,row:1,horizontal:!0,length:2},{column:1,row:7,horizontal:!0,length:1},{column:2,row:2,horizontal:!0,length:2},{column:2,row:4,horizontal:!0,length:1},{column:2,row:5,horizontal:!0,length:1},{column:2,row:6,horizontal:!0,length:1},{column:3,row:3,horizontal:!0,length:1},{column:3,row:8,horizontal:!0,length:3},{column:4,row:6,horizontal:!0,length:1},{column:5,row:2,horizontal:!0,length:2},{column:5,row:7,horizontal:!0,length:1},{column:6,row:1,horizontal:!0,length:1},{column:6,row:6,horizontal:!0,length:2},{column:7,row:3,horizontal:!0,length:2},{column:7,row:7,horizontal:!0,length:2},{column:8,row:1,horizontal:!0,length:1},{column:8,row:2,horizontal:!0,length:1},{column:8,row:3,horizontal:!0,length:1},{column:8,row:4,horizontal:!0,length:2},{column:8,row:8,horizontal:!0,length:2},{column:1,row:1,horizontal:!1,length:2},{column:1,row:4,horizontal:!1,length:2},{column:2,row:2,horizontal:!1,length:2},{column:2,row:5,horizontal:!1,length:1},{column:2,row:7,horizontal:!1,length:2},{column:3,row:0,horizontal:!1,length:1},{column:3,row:4,horizontal:!1,length:1},{column:3,row:6,horizontal:!1,length:2},{column:4,row:1,horizontal:!1,length:2},{column:4,row:6,horizontal:!1,length:1},{column:5,row:0,horizontal:!1,length:2},{column:5,row:6,horizontal:!1,length:1},{column:5,row:8,horizontal:!1,length:1},{column:6,row:4,horizontal:!1,length:1},{column:6,row:6,horizontal:!1,length:1},{column:7,row:1,horizontal:!1,length:4},{column:7,row:7,horizontal:!1,length:2},{column:8,row:2,horizontal:!1,length:1},{column:8,row:4,horizontal:!1,length:2},{column:9,row:1,horizontal:!1,length:1},{column:9,row:5,horizontal:!1,length:2}].map((function(t){return{x:t.column*(e.pathW+e.wallW),y:t.row*(e.pathW+e.wallW),horizontal:t.horizontal,length:t.length*(e.pathW+e.wallW)}}))},this.keyDown=function(t){if([" ","H","h","E","e"].includes(t.key)){if(t.preventDefault()," "!==t.key)return"H"===t.key||"h"===t.key?(e.hardMode=!0,void e.resetGame()):void("E"!==t.key&&"e"!==t.key||(e.hardMode=!1,e.resetGame()));e.resetGame()}},this.mouseMove=function(t){if(e.gameInProgress&&e.mouseStartX&&e.mouseStartY){var i=-e.minmax(e.mouseStartX-t.clientX,15),a=-e.minmax(e.mouseStartY-t.clientY,15);e.joystickHeadElement.style.cssText="\n        left: ".concat(i,"px;\n        top: ").concat(a,"px;\n        animation: none;\n        cursor: grabbing;\n      ");var o=.8*i,n=.8*a;e.mazeElement.style.cssText="\n        transform: rotateY(".concat(o,"deg) rotateX(").concat(-n,"deg)\n      ");e.accelerationX=2*Math.sin(o/180*Math.PI),e.accelerationY=2*Math.sin(n/180*Math.PI),e.frictionX=2*Math.cos(o/180*Math.PI)*.01,e.frictionY=2*Math.cos(n/180*Math.PI)*.01}},this.mouseDown=function(t){if(!e.gameInProgress){e.mouseStartX=t.clientX,e.mouseStartY=t.clientY,e.gameInProgress=!0,window.requestAnimationFrame(e.main);e.noteElement.style.opacity=(0).toString(),e.joystickHeadElement.style.cssText="\n        animation: none;\n        cursor: grabbing;\n      "}},this.distance2D=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},this.getAngle=function(t,e){var i=Math.atan((e.y-t.y)/(e.x-t.x));return e.x-t.x<0&&(i+=Math.PI),i},this.closestItCanBe=function(t,i){var a=e.getAngle(t,i),o=Math.cos(a)*(e.wallW/2+e.ballSize/2),n=Math.sin(a)*(e.wallW/2+e.ballSize/2);return{x:t.x+o,y:t.y+n}},this.rollAroundCap=function(t,i){var a=e.getAngle(i,t),o=a-e.getAngle({x:0,y:0},{x:i.velocityX,y:i.velocityY}),n=e.distance2D({x:0,y:0},{x:i.velocityX,y:i.velocityY}),s=Math.sin(o)*n,r=e.wallW/2+e.ballSize/2,c=Math.atan(s/r),h=Math.cos(a+Math.PI-c)*r,l=Math.sin(a+Math.PI-c)*r,d=i.x,u=i.y,m=i.x-(t.x+h),p=i.y-(t.y+l);return{x:d,y:u,velocityX:m,velocityY:p,nextX:d+m,nextY:u+p}},this.slow=function(t,e){return Math.abs(t)<=e?0:t>e?t-e:t+e},this.resetGame=function(){console.log("resetGame"),e.previousTimestamp=void 0,e.gameInProgress=!1,e.mouseStartX=void 0,e.mouseStartY=void 0,e.accelerationX=void 0,e.accelerationY=void 0,e.frictionX=void 0,e.frictionY=void 0,e.mazeElement.style.cssText="\n      transform: rotateY(0deg) rotateX(0deg)\n    ",e.joystickHeadElement.style.cssText="\n      left: 0;\n      top: 0;\n      animation: glow;\n      cursor: grab;\n    ",e.hardMode?e.noteElement.innerHTML="Click the joystick to start!\n        <p>Hard mode, Avoid black holes. Back to easy mode? Press E</p>":e.noteElement.innerHTML="Click the joystick to start!\n        <p>Move every ball to the center. Ready for hard mode? Press H</p>";e.noteElement.style.opacity=1..toString(),e.balls=[{column:0,row:0},{column:9,row:0},{column:0,row:8},{column:9,row:8}].map((function(t){return{x:t.column*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2),y:t.row*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2),velocityX:0,velocityY:0}})),e.ballElements.length&&e.balls.forEach((function(t,i){var a=t.x,o=t.y;e.ballElements[i].style.cssText="left: ".concat(a,"px; top: ").concat(o,"px; ")})),e.holeElements.forEach((function(t){e.mazeElement.removeChild(t)})),e.holeElements=[],e.hardMode&&e.holes.forEach((function(t,i){var a=document.createElement("div");a.setAttribute("class","black-hole"),a.style.cssText="left: ".concat(t,"px; top: ").concat(i,"px; "),e.mazeElement.appendChild(a),e.holeElements.push(a)}))},this.main=function(t){if(e.gameInProgress){if(void 0===e.previousTimestamp)return e.previousTimestamp=t,void window.requestAnimationFrame(e.main);var i=(t-e.previousTimestamp)/16;try{if(void 0!==e.accelerationX&&void 0!==e.accelerationY&&void 0!==e.frictionX&&void 0!==e.frictionY){var a=e.accelerationX*i,o=e.accelerationY*i,n=e.frictionX*i,s=e.frictionY*i;e.balls.forEach((function(t){0===a?t.velocityX=e.slow(t.velocityX,n):(t.velocityX+=a,t.velocityX=Math.max(Math.min(t.velocityX,1.5),-1.5),t.velocityX-=Math.sign(a)*n,t.velocityX=e.minmax(t.velocityX,e.maxVelocity)),0===o?t.velocityY=e.slow(t.velocityY,s):(t.velocityY+=o,t.velocityY-=Math.sign(o)*s,t.velocityY=e.minmax(t.velocityY,e.maxVelocity)),t.nextX=t.x+t.velocityX,t.nextY=t.y+t.velocityY,e.debugMode&&console.log("tick",t),e.walls.forEach((function(i,a){if(i.horizontal){if(t.nextY+e.ballSize/2>=i.y-e.wallW/2&&t.nextY-e.ballSize/2<=i.y+e.wallW/2){var o={x:i.x,y:i.y},n={x:i.x+i.length,y:i.y};if(t.nextX+e.ballSize/2>=o.x-e.wallW/2&&t.nextX<o.x){var s=e.distance2D(o,{x:t.nextX,y:t.nextY});if(s<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close h head",s,t);var r=e.closestItCanBe(o,{x:t.nextX,y:t.nextY}),c=e.rollAroundCap(o,{x:r.x,y:r.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,c)}}if(t.nextX-e.ballSize/2<=n.x+e.wallW/2&&t.nextX>n.x){var h=e.distance2D(n,{x:t.nextX,y:t.nextY});if(h<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close h tail",h,t);var l=e.closestItCanBe(n,{x:t.nextX,y:t.nextY}),d=e.rollAroundCap(n,{x:l.x,y:l.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,d)}}t.nextX>=o.x&&t.nextX<=n.x&&(t.nextY<i.y?t.nextY=i.y-e.wallW/2-e.ballSize/2:t.nextY=i.y+e.wallW/2+e.ballSize/2,t.y=t.nextY,t.velocityY=-t.velocityY/3,e.debugMode&&a>4&&console.error("crossing h line, HIT",t))}}else if(t.nextX+e.ballSize/2>=i.x-e.wallW/2&&t.nextX-e.ballSize/2<=i.x+e.wallW/2){var u={x:i.x,y:i.y},m={x:i.x,y:i.y+i.length};if(t.nextY+e.ballSize/2>=u.y-e.wallW/2&&t.nextY<u.y){var p=e.distance2D(u,{x:t.nextX,y:t.nextY});if(p<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close v head",p,t);var g=e.closestItCanBe(u,{x:t.nextX,y:t.nextY}),f=e.rollAroundCap(u,{x:g.x,y:g.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,f)}}if(t.nextY-e.ballSize/2<=m.y+e.wallW/2&&t.nextY>m.y){var b=e.distance2D(m,{x:t.nextX,y:t.nextY});if(b<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close v tail",b,t);var v=e.closestItCanBe(m,{x:t.nextX,y:t.nextY}),x=e.rollAroundCap(m,{x:v.x,y:v.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,x)}}t.nextY>=u.y&&t.nextY<=m.y&&(t.nextX<i.x?t.nextX=i.x-e.wallW/2-e.ballSize/2:t.nextX=i.x+e.wallW/2+e.ballSize/2,t.x=t.nextX,t.velocityX=-t.velocityX/3,e.debugMode&&a>4&&console.error("crossing v line, HIT",t))}})),e.hardMode&&e.holes.forEach((function(i,a){if(e.distance2D(i,{x:t.nextX,y:t.nextY})<=e.holeSize/2)throw e.holeElements[a].style.backgroundColor="red",Error("The ball fell into a hole")})),t.x+=t.velocityX,t.y+=t.velocityY})),e.balls.forEach((function(t,i){var a=t.x,o=t.y;e.ballElements[i].style.cssText="left: ".concat(a,"px; top: ").concat(o,"px; ")}))}var r={x:175,y:157.5};if(e.balls.every((function(t){return e.distance2D(t,r)<32.5}))){e.noteElement.innerHTML="Congrats, you did it!\n        ".concat(e.hardMode?"":"<p>Press H for hard mode</p>",'\n        <p>\n          Follow me\n          <a href="#" , target="_blank">\n            @poplogics</a>\n        </p>');e.noteElement.style.opacity=1..toString(),e.gameInProgress=!1}else e.previousTimestamp=t,window.requestAnimationFrame(e.main)}catch(c){if("The ball fell into a hole"!==c.message)throw c;e.noteElement.innerHTML="A ball fell into a black hole! Press space to reset the game.\n        <p>\n          Back to easy? Press E\n        </p>";e.noteElement.style.opacity=1..toString(),e.gameInProgress=!1}}},this.mazeElement=document.getElementById("maze"),this.joystickHeadElement=document.getElementById("joystick-head"),this.noteElement=document.getElementById("note"),this.pathW=25,this.wallW=10,this.ballSize=10,this.holeSize=18,this.debugMode=!1,this.balls=[],this.ballElements=[],this.holeElements=[],this.maxVelocity=1.5,this.resetGame(),this.drawBallsFirstTime(),this.setWallData(),this.drawWalls(),this.setHole(),this.joystickHeadElement.addEventListener("mousedown",this.mouseDown),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("keydown",this.keyDown)}),Ge=function(){return Object(a.useEffect)((function(){console.log("tiltMaze initialized");new We})),Object(ut.jsx)("div",{id:"center",children:Object(ut.jsxs)("div",{id:"game",children:[Object(ut.jsx)("div",{id:"maze",children:Object(ut.jsx)("div",{id:"end"})}),Object(ut.jsxs)("div",{id:"joystick",children:[Object(ut.jsx)("div",{className:"joystick-arrow"}),Object(ut.jsx)("div",{className:"joystick-arrow"}),Object(ut.jsx)("div",{className:"joystick-arrow"}),Object(ut.jsx)("div",{className:"joystick-arrow"}),Object(ut.jsx)("div",{id:"joystick-head"})]}),Object(ut.jsxs)("div",{id:"note",children:["Click the joystick to start!",Object(ut.jsx)("p",{children:"Move every ball to the center. Ready for hard mode? Press H"})]})]})})},Ae=Object(se.a)((function(t){return t.notification}),(function(t){return t.notifications})),Xe=(i(91),function(){var t=Object(s.b)(),e=Object(s.c)(Ae);return Object(ut.jsx)("div",{className:"notification",children:Object(ut.jsx)("ul",{className:"notification_list",children:Object(ut.jsx)(K.a,{initial:!1,children:e&&e.map((function(e,i){var a;return a=i,setTimeout((function(){t(E(a))}),2500),Object(ut.jsx)(Q.a.li,{className:"notification_list_item",initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{x:50,opacity:0,transition:{duration:.2}},children:Object(ut.jsx)("span",{className:"notification_list_item_message",children:e.message})},i)}))})})})}),_e=(i(92),i(93),function(){return Object(ut.jsx)("div",{className:"mediaContainer",children:Object(ut.jsxs)("div",{className:"wrapper",children:[Object(ut.jsxs)("div",{className:"icon facebook",children:[Object(ut.jsx)("div",{className:"tooltip",children:"Home"}),Object(ut.jsx)("span",{children:Object(ut.jsx)("i",{className:"fab fa-facebook-f"})})]}),Object(ut.jsx)($.b,{to:"/dashboard",children:Object(ut.jsxs)("div",{className:"icon twitter",children:[Object(ut.jsx)("div",{className:"tooltip",children:"Game"}),Object(ut.jsx)("span",{children:Object(ut.jsx)("i",{className:"fab fa-twitter"})})]})}),Object(ut.jsxs)("div",{className:"icon instagram",children:[Object(ut.jsx)("div",{className:"tooltip",children:"Instagram"}),Object(ut.jsx)("span",{children:Object(ut.jsx)("i",{className:"fab fa-instagram"})})]}),Object(ut.jsxs)("div",{className:"icon github",children:[Object(ut.jsx)("div",{className:"tooltip",children:"Github"}),Object(ut.jsx)("span",{children:Object(ut.jsx)("i",{className:"fab fa-github"})})]}),Object(ut.jsxs)("div",{className:"icon youtube",children:[Object(ut.jsx)("div",{className:"tooltip",children:"Profile"}),Object(ut.jsx)("span",{children:Object(ut.jsx)("i",{className:"fab fa-youtube"})})]})]})})}),Ye={initial:{x:-50,opacity:0},animate:{x:0,opacity:1},exit:{y:-30,opacity:0}},Fe=function(t){return t.time},Ve=(Object(se.a)(Fe,(function(t){return t.date})),Object(se.a)(Fe,(function(t){return t.dayOfMonth})),Object(se.a)(Fe,(function(t){return t.numberOfMonth})),Object(se.a)(Fe,(function(t){return t.time})),i(94),i(95),i.p+"static/media/_default_profile_img.ce4ec54a.png"),Ue=function(){var t=Object(a.useState)(Ve),e=Object(bt.a)(t,2),i=e[0],o=e[1];return{imageFile:i,fileInputRef:Object(a.useRef)(null),handleFileInput:function(t){t.preventDefault(),function(t){var e=t,i=new FileReader;i.readAsDataURL(e),i.onloadend=function(t){var e,i={blob:null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.result};o(i.blob)},i.onerror=function(t){console.log("Error: ",t)}}(t.target.files[0])}}},qe=function(){var t=Ue(),e=t.imageFile,i=t.fileInputRef,a=t.handleFileInput;return Object(ut.jsxs)("div",{className:"profile",children:[Object(ut.jsx)("img",{onClick:function(t){i.current&&i.current.click()},className:"profile__img",src:e,alt:"profile_img"}),Object(ut.jsx)("input",{ref:i,style:{display:"none"},id:"photo-upload",type:"file",accept:"image/*",onChange:a})]})},Je=(i(96),function(){var t=Object(s.c)(r),e=function(){return Object(ut.jsx)("span",{className:"userInfo_name",children:t.userName})};return Object(ut.jsxs)("div",{className:"userInfo",children:[Object(ut.jsx)(e,{}),Object(ut.jsx)(qe,{})]},"userInfoOptions")}),Ze=(i(97),function(){return Object(a.createElement)(Q.a.div,Object(h.a)(Object(h.a)({},Ye),{},{className:"topbar",key:"topbar"}),Object(ut.jsx)(Je,{}))}),$e=function(){return Object(ut.jsxs)("div",{className:"menu",children:[Object(ut.jsx)(_e,{}),Object(ut.jsx)(Ze,{})]})},Ke=function(){return Object(ut.jsx)("div",{children:"Not found, 404"})},Qe=function(){return Object(ut.jsx)("div",{children:"Please signup to access all the goodies"})},ti=i(55),ei=["component"],ii=function(t){var e=t.component,i=Object(ti.a)(t,ei),a=Object(s.c)(r);return Object(ut.jsx)(Z.b,Object(h.a)(Object(h.a)({},i),{},{render:function(t){return a.isLoggedIn?Object(ut.jsx)(e,Object(h.a)({},t)):Object(ut.jsx)(Z.a,{to:"/intro"})}}))},ai=function(){return Object(ut.jsx)("div",{children:Object(ut.jsxs)(K.a,{exitBeforeEnter:!0,children:[Object(ut.jsx)($e,{}),Object(ut.jsx)(Xe,{}),Object(ut.jsxs)(Z.d,{children:[Object(ut.jsx)(Z.b,{exact:!0,path:"/app",render:function(){return Object(ut.jsx)(Z.a,{to:"/app/dashboard"})}}),Object(ut.jsx)(ii,{path:"/app/dashboard",component:Kt}),Object(ut.jsx)(Z.b,{exact:!0,path:"/app/cliffHanger",component:ae}),Object(ut.jsx)(Z.b,{exact:!0,path:"/app/leaderBoard",component:Wt}),Object(ut.jsx)(Z.b,{exact:!0,path:"/app/click",component:ge}),Object(ut.jsx)(Z.b,{exact:!0,path:"/app/rabbit",component:Le}),Object(ut.jsx)(Z.b,{exact:!0,path:"/app/tilt",component:Ge}),Object(ut.jsx)(Z.b,{exact:!0,path:"/app/propelman",component:De})]})]})})},oi=function(){var t=function(){return Object(ut.jsx)(Z.a,{to:"/app"})};return Object(ut.jsx)($.a,{children:Object(ut.jsx)(Z.b,{render:function(e){var i=e.location;return Object(ut.jsx)(K.a,{exitBeforeEnter:!0,children:Object(ut.jsxs)(Z.d,{location:i,children:[Object(ut.jsx)(Z.b,{exact:!0,path:"/",component:t}),Object(ut.jsx)(ii,{path:"/app",component:ai}),Object(ut.jsx)(Z.b,{exact:!0,path:"/intro",component:Dt}),Object(ut.jsx)(Z.b,{path:"/non-auth",component:Qe}),Object(ut.jsx)(Z.b,{path:"/404",component:Ke}),Object(ut.jsx)(Z.a,{to:"/404"})]},i.key)})}})})};i(98);n.a.render(Object(ut.jsx)(s.a,{store:J,children:Object(ut.jsx)(oi,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.47484c43.chunk.js.map