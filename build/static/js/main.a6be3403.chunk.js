(this["webpackJsonpgame-platform"]=this["webpackJsonpgame-platform"]||[]).push([[0],{100:function(t,e,i){"use strict";i.r(e);var a=i(1),n=i(47),o=i.n(n),s=i(13),r=i(19),c=function(t){return t.user},h=Object(r.a)(c,(function(t){return t.isLoggedIn})),l=i(21),d=i(10),u={setLogin:function(t,e){var i=e.payload.isLoggedIn;return Object(d.a)(Object(d.a)({},t),{},{isLoggedIn:i})},setLogout:function(t){return Object(d.a)(Object(d.a)({},t),{},{isLoggedIn:{userId:null,status:!1,token:null}})},setName:function(t,e){var i=e.payload.credentials;return Object(d.a)(Object(d.a)({},t),{},{userName:i.userName})},setGame:function(t,e){var i=e.payload.game;return Object(d.a)(Object(d.a)({},t),{},{game:i})},setHighScore:function(t,e){var i=e.payload.highScore;return Object(d.a)(Object(d.a)({},t),{},{highScore:i})},addGamePlayed:function(t,e){var i=e.payload.gameName;return Object(d.a)(Object(d.a)({},t),{},{gameName:i})},setActiveRoute:function(t,e){var i=e.payload.activeRoute;return Object(d.a)(Object(d.a)({},t),{},{activeRoute:i})}},m=Object(l.b)({name:"user",initialState:{userName:"randi",email:"nothing@email.com",homeTown:"nowhere",currentLocation:{country:"nowhere",city:"nowhere"},activeRoute:"",playing:!1,currentGame:"none",gamesPlayed:[],totalGameTime:0,isLoggedIn:{userId:null,status:!1,token:null}},reducers:u}),p=m.actions,g=p.setName,b=(p.setGame,p.addGamePlayed,p.setHighScore,p.setActiveRoute),f=p.setLogin,v=p.setLogout,x=m.reducer,w=i(28),j={date:new Date,dayOfMonth:"",numberOfMonth:"",time:""},y={setDate:function(t,e){var i=e.payload.date;return Object(d.a)(Object(d.a)({},t),{},{date:i})},setCurrentDateTime:function(t,e){var i=e.payload,a=i.dayOfMonth,n=i.numberOfMonth,o=i.time;return Object(d.a)(Object(d.a)({},t),{},{dayOfMonth:a,numberOfMonth:n,time:o})}},O=Object(l.b)({name:"time",initialState:j,reducers:y}),M=O.actions,S=(M.setDate,M.setCurrentDateTime,O.reducer),I=i(45),k=function(t,e){var i=Object(I.a)(t);return i.splice(i.findIndex((function(t){return t===e})),1),i},E=function(t,e){return console.log("the shit that got added : ",e),[].concat(Object(I.a)(t),[{message:e}])},L={onAddNotification:function(t,e){var i=e.payload.title,a="".concat(i," added");return Object(d.a)(Object(d.a)({},t),{},{notifications:E(t.notifications,a)})},onRemoveNotification:function(t,e){return Object(d.a)(Object(d.a)({},t),{},{notifications:k(t.notifications,e.payload)})}},H=Object(l.b)({name:"notifications",initialState:{notifications:[]},reducers:L}),T=H.actions,P=(T.onAddNotification,T.onRemoveNotification),R=H.reducer,z=i(54),N=Object(l.b)({name:"games",initialState:{rabbit:{id:"rabbit",highScores:[],leaderBoard:[],timesPlayed:0,totalHoursPlayed:0}},reducers:{}});Object(z.a)(N.actions);var C=N.reducer,B={setCursorGrabbed:function(t,e){var i=e.payload.cursorGrabbed;return Object(d.a)(Object(d.a)({},t),{},{cursorGrabbed:i})},setDebugState:function(t,e){var i=e.payload.debug;return Object(d.a)(Object(d.a)({},t),{},{debug:i})},setState:function(t,e){var i=e.payload.currentState;return Object(d.a)(Object(d.a)({},t),{},{state:i})},setRotation:function(t,e){var i=e.payload.rotation;return Object(d.a)(Object(d.a)({},t),{},{rotation:i})},setExtendedArm:function(t,e){var i=e.payload.isExtended;return Object(d.a)(Object(d.a)({},t),{},{isExtended:i})},setInnerHovered:function(t){return Object(d.a)(Object(d.a)({},t),{},{innerRef:Object(d.a)(Object(d.a)({},t.innerRef),{},{hovered:!0})})},removeInnerHovered:function(t){return Object(d.a)(Object(d.a)({},t),{},{innerRef:Object(d.a)(Object(d.a)({},t.innerRef),{},{hovered:!1})})},setGameOver:function(t,e){var i=e.payload.gameOver;return Object(d.a)(Object(d.a)({},t),{},{gameOver:i})}},_=Object(l.b)({name:"clickButton",initialState:{debug:!1,position:{x:0,y:0},ref:null,hovered:!1,state:"waiting",gameOver:!1,extended:!1,rotation:0,innerRef:{hovered:!1},outerRef:{hovered:!1},cursorGrabbed:!1},reducers:B}),D=_.actions,W=(D.setExtendedArm,D.setRotation,D.removeInnerHovered),G=D.setInnerHovered,A=D.setState,X=D.setDebugState,Y=D.setGameOver,F=D.setCursorGrabbed,V=_.reducer,q={setHighScore:function(t,e){var i=e.payload.highScore,a={query:"\n        mutation {\n          setHighScore(cliffHangerInput: {\n            highScore: ".concat(i.score,', highScorePlayer: "').concat(i.player,'"}) {\n              highScore\n              highScorePlayer\n            }\n          }\n      ')},n=JSON.stringify(a);return fetch("http://localhost:8000/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(t){if(200!==t.status&&201!==t.status)throw new Error("Failed");return t.json()})).then((function(t){console.log(t)})).catch((function(t){return console.log(t)})),Object(d.a)(Object(d.a)({},t),{},{highScore:Object(d.a)(Object(d.a)({},t.highScore),{},{player:i.player,score:i.score})})}},U=Object(l.b)({name:"cliffHanger",initialState:{highScore:{player:"",score:0}},reducers:q}),J=U.actions.setHighScore,Z=U.reducer,$=Object(w.b)({user:x,time:S,notification:R,games:C,clickButton:V,cliffhanger:Z}),K=Object(l.a)({reducer:$,devTools:!1,middleware:function(t){return t({serializableCheck:!1})}}),Q=i(17),tt=i(20),et=i(103),it=(i(72),i(0)),at=function(){var t=function(){return Object(it.jsxs)("div",{className:"leaderContainer",children:[Object(it.jsx)("div",{className:"leaderBoardTitle",children:"leaderBoard"}),Object(it.jsxs)("div",{className:"containerLeaderboard",children:[Object(it.jsxs)("div",{className:"profileImg",children:[Object(it.jsx)("img",{src:"https://images.unsplash.com/photo-1595152772835-219674b2a8a6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:""}),Object(it.jsx)("span",{className:"nameItem",children:"Kalyan"})]}),Object(it.jsxs)("div",{className:"profileImg",children:[Object(it.jsx)("img",{src:"https://images.unsplash.com/photo-1530577197743-7adf14294584?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=801&q=80",alt:""}),Object(it.jsx)("span",{className:"nameItem",children:"Suchitra Tiwari"})]}),Object(it.jsxs)("div",{className:"profileImg",children:[Object(it.jsx)("img",{src:"https://images.unsplash.com/photo-1598641795816-a84ac9eac40c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=801&q=80",alt:""}),Object(it.jsx)("span",{className:"nameItem",children:"Sajid Ghani"})]}),Object(it.jsxs)("div",{className:"profileImg",children:[Object(it.jsx)("img",{src:"https://images.unsplash.com/photo-1484186139897-d5fc6b908812?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:""}),Object(it.jsx)("span",{className:"nameItem",children:"Dhriti"})]}),Object(it.jsxs)("div",{className:"profileImg",children:[Object(it.jsx)("img",{src:"https://images.unsplash.com/photo-1618018352910-72bdafdc82a6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:""}),Object(it.jsx)("span",{className:"nameItem",children:"Milind"})]}),Object(it.jsxs)("div",{className:"profileImg",children:[Object(it.jsx)("img",{src:"https://images.unsplash.com/photo-1529068755536-a5ade0dcb4e8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=801&q=80",alt:""}),Object(it.jsx)("span",{className:"nameItem",children:"Srikant Tiwari"})]}),Object(it.jsxs)("div",{className:"profileImg",children:[Object(it.jsx)("img",{src:"https://images.unsplash.com/photo-1485206412256-701ccc5b93ca?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=812&q=80",alt:""}),Object(it.jsx)("span",{className:"nameItem",children:"Major Sameer"})]})]})]})};return Object(it.jsx)("div",{className:"leaderBoard",children:Object(it.jsx)(t,{})})},nt=i(102),ot={duration:.75},st={initial:{y:50,opacity:0},animate:{y:0,opacity:1,transition:ot},exit:{opacity:0,transition:ot}},rt={initial:{x:-50,opacity:0},animate:{x:0,opacity:1,transition:ot},exit:{y:-30,opacity:0,transition:ot}},ct={initial:{opacity:0},animate:{opacity:1,transition:{duration:1.5}},exit:{opacity:0,transition:{duration:.5}}},ht={initial:{x:50,opacity:0},animate:{x:0,opacity:1,transition:ot},exit:{x:-30,opacity:0,transition:ot}},lt={initial:{opacity:0},animate:{opacity:1,transition:{duration:1.5}},exit:{opacity:0,transition:{duration:.5}}},dt={initial:{opacity:0},animate:{opacity:1,transition:ot},exit:{y:30,opacity:0,transition:ot}},ut=i(2),mt=i(4),pt=i(5),gt=i(6),bt=function(t){Object(pt.a)(i,t);var e=Object(gt.a)(i);function i(t){var a;return Object(ut.a)(this,i),(a=e.call(this,t)).state={hasError:!1},a}return Object(mt.a)(i,[{key:"render",value:function(){return this.state.hasError?null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),i}(a.Component),ft=function(){return Object(it.jsx)(nt.a.button,Object(d.a)(Object(d.a)({},dt),{},{className:"button__signin-button",type:"submit",children:"Sign in"}))},vt=function(t){var e=t.handleChange,i=t.handleSubmit,a=t.credentials,n=t.showPassword,o=t.inputType;return Object(it.jsxs)("form",Object(d.a)(Object(d.a)({},ht),{},{className:"form",onSubmit:i,children:[Object(it.jsxs)(nt.a.div,{children:[Object(it.jsxs)("div",{className:"input-group",children:[Object(it.jsx)("input",{className:"input-group__input",onChange:e,value:a.userName,type:"text",name:"userName",id:"userName",placeholder:"\xa0",autoComplete:"off",required:!0}),Object(it.jsx)("label",{className:"input-group__label",children:"Username"})]}),Object(it.jsxs)("div",{className:"input-group",children:[Object(it.jsx)("input",{className:"input-group__input",onChange:e,type:"text",name:"email",id:"email",value:a.email,placeholder:"\xa0",required:!0}),Object(it.jsx)("label",{className:"input-group__label",children:"Email"})]}),Object(it.jsxs)("div",{className:"input-group",children:[Object(it.jsx)("input",{className:"input-group__input",onChange:e,value:a.password,type:o,name:"password",id:"password",placeholder:"\xa0",required:!0}),Object(it.jsx)("label",{className:"input-group__label",children:"Password"}),Object(it.jsx)("span",{className:"input-group__password_show",onClick:n,children:"text"===o?"Hide":"show"})]})]}),Object(it.jsx)(nt.a.div,Object(d.a)(Object(d.a)({},lt),{},{className:"login-options",children:Object(it.jsxs)("label",{className:"label",children:[Object(it.jsx)("input",{className:"remember-me",type:"checkbox"})," Remember Me"]})})),ft(),Object(it.jsxs)("div",{className:"alternate-section",children:[Object(it.jsx)(nt.a.p,{className:"alternate-section__forget-password",children:Object(it.jsx)("a",{href:"#",children:"Forgot Password?"})}),Object(it.jsx)(nt.a.p,{className:"alternate-section__signup",children:Object(it.jsx)(tt.b,{to:"/signUp",children:"Sign up"})})]})]}))},xt=function(){return Object(it.jsxs)(nt.a.div,Object(d.a)(Object(d.a)({},rt),{},{className:"alternative-sign-in",children:[Object(it.jsx)("button",{className:"button__google-sign-in",children:"Sign in with Google"}),Object(it.jsx)("button",{className:"button__twitter",children:Object(it.jsx)("svg",{viewBox:"0 0 24 24",className:"button__twitter__icon",children:Object(it.jsx)("path",{d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"})})})]}))},wt=i(12),jt=i(15),yt=(i(76),function(){var t=function(){var t=Object(Q.g)(),e=Object(s.b)(),i=Object(a.useState)("password"),n=Object(jt.a)(i,2),o=n[0],r=n[1],c=Object(a.useState)({userName:"",email:"",password:""}),h=Object(jt.a)(c,2),l=h[0],u=h[1],m={query:'\n      query  {\n        login(\n          userName: "'.concat(l.userName,'",\n          email: "').concat(l.email,'",\n          password: "').concat(l.password,'") {\n            userId\n            token\n            tokenExpiration\n          }\n      }\n    ')};return{credentials:l,inputType:o,handleChange:function(t){t.preventDefault(),u(Object(d.a)(Object(d.a)({},l),{},Object(wt.a)({},t.target.name,t.target.value)))},handleSubmit:function(i){i.preventDefault(),console.log("\ncredentials",l),fetch("http://localhost:8000/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then((function(t){if(200!==t.status&&201!==t.status)throw console.log("\nFailure!",t),new Error("Failed");return console.log("\nSuccess!",t),t.json()})).then((function(i){var a=i.data.login;console.log("\nlogin",a),a.token&&(e(g({credentials:l})),e(f({isLoggedIn:{userId:a.userId,status:!0,token:a.token}})),t.push("/app/dashboard"))})).catch((function(t){console.log("\nError Signing In: --\x3e",t)}))},showPassword:function(){r("text"===o?"password":"text")}}}(),e=t.handleSubmit,i=t.handleChange,n=t.credentials,o=t.showPassword,r=t.inputType;return Object(it.jsx)(bt,{children:Object(a.createElement)(nt.a.div,Object(d.a)(Object(d.a)({},st),{},{key:"login",className:"login"}),Object(it.jsx)("div",{className:"login_border",children:Object(it.jsxs)("div",{className:"login_border__container",children:[xt(),Object(it.jsx)(nt.a.hr,Object(d.a)(Object(d.a)({},ct),{},{className:"login_border__container__divider"})),vt({handleSubmit:e,handleChange:i,credentials:n,showPassword:o,inputType:r})]})}))})}),Ot=function(t){var e=t.onMouseEnter,i=t.onMouseLeave,a=t.onClick;return Object(it.jsx)("rect",{onMouseEnter:e,onMouseLeave:i,onClick:a,id:"arrowBtn",width:"100",height:"100",opacity:"0",x:"550",y:"220",style:{cursor:"pointer"}})},Mt=function(){return Object(it.jsx)("g",{mask:"url(#m)",children:Object(it.jsx)("rect",{fill:"#fff",width:"100%",height:"100%"})})},St=function(){return Object(it.jsx)("polyline",{className:"arrow",fill:"#fff",points:"599,250 599,289 590,279 590,282 600,292 610,282 610,279 601,289 601,250"})},It=function(){return Object(it.jsx)("text",{className:"upperText",fill:"#fff",x:"250",y:"200",children:"Explore the Possibilities"})},kt=i.p+"static/media/cloud1.8bf34a49.webp",Et=i.p+"static/media/cloud2.c29c2357.webp",Lt=i.p+"static/media/cloud3.3b33860d.webp",Ht=i.p+"static/media/cloud1Mask.a1ca1acc.webp",Tt=i.p+"static/media/sky.300fbae0.webp",Pt=i.p+"static/media/mountBg.515103ab.webp",Rt=i.p+"static/media/mountFg.23c7ea4c.webp",zt=i.p+"static/media/mountMg.aa195a05.webp",Nt={viewBox:"0 0 1200 800"},Ct=[{className:"sky",imgUrl:Tt,width:1200,height:590},{className:"mountBg",imgUrl:Pt,width:1200,height:800},{className:"mountMg",imgUrl:zt,width:1200,height:800},{className:"cloud2",imgUrl:Et,width:1200,height:800},{className:"mountFg",imgUrl:Rt,width:1200,height:800},{className:"cloud1",imgUrl:kt,width:1200,height:800},{className:"cloud3",imgUrl:Lt,width:1200,height:800}],Bt=function(){return Object(it.jsx)(a.Fragment,{children:Ct.map((function(t,e){var i=t.className,a=t.imgUrl,n=t.height,o=t.width;return Object(it.jsx)("image",{className:i,xlinkHref:a,width:o,height:n},e)}))})},_t=function(){return Object(it.jsx)("mask",{id:"m",children:Object(it.jsxs)("g",{className:"cloud1",children:[Object(it.jsx)("rect",{fill:"#fff",width:"100%",height:"801",y:"799"}),Object(it.jsx)("image",{xlinkHref:Ht,width:"1200",height:"800"})]})})},Dt={duration:.75},Wt={initial:{x:-50,opacity:0},animate:{x:0,opacity:1,transition:Dt},exit:{opacity:0,transition:Dt}},Gt=(i(77),Object(a.memo)((function(){var t=function(){var t=Object(a.useState)("password"),e=Object(jt.a)(t,2),i=e[0],n=e[1],o=Object(a.useState)({username:"",email:"",password:""}),s=Object(jt.a)(o,2),r=s[0],c=s[1],h={query:'\n      mutation {\n        createUser(userInput: {\n          userName: "'.concat(r.username,'",\n          email: "').concat(r.email,'",\n          password: "').concat(r.password,'"}) {\n            _id\n            userName\n            email\n          }\n      }\n    ')};return{credentials:r,inputType:i,handleChange:function(t){t.preventDefault(),c(Object(d.a)(Object(d.a)({},r),{},Object(wt.a)({},t.target.name,t.target.value)))},handleSubmit:function(t){t.preventDefault(),console.log("test",r),fetch("http://localhost:8000/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then((function(t){if(200!==t.status&&201!==t.status)throw new Error("Failed");return console.log("response",t),t.json()})).then((function(t){console.log(t)})).catch((function(t){return console.log(t)}))},showPassword:function(){n("text"===i?"password":"text")}}}(),e=t.showPassword,i=t.inputType,n=t.handleChange,o=t.credentials,s=t.handleSubmit,r=function(){return Object(it.jsx)("div",{className:"terms",children:Object(it.jsxs)("label",{className:"terms__label",children:[Object(it.jsx)("input",{className:"terms__description",type:"checkbox"})," Creating an account means you\u2019re okay with our",Object(it.jsx)("a",{href:"#",children:"Terms of Service, Privacy Policy"}),", and our default"," ",Object(it.jsx)("a",{href:"#",children:"Notification Settings"}),"."]})})},c=function(){return Object(it.jsx)(nt.a.button,Object(d.a)(Object(d.a)({},dt),{},{className:"button__signin-button",type:"submit",children:"Create Account"}))},h=function(){return Object(it.jsxs)("div",{className:"alternate-section",children:[Object(it.jsx)("span",{className:"alternate-section__forget-password",children:"Already have an account?"}),Object(it.jsx)(tt.b,{className:"alternate-section__signup",to:"/intro",children:"Sign in"})]})};return Object(it.jsx)("div",{className:"signUp",children:Object(it.jsx)(nt.a.div,Object(d.a)(Object(d.a)({},Wt),{},{className:"signUp_border",children:Object(it.jsx)("div",{className:"login_border__container",children:Object(it.jsxs)("form",{className:"form",onSubmit:s,children:[Object(it.jsxs)("div",{className:"input-group",children:[Object(it.jsx)("input",{className:"input-group__input",onChange:n,value:o.username,type:"text",name:"username",id:"username",placeholder:"\xa0",autoComplete:"off",required:!0}),Object(it.jsx)("label",{className:"input-group__label",children:"Username"})]}),Object(it.jsxs)("div",{className:"input-group",children:[Object(it.jsx)("input",{className:"input-group__input",onChange:n,type:"text",name:"email",id:"email",value:o.email,placeholder:"\xa0",required:!0}),Object(it.jsx)("label",{className:"input-group__label",children:"Email"})]}),Object(it.jsxs)("div",{className:"input-group",children:[Object(it.jsx)("input",{className:"input-group__input",onChange:n,value:o.password,type:i,name:"password",id:"password",placeholder:"\xa0",required:!0}),Object(it.jsx)("label",{className:"input-group__label",children:"Password"}),Object(it.jsx)("span",{className:"input-group__password_show",onClick:e,children:"text"===i?"Hide":"show"})]}),Object(it.jsx)(r,{}),Object(it.jsx)(c,{}),Object(it.jsx)(h,{})]})})}))},"signup")}))),At=(i(78),{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.1}}),Xt=i(46),Yt=function(){var t=Object(a.useState)(!1),e=Object(jt.a)(t,2),i=e[0],n=e[1];Object(a.useEffect)((function(){Xt.a.set(".main",{position:"fixed",background:"#fff",width:"100%",maxWidth:"1200px",height:"100vh",top:0,left:"50%",x:"-50%"})}));return{onClick:function(){Xt.a.timeline({scrollTrigger:{trigger:".scrollDist",start:"top top",end:"bottom bottom",scrub:1}}).fromTo(".sky",{y:0},{y:-200},0).fromTo(".cloud1",{y:100},{y:-800},0).fromTo(".cloud2",{y:-150},{y:-500},0).fromTo(".cloud3",{y:-50},{y:-650},0).fromTo(".mountBg",{y:-10},{y:-100},0).fromTo(".mountMg",{y:-30},{y:-250},0).fromTo(".mountFg",{y:-50},{y:-600},0),setTimeout((function(){n(!0)}),250)},onMouseEnter:function(){Xt.a.to(".arrow",{y:10,duration:.8,ease:"back.inOut(3)",overwrite:"auto"})},onMouseLeave:function(){Xt.a.to(".arrow",{y:0,duration:.5,ease:"power3.out",overwrite:"auto"})},show:i}},Ft=function(){var t=Yt(),e=t.show,i=t.onMouseEnter,a=t.onMouseLeave,n=t.onClick;return Object(it.jsx)(nt.a.div,Object(d.a)(Object(d.a)({},At),{},{className:"scrollIntro",children:Object(it.jsxs)("div",{className:"main",children:[e&&Object(it.jsx)(yt,{}),Object(it.jsxs)("svg",Object(d.a)(Object(d.a)({},Nt),{},{children:[_t(),Bt(),It(),St(),Mt(),Ot({onMouseLeave:a,onClick:n,onMouseEnter:i})]}))]})}))},Vt={initial:{opacity:0},animate:{opacity:1,transition:{duration:2}},exit:{opacity:0,transition:{duration:2}}},qt={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},Ut={initial:{x:50,opacity:0,scale:.75},animate:{x:0,opacity:1,scale:1},exit:{x:50,opacity:0,scale:0},transition:{duration:.2}},Jt=(i(79),function(t,e){return Object(it.jsxs)("div",{className:"image",children:[Object(it.jsx)("h3",{className:"image_title",children:t}),Object(it.jsxs)("figure",{children:[Object(it.jsx)("img",{src:e,alt:"img18"}),Object(it.jsx)("figcaption",{children:Object(it.jsx)("p",{children:"the chase is on.."})})]})]})}),Zt=(i(80),function(){return Object(it.jsxs)("svg",{height:"16",viewBox:"0 0 16 16",width:"16",role:"img",children:[Object(it.jsx)("clipPath",{id:"a",children:Object(it.jsx)("path",{d:"m0 0h16v16h-16z"})}),Object(it.jsx)("g",{clipPath:"url(#a)",children:Object(it.jsx)("path",{d:"m8 6c-.53043 0-1.03914.21071-1.41421.58579-.37508.37507-.58579.88378-.58579 1.41421s.21071 1.03914.58579 1.41421c.37507.37508.88378.58579 1.41421.58579s1.03914-.21071 1.41421-.58579c.37508-.37507.58579-.88378.58579-1.41421s-.21071-1.03914-.58579-1.41421c-.37507-.37508-.88378-.58579-1.41421-.58579zm-6 0c-.53043 0-1.039141.21071-1.414214.58579-.375072.37507-.585786.88378-.585786 1.41421s.210714 1.03914.585786 1.41421c.375073.37508.883784.58579 1.414214.58579s1.03914-.21071 1.41421-.58579c.37508-.37507.58579-.88378.58579-1.41421s-.21071-1.03914-.58579-1.41421c-.37507-.37508-.88378-.58579-1.41421-.58579zm12 0c-.5304 0-1.0391.21071-1.4142.58579-.3751.37507-.5858.88378-.5858 1.41421s.2107 1.03914.5858 1.41421c.3751.37508.8838.58579 1.4142.58579s1.0391-.21071 1.4142-.58579c.3751-.37507.5858-.88378.5858-1.41421s-.2107-1.03914-.5858-1.41421c-.3751-.37508-.8838-.58579-1.4142-.58579z"})})]})}),$t=(i(81),Object(a.forwardRef)((function(t,e){var i=t.game,n=t.index;function o(t){e&&e.current&&(e.current[n]=t)}return Object(a.useEffect)((function(){e&&e.current&&e.current[n].scrollIntoView({behavior:"smooth",block:"end"})}),[]),Object(it.jsx)(nt.a.div,Object(d.a)(Object(d.a)({ref:function(t){return o(t)},className:"projects"},Ut),{},{children:Object(it.jsx)(tt.b,{to:i.url,children:Object(it.jsxs)("span",{className:"projects_link",children:[Object(it.jsx)("span",{className:"projects_link_deleteButton",children:Zt()}),Jt(i.title,i.imgUrl)]},"project")})}))}))),Kt=(i(82),i.p+"static/media/_rabbitCover.0d74d391.png"),Qt=i.p+"static/media/_tiltCover.742e4e62.png",te=i.p+"static/media/_cliffHanger.be846468.png",ee=function(t){var e=t.singleRefs,i=t.draggableArea,a=t.dragging,n=t.stopDragging,o=t.startDragging;return Object(it.jsx)("div",{className:"projectDragContainer",children:Object(it.jsx)("div",{className:"projectDragContainer_area ",onMouseDown:o,onMouseUp:n,onMouseLeave:n,onMouseMove:a,ref:i,children:e&&[{title:"_rabbit",imgUrl:Kt,url:"/app/rabbit"},{title:"_tilt",imgUrl:Qt,url:"/app/tilt"},{title:"_cliffHanger",imgUrl:te,url:"/app/cliffhanger"}].map((function(t,i){return Object(it.jsx)($t,{game:t,ref:e,index:i},i)}))})})},ie=(i(83),function(){var t=function(){var t,e,i=Object(a.useRef)([]),n=!1,o=Object(a.useRef)();function s(t){t.forEach((function(t){t.isIntersecting?(t.target.style.opacity=1,t.target.style.transform="scale(1)"):(t.target.style.opacity=0,t.target.style.transform="scale(.35)")}))}return Object(a.useEffect)((function(){var t=new IntersectionObserver(s,{threshold:.55});return i&&i.current&&i.current.forEach((function(e){t.observe(e)})),function(){i&&i.current&&i.current.forEach((function(e){t.disconnect()}))}}),[i]),{draggableArea:o,singleRefs:i,dragging:function(i){if(i.preventDefault(),n){var a=i.pageX-o.current.offsetLeft-t;o.current.scrollLeft=e-a}},stopDragging:function(t){n=!1},startDragging:function(i){n=!0,t=i.pageX-o.current.offsetLeft,e=o.current.scrollLeft}}}(),e=t.singleRefs,i=t.draggableArea,n=t.dragging,o=t.startDragging,s=t.stopDragging;return Object(it.jsx)(nt.a.div,Object(d.a)(Object(d.a)({className:"home"},qt),{},{children:ee({draggableArea:i,singleRefs:e,stopDragging:s,dragging:n,startDragging:o})}),"home")}),ae=(i(84),function(){var t=Object(s.b)(),e=Object(Q.g)();return Object(it.jsx)(bt,{children:Object(it.jsx)(nt.a.div,Object(d.a)(Object(d.a)({},{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:1}}),{},{className:"signOutButton",children:Object(it.jsx)("div",{className:"signOutButton_container",children:Object(it.jsx)("button",{onClick:function(){t(v()),e.push("/")},className:"signOutButton_container_button",children:Object(it.jsx)("svg",{className:"logout-svg",fill:"none",viewBox:"0 0 24 24",id:"img__logout-24",children:Object(it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h9v-2H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h9V3H5zm16.83 9.557a1 1 0 0 0-.128-1.27l-3.995-3.994a1 1 0 1 0-1.414 1.414L18.586 11H11a1 1 0 1 0 0 2h7.586l-2.293 2.293a1 1 0 0 0 1.414 1.414l3.995-3.995a.997.997 0 0 0 .128-.155z",fill:"currentColor"})})})})}))})}),ne=(i(85),Object(a.memo)((function(){return function(){var t=Object(s.b)();Object(a.useEffect)((function(){t(b({activeRoute:"DASHBOARD"}))}))}(),Object(it.jsxs)(nt.a.div,Object(d.a)(Object(d.a)({className:"dashboard"},Vt),{},{children:[Object(it.jsx)(ae,{}),Object(it.jsx)(ie,{})]}),"dashboard")}))),oe={addBoard:function(t,e){var i=e.payload,a="board-".concat(i);return[].concat(Object(I.a)(t),[a])},removeBoard:function(t,e){var i=e.payload.boardID;return t.filter((function(t){return t!==i}))}},se=Object(l.b)({name:"dashboard",initialState:["board-0"],reducers:oe}),re=se.actions;re.addBoard,re.removeBoard,se.reducer;Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),Math.sinus||(Math.sinus=function(t){return Math.sin(t/180*Math.PI)});var ce=function t(e,i,a){var n=this;Object(ut.a)(this,t),this.highScore=void 0,this.canvasHeight=void 0,this.canvasWidth=void 0,this.heroDistanceFromEdge=void 0,this.heroX=void 0,this.heroY=void 0,this.lastTimestamp=void 0,this.paddingX=void 0,this.perfectAreaSize=void 0,this.phase=void 0,this.platformHeight=void 0,this.platforms=void 0,this.sceneOffset=void 0,this.score=void 0,this.sticks=void 0,this.trees=void 0,this.backgroundSpeedMultiplier=void 0,this.fallingSpeed=void 0,this.heroHeight=void 0,this.heroWidth=void 0,this.hill1Amplitude=void 0,this.hill1BaseHeight=void 0,this.hill1Stretch=void 0,this.hill2Amplitude=void 0,this.hill2BaseHeight=void 0,this.hill2Stretch=void 0,this.stretchingSpeed=void 0,this.transitioningSpeed=void 0,this.turningSpeed=void 0,this.walkingSpeed=void 0,this.canvas=void 0,this.ctx=void 0,this.introductionElement=void 0,this.perfectElement=void 0,this.restartButton=void 0,this.scoreElement=void 0,this.highScoreElement=void 0,this.player=void 0,this.setScore=void 0,this.click=function(t){t.preventDefault(),n.resetGame(),n.restartButton.style.display="none"},this.keyDown=function(t){" "==t.key&&(t.preventDefault(),n.resetGame())},this.mouseDown=function(t){if("waiting"===n.phase){n.lastTimestamp=void 0;n.introductionElement.style.opacity=(0).toString(),n.phase="stretching",window.requestAnimationFrame(n.animate)}},this.mouseUp=function(t){"stretching"===n.phase&&(n.phase="turning")},this.resize=function(t){n.canvas.width=window.innerWidth,n.canvas.height=window.innerHeight,n.draw()},this.resetGame=function(){n.phase="waiting",n.lastTimestamp=void 0,n.sceneOffset=0,n.score=0;n.introductionElement.style.opacity=1..toString(),n.perfectElement.style.opacity=(0).toString(),n.restartButton.style.display="none",n.scoreElement.innerText=n.score.toString(),n.highScoreElement.innerText=n.highScore.toString(),n.platforms=[{x:50,w:50}],n.generatePlatform(),n.generatePlatform(),n.generatePlatform(),n.generatePlatform(),n.sticks=[{x:n.platforms[0].x+n.platforms[0].w,length:0,rotation:0}],n.trees=[],n.generateTree(),n.generateTree(),n.generateTree(),n.generateTree(),n.generateTree(),n.generateTree(),n.generateTree(),n.generateTree(),n.generateTree(),n.generateTree(),n.heroX=n.platforms[0].x+n.platforms[0].w-n.heroDistanceFromEdge,n.heroY=0,n.draw()},this.generateTree=function(){var t=n.trees[n.trees.length-1],e=(t?t.x:0)+30+Math.floor(120*Math.random()),i=["#6D8821","#8FAC34","#98B333"][Math.floor(3*Math.random())];n.trees.push({x:e,color:i})},this.generatePlatform=function(){var t=n.platforms[n.platforms.length-1],e=t.x+t.w+40+Math.floor(160*Math.random()),i=20+Math.floor(80*Math.random());n.platforms.push({x:e,w:i})},this.draw=function(){n.ctx&&(n.ctx.save(),n.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),n.drawBackground(),n.ctx.translate((window.innerWidth-n.canvasWidth)/2-n.sceneOffset,(window.innerHeight-n.canvasHeight)/2),n.drawPlatforms(),n.drawHero(),n.drawSticks(),n.ctx.restore())},this.thePlatformTheStickHits=function(){if(90!=n.sticks.last().rotation)throw Error("Stick is ".concat(n.sticks.last().rotation,"\xb0"));var t=n.sticks.last().x+n.sticks.last().length,e=n.platforms.find((function(e){return e.x<t&&t<e.x+e.w}));return e&&e.x+e.w/2-n.perfectAreaSize/2<t&&t<e.x+e.w/2+n.perfectAreaSize/2?[e,!0]:[e,!1]},this.animate=function(t){if(!n.lastTimestamp)return n.lastTimestamp=t,void window.requestAnimationFrame(n.animate);switch(n.phase){case"waiting":return;case"stretching":n.sticks.last().length+=(t-n.lastTimestamp)/n.stretchingSpeed;break;case"turning":if(n.sticks.last().rotation+=(t-n.lastTimestamp)/n.turningSpeed,n.sticks.last().rotation>90){n.sticks.last().rotation=90;var e=n.thePlatformTheStickHits(),i=Object(jt.a)(e,2),a=i[0],o=i[1];if(a){if(n.score+=o?2:1,n.scoreElement.innerText=n.score.toString(),o){var s=1;n.perfectElement.style.opacity=s.toString(),s=0,setTimeout((function(){return n.perfectElement.style.opacity=s.toString()}),1e3)}n.generatePlatform(),n.generateTree(),n.generateTree()}n.phase="walking"}break;case"walking":n.heroX+=(t-n.lastTimestamp)/n.walkingSpeed;var r=n.thePlatformTheStickHits(),c=Object(jt.a)(r,1)[0];if(c){var h=c.x+c.w-n.heroDistanceFromEdge;n.heroX>h&&(n.heroX=h,n.phase="transitioning")}else{var l=n.sticks.last().x+n.sticks.last().length+n.heroWidth;n.heroX>l&&(n.heroX=l,n.phase="falling")}break;case"transitioning":n.sceneOffset+=(t-n.lastTimestamp)/n.transitioningSpeed;var d=n.thePlatformTheStickHits(),u=Object(jt.a)(d,1)[0];n.sceneOffset>u.x+u.w-n.paddingX&&(n.sticks.push({x:u.x+u.w,length:0,rotation:0}),n.phase="waiting");break;case"falling":n.sticks.last().rotation<180&&(n.sticks.last().rotation+=(t-n.lastTimestamp)/n.turningSpeed),n.heroY+=(t-n.lastTimestamp)/n.fallingSpeed;var m=n.platformHeight+100+(window.innerHeight-n.canvasHeight)/2;if(n.heroY>m){if(n.restartButton.style.display="block",n.score>n.highScore){n.highScore=n.score,n.highScoreElement.innerText=n.highScore.toString(),n.setScore({player:n.player,score:n.highScore});break}return}break;default:throw Error("Wrong phase")}n.draw(),window.requestAnimationFrame(n.animate),n.lastTimestamp=t},this.drawHill=function(t,e,i,a){if(n.ctx){n.ctx.beginPath(),n.ctx.moveTo(0,window.innerHeight),n.ctx.lineTo(0,n.getHillY(0,t,e,i));for(var o=0;o<window.innerWidth;o++)n.ctx.lineTo(o,n.getHillY(o,t,e,i));n.ctx.lineTo(window.innerWidth,window.innerHeight),n.ctx.fillStyle=a,n.ctx.fill()}},this.drawPlatforms=function(){n.platforms.forEach((function(t){var e=t.x,i=t.w;n.ctx&&(n.ctx.fillStyle="black",n.ctx.fillRect(e,n.canvasHeight-n.platformHeight,i,n.platformHeight+(window.innerHeight-n.canvasHeight)/2),n.sticks.last().x<e&&(n.ctx.fillStyle="red",n.ctx.fillRect(e+i/2-n.perfectAreaSize/2,n.canvasHeight-n.platformHeight,n.perfectAreaSize,n.perfectAreaSize)))}))},this.drawHero=function(){if(n.ctx){n.ctx.save(),n.ctx.fillStyle="black",n.ctx.translate(n.heroX-n.heroWidth/2,n.heroY+n.canvasHeight-n.platformHeight-n.heroHeight/2),n.drawRoundedRect(-n.heroWidth/2,-n.heroHeight/2,n.heroWidth,n.heroHeight-4,5);n.ctx.beginPath(),n.ctx.arc(5,11.5,3,0,2*Math.PI,!1),n.ctx.fill(),n.ctx.beginPath(),n.ctx.arc(-5,11.5,3,0,2*Math.PI,!1),n.ctx.fill(),n.ctx.beginPath(),n.ctx.fillStyle="white",n.ctx.arc(5,-7,3,0,2*Math.PI,!1),n.ctx.fill(),n.ctx.fillStyle="red",n.ctx.fillRect(-n.heroWidth/2-1,-12,n.heroWidth+2,4.5),n.ctx.beginPath(),n.ctx.moveTo(-9,-14.5),n.ctx.lineTo(-17,-18.5),n.ctx.lineTo(-14,-8.5),n.ctx.fill(),n.ctx.beginPath(),n.ctx.moveTo(-10,-10.5),n.ctx.lineTo(-15,-3.5),n.ctx.lineTo(-5,-7),n.ctx.fill(),n.ctx.restore()}},this.drawRoundedRect=function(t,e,i,a,o){n.ctx&&(n.ctx.beginPath(),n.ctx.moveTo(t,e+o),n.ctx.lineTo(t,e+a-o),n.ctx.arcTo(t,e+a,t+o,e+a,o),n.ctx.lineTo(t+i-o,e+a),n.ctx.arcTo(t+i,e+a,t+i,e+a-o,o),n.ctx.lineTo(t+i,e+o),n.ctx.arcTo(t+i,e,t+i-o,e,o),n.ctx.lineTo(t+o,e),n.ctx.arcTo(t,e,t,e+o,o),n.ctx.fill())},this.drawSticks=function(){n.sticks.forEach((function(t){n.ctx&&(n.ctx.save(),n.ctx.translate(t.x,n.canvasHeight-n.platformHeight),n.ctx.rotate(Math.PI/180*t.rotation),n.ctx.beginPath(),n.ctx.lineWidth=2,n.ctx.moveTo(0,0),n.ctx.lineTo(0,-t.length),n.ctx.stroke(),n.ctx.restore())}))},this.drawBackground=function(){if(n.ctx){var t=n.ctx.createLinearGradient(0,0,0,window.innerHeight);t.addColorStop(0,"#BBD691"),t.addColorStop(1,"#FEF1E1"),n.ctx.fillStyle=t,n.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),n.drawHill(n.hill1BaseHeight,n.hill1Amplitude,n.hill1Stretch,"#95C629"),n.drawHill(n.hill2BaseHeight,n.hill2Amplitude,n.hill2Stretch,"#659F1C"),n.trees.forEach((function(t){return n.drawTree(t.x,t.color)}))}},this.drawTree=function(t,e){n.ctx.save(),n.ctx.translate((-n.sceneOffset*n.backgroundSpeedMultiplier+t)*n.hill1Stretch,n.getTreeY(t,n.hill1BaseHeight,n.hill1Amplitude));n.ctx.fillStyle="#7D833C",n.ctx.fillRect(-1,-5,2,5),n.ctx.beginPath(),n.ctx.moveTo(-5,-5),n.ctx.lineTo(0,-30),n.ctx.lineTo(5,-5),n.ctx.fillStyle=e,n.ctx.fill(),n.ctx.restore()},this.getHillY=function(t,e,i,a){var o=window.innerHeight-e;return Math.sinus((n.sceneOffset*n.backgroundSpeedMultiplier+t)*a)*i+o},this.getTreeY=function(t,e,i){var a=window.innerHeight-e;return Math.sinus(t)*i+a},this.setScore=a,this.player=e,this.highScore=i,this.phase="waiting",this.platforms=[],this.sticks=[],this.trees=[],this.score=0,this.canvasWidth=375,this.canvasHeight=375,this.platformHeight=100,this.heroDistanceFromEdge=10,this.paddingX=100,this.perfectAreaSize=10,this.backgroundSpeedMultiplier=.2,this.hill1BaseHeight=100,this.hill1Amplitude=10,this.hill1Stretch=1,this.hill2BaseHeight=70,this.hill2Amplitude=20,this.hill2Stretch=.5,this.stretchingSpeed=4,this.turningSpeed=4,this.walkingSpeed=4,this.transitioningSpeed=2,this.fallingSpeed=2,this.heroWidth=17,this.heroHeight=30,this.canvas=document.getElementById("game"),this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight),this.ctx=this.canvas.getContext("2d"),this.introductionElement=document.getElementById("introduction"),this.perfectElement=document.getElementById("perfect"),this.restartButton=document.getElementById("restart"),this.scoreElement=document.getElementById("score"),this.highScoreElement=document.getElementById("highScore"),this.resetGame(),window.addEventListener("keydown",this.keyDown),window.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("resize",this.resize),window.requestAnimationFrame(this.animate),this.restartButton.addEventListener("click",this.click)},he=function(t){return t.cliffhanger},le=(i(86),function(){var t=Object(s.b)(),e=Object(s.c)(he),i=Object(s.c)(c);function n(e){t(J({highScore:e}))}var o=function(){return Object(it.jsxs)("span",{className:"highScore",children:[Object(it.jsx)("span",{children:"highScore:"}),Object(it.jsx)("div",{id:"highScore"})]})},r=function(){return Object(it.jsxs)("span",{className:"score",children:[Object(it.jsx)("span",{children:"score:"}),Object(it.jsx)("div",{id:"score"})]})},h=function(){return Object(it.jsx)("button",{id:"restart",children:"RESTART"})},l=function(){return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("div",{id:"introduction",children:"Hold down the mouse to stretch out a stick"}),Object(it.jsx)("div",{id:"perfect",children:"DOUBLE SCORE"})]})},d=function(){return Object(it.jsx)("canvas",{id:"game",width:"375",height:"375"})};return Object(a.useEffect)((function(){e.highScore>0&&new ce(i.userName,e.highScore.score,n),new ce(i.userName,0,n)}),[]),Object(it.jsxs)(nt.a.div,{className:"container",children:[Object(it.jsx)(r,{}),Object(it.jsx)(o,{}),Object(it.jsx)(d,{}),Object(it.jsx)(l,{}),Object(it.jsx)(h,{})]})}),de="https://s3-us-west-2.amazonaws.com/s.cdpn.io/184729",ue={head:"".concat(de,"/head.svg"),waiting:"".concat(de,"/hand.svg"),stalking:"".concat(de,"/hand-waiting.svg"),grabbing:"".concat(de,"/hand.svg"),grabbed:"".concat(de,"/hand-with-cursor.svg"),shaka:"".concat(de,"/hand-surfs-up.svg")};Object.keys(ue).forEach((function(t){(new Image).src=ue[t]}));var me=function(t){return t.clickButton},pe=Object(r.a)(me,(function(t){return t.debug})),ge=Object(r.a)(me,(function(t){return t.gameOver})),be=(Object(r.a)(me,(function(t){return t.isExtended})),Object(r.a)(me,(function(t){return t.cursorGrabbed}))),fe=function(){var t=Object(s.b)(),e=Object(a.useRef)(null),i=Object(a.useState)(!1),n=Object(jt.a)(i,2),o=n[0],r=n[1],c=function(){t(G()),r(!0)},h=function(){t(W()),r(!1)};return Object(a.useEffect)((function(){if(e.current)return e.current.addEventListener("mouseenter",c),e.current.addEventListener("mouseleave",h),function(){e.current&&(e.current.removeEventListener("mouseenter",c),e.current.removeEventListener("mouseleave",h))}}),[e]),[e,o]},ve=function(t,e,i){var n,o,s,r=function(){var t=Object(a.useState)({x:0,y:0}),e=Object(jt.a)(t,2),i=e[0],n=e[1];return Object(a.useEffect)((function(){var t=function(t){return n({x:t.clientX,y:t.clientY})};return window.addEventListener("mousemove",t),function(){window.removeEventListener("mousemove",t)}}),[i]),i}(),c=function(){var t=Object(a.useRef)(null),e=Object(a.useState)(),i=Object(jt.a)(e,2),n=i[0],o=i[1],s=function(){if(t.current){var e=t.current.getBoundingClientRect();o(e)}};return Object(a.useLayoutEffect)((function(){return s(),window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[t.current]),[t,n]}(),h=Object(jt.a)(c,2),l=h[0],d=h[1],u=Object(a.useState)(0),m=Object(jt.a)(u,2),p=m[0],g=m[1];return Object(a.useEffect)((function(){d&&(n=d.left+.5*d.width,o=d.top+.5*d.height,s=e?0:Math.atan2(r.x-n,-(r.y-o))*(180/Math.PI),g(Math.min(Math.max(parseInt(s.toString()),-79),79)))}),[d,l]),{grabberClass:"grabber grabber--".concat(t," ").concat(i&&"grabber--extended"),handImageSrc:ue[t],wrapperStyle:{transform:"rotate(".concat(p,"deg)")},ref:l}},xe=function(t,e,i,a){var n=ve(t,e,i),o=n.grabberClass,s=n.handImageSrc,r=n.ref,c=n.wrapperStyle;return Object(it.jsxs)("div",{className:o,children:[Object(it.jsx)("div",{className:"grabber__body"}),Object(it.jsx)("img",{className:"grabber__face",src:ue.head,alt:"grabber__face"}),Object(it.jsx)("div",{className:"grabber__arm-wrapper",ref:r,style:c,children:Object(it.jsx)("div",{className:"grabber__arm",children:Object(it.jsx)("img",{className:"grabber__hand",src:s,onMouseEnter:a,alt:"grabber__hand"})})})]})},we=function(t,e,i){console.log("grabZone : gameOver",e);var n=function(){var t=Object(s.b)(),e=Object(s.c)(be),i=Object(s.c)(ge),n=fe(),o=Object(jt.a)(n,2),r=o[0],c=o[1],h=fe(),l=Object(jt.a)(h,2),d=l[0],u=l[1],m=Object(a.useState)(!1),p=Object(jt.a)(m,2),g=p[0],b=p[1],f="waiting";return console.log("\nstate :",f),console.log("outerRef --\x3e",r),console.log("innerRef --\x3e",d),Object(a.useEffect)((function(){var a;return console.log("\nuseEffect ---\x3e"),c&&(console.log("outerHovered"),t(A({currentState:"stalking"})),f="stalking"),u&&(console.log("innerHovered"),t(A({currentState:"grabbing"})),f="grabbing"),e&&(console.log("cursorGrabbed"),t(A({currentState:"grabbed"})),f="grabbed"),i&&(console.log("gameOver"),t(A({currentState:"shaka"})),f="shaka"),"grabbing"===f&&(a=setTimeout((function(){b(!0),a=null}),2e3)),function(){console.log("returned"),b(!1),a&&(console.log("timer cleared!"),clearTimeout(a))}}),[f]),{outerRef:r,innerRef:d,isExtended:g,state:f}}(),o=n.isExtended,r=n.innerRef,c=n.outerRef,h=n.state;return Object(it.jsx)(it.Fragment,{children:Object(it.jsxs)("div",{className:"grab-zone",ref:c,children:[Object(it.jsxs)("div",{className:"grab-zone__debug",children:[Object(it.jsx)("strong",{children:"Debug info:"}),Object(it.jsxs)("p",{children:["Current state: ",h]}),Object(it.jsxs)("p",{children:["Extended arm: ",o?"Yes":"No"]})]}),Object(it.jsx)("div",{className:"grab-zone__danger",ref:r,children:Object(it.jsx)(xe,{state:h,gameOver:e,extended:o,onCursorGrabbed:i})})]})})},je=(i(87),function(){var t=function(){var t=Object(s.b)(),e=Object(s.c)(pe),i=Object(s.c)(be),a=Object(s.c)(ge);return{handleButtonClicked:function(){Y(!0),setTimeout((function(){Y(!1)}),4e3)},handleCursorGrabbed:function(){F(!0),setTimeout((function(){F(!1)}),2e3)},handleToggleDebug:function(){t(X({debug:!e}))},screenStyle:i?{cursor:"none"}:{},appClass:e?"app app--debug":"app",gameOver:a,cursorGrabbed:i}}(),e=t.cursorGrabbed,i=t.gameOver,a=t.handleCursorGrabbed,n=t.handleButtonClicked,o=t.handleToggleDebug,r=t.screenStyle,c=t.appClass;return Object(it.jsxs)("div",{className:c,style:r,children:[Object(it.jsxs)("section",{className:"containerButton",children:[Object(it.jsx)("p",{children:"Feel free to browse, relax and, I don't know, click the button down there? Might as well, right?"}),Object(it.jsx)("button",{className:"debug-button",onClick:o,children:"Debug"})]}),Object(it.jsxs)("button",{className:"trap-button",onClick:function(){n()},children:[i&&"Nice one",e&&"Gotcha!",!i&&!e&&"Button!"]}),Object(it.jsx)("div",{className:"grab-zone-wrapper",children:Object(it.jsx)(we,{onCursorGrabbed:a})})]})}),ye=(i(88),i(7)),Oe=i(11),Me=i(8),Se=function t(){Object(ut.a)(this,t),this.blackMat=void 0,this.brownMat=void 0,this.greenMat=void 0,this.lightBrownMat=void 0,this.pinkMat=void 0,this.skinMat=void 0,this.whiteMat=void 0,this.blackMat=new ye.m({color:1050375,flatShading:!0}),this.brownMat=new ye.m({color:11815737,shininess:0,flatShading:!0}),this.greenMat=new ye.m({color:8044430,shininess:0,flatShading:!0}),this.pinkMat=new ye.m({color:14442309,shininess:0,flatShading:!0}),this.lightBrownMat=new ye.m({color:14711383,flatShading:!0}),this.whiteMat=new ye.m({color:10786697,flatShading:!0}),this.skinMat=new ye.m({color:16752293,flatShading:!0})},Ie=function(){function t(){Object(ut.a)(this,t),this.earGeom=void 0,this.testGeom=void 0,this.runningCycle=void 0,this.mesh=void 0,this.body=void 0,this.torso=void 0,this.pants=void 0,this.tail=void 0,this.head=void 0,this.cheekR=void 0,this.cheekL=void 0,this.nose=void 0,this.mouth=void 0,this.iris=void 0,this.eyeR=void 0,this.eyeL=void 0,this.earR=void 0,this.pawFR=void 0,this.earL=void 0,this.pawBR=void 0,this.pawBL=void 0,this.pawFL=void 0,this.status=void 0,this.material=void 0,this.material=new Se,this.init()}return Object(mt.a)(t,[{key:"init",value:function(){this.status="running",this.runningCycle=0,this.mesh=new ye.i,this.body=new ye.i,this.mesh.add(this.body);var t=new ye.c(7,7,10,1);this.torso=new ye.k(t,this.material.brownMat),this.torso.position.z=0,this.torso.position.y=7,this.torso.castShadow=!0,this.body.add(this.torso);var e=new ye.c(9,9,5,1);this.pants=new ye.k(e,this.material.whiteMat),this.pants.position.z=-3,this.pants.position.y=0,this.pants.castShadow=!0,this.torso.add(this.pants);var i=new ye.c(3,3,3,1);i.applyMatrix4((new ye.j).makeTranslation(0,0,-2)),this.tail=new ye.k(i,this.material.lightBrownMat),this.tail.position.z=-4,this.tail.position.y=5,this.tail.castShadow=!0,this.torso.add(this.tail),this.torso.rotation.x=-Math.PI/8;var a=new ye.c(10,10,13,1);a.applyMatrix4((new ye.j).makeTranslation(0,0,7.5)),this.head=new ye.k(a,this.material.brownMat),this.head.position.z=2,this.head.position.y=11,this.head.castShadow=!0,this.body.add(this.head);var n=new ye.c(1,4,4,1);this.cheekR=new ye.k(n,this.material.pinkMat),this.cheekR.position.x=-5,this.cheekR.position.z=7,this.cheekR.position.y=-2.5,this.cheekR.castShadow=!0,this.head.add(this.cheekR),this.cheekL=this.cheekR.clone(),this.cheekL.position.x=-this.cheekR.position.x,this.head.add(this.cheekL);var o=new ye.c(6,6,3,1);this.nose=new ye.k(o,this.material.lightBrownMat),this.nose.position.z=13.5,this.nose.position.y=2.6,this.nose.castShadow=!0,this.head.add(this.nose);var s=new ye.c(4,2,4,1);s.applyMatrix4((new ye.j).makeTranslation(0,0,3)),s.applyMatrix4((new ye.j).makeRotationX(Math.PI/12)),this.mouth=new ye.k(s,this.material.brownMat),this.mouth.position.z=8,this.mouth.position.y=-4,this.mouth.castShadow=!0,this.head.add(this.mouth);var r=new ye.c(3,3,3,1);this.pawFR=new ye.k(r,this.material.lightBrownMat),this.pawFR.position.x=-2,this.pawFR.position.z=6,this.pawFR.position.y=1.5,this.pawFR.castShadow=!0,this.body.add(this.pawFR),this.pawFL=this.pawFR.clone(),this.pawFL.position.x=-this.pawFR.position.x,this.pawFL.castShadow=!0,this.body.add(this.pawFL);var c=new ye.c(3,3,6,1);this.pawBL=new ye.k(c,this.material.lightBrownMat),this.pawBL.position.y=1.5,this.pawBL.position.z=0,this.pawBL.position.x=5,this.pawBL.castShadow=!0,this.body.add(this.pawBL),this.pawBR=this.pawBL.clone(),this.pawBR.position.x=-this.pawBL.position.x,this.pawBR.castShadow=!0,this.body.add(this.pawBR),this.testGeom=new ye.b;var h=new ye.c(7,18,2,1);new ye.b(7,18,2,1);this.testGeom.merge(h),this.testGeom.attributes.position.setXYZ(6,2,0,.5),this.testGeom.attributes.position.setXYZ(7,2,0,.5),this.testGeom.attributes.position.setXYZ(2,2,0,.5),this.testGeom.attributes.position.setXYZ(3,2,0,.5),this.testGeom.applyMatrix4((new ye.j).makeTranslation(0,9,0)),this.earL=new ye.k(this.testGeom,this.material.brownMat),this.earL.position.x=2,this.earL.position.z=2.5,this.earL.position.y=5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var l=new ye.c(2,4,4);this.eyeL=new ye.k(l,this.material.whiteMat),this.eyeL.position.x=5,this.eyeL.position.z=5.5,this.eyeL.position.y=2.9,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var d=new ye.c(.6,2,2);this.iris=new ye.k(d,this.material.blackMat),this.iris.position.x=1.2,this.iris.position.y=1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR),this.body.traverse((function(t){t instanceof ye.k&&(t.castShadow=!0,t.receiveShadow=!0)}))}},{key:"run",value:function(){this.status="running";var t=Math.min(Re.speed,Re.maxSpeed);this.runningCycle+=Re.delta*t*.7,this.runningCycle%=2*Math.PI;var e=this.runningCycle;this.body.position.y=6+4*Math.sin(e-Math.PI/2),this.body.rotation.x=.2+4*Math.sin(e-Math.PI/2)*.1,this.torso.rotation.x=4*Math.sin(e-Math.PI/2)*.1,this.torso.position.y=7+4*Math.sin(e-Math.PI/2)*.5,this.mouth.rotation.x=Math.PI/16+4*Math.cos(e)*.05,this.head.position.z=2+4*Math.sin(e-Math.PI/2)*.5,this.head.position.y=8+4*Math.cos(e-Math.PI/2)*.7,this.head.rotation.x=4*Math.sin(e+Math.PI)*.1-.2,this.earL.rotation.x=.8*Math.cos(-Math.PI/2+e),this.earR.rotation.x=1.2*Math.cos(-Math.PI/2+.2+e),this.eyeR.scale.y=this.eyeL.scale.y=.7+.6*Math.abs(Math.cos(-Math.PI/4+.5*e)),this.tail.rotation.x=4*Math.cos(Math.PI/2+e)*.3,this.pawFR.position.y=1.5+4*Math.sin(e),this.pawFR.rotation.x=Math.cos(e)*Math.PI/4,this.pawFR.position.z=6-4*Math.cos(e)*2,this.pawFL.position.y=1.5+4*Math.sin(.2+e),this.pawFL.rotation.x=Math.cos(e)*Math.PI/4,this.pawFL.position.z=6-4*Math.cos(.2+e)*2,this.pawBR.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBR.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBR.position.z=4*-Math.cos(Math.PI+e),this.pawBL.position.y=1.5+4*Math.sin(Math.PI+e),this.pawBL.rotation.x=Math.cos(e+1.5*Math.PI)*Math.PI/3,this.pawBL.position.z=4*-Math.cos(Math.PI+e)}},{key:"jump",value:function(){if("jumping"!=this.status){this.status="jumping";var t=this,e=10/Re.speed;Oe.a.to(this.earL.rotation,e,{x:"+=.3",ease:Me.a.easeOut}),Oe.a.to(this.earR.rotation,e,{x:"-=.3",ease:Me.a.easeOut}),Oe.a.to(this.pawFL.rotation,e,{x:"+=.7",ease:Me.a.easeOut}),Oe.a.to(this.pawFR.rotation,e,{x:"-=.7",ease:Me.a.easeOut}),Oe.a.to(this.pawBL.rotation,e,{x:"+=.7",ease:Me.a.easeOut}),Oe.a.to(this.pawBR.rotation,e,{x:"-=.7",ease:Me.a.easeOut}),Oe.a.to(this.tail.rotation,e,{x:"+=1",ease:Me.a.easeOut}),Oe.a.to(this.mouth.rotation,e,{x:.5,ease:Me.a.easeOut}),Oe.a.to(this.mesh.position,e/2,{y:45,ease:Me.d.easeOut}),Oe.a.to(this.mesh.position,e/2,{y:0,ease:Me.e.easeIn,delay:e/2,onComplete:function(){t.status="running"}})}}},{key:"hang",value:function(){var t=this,e=Me.e.easeOut;Oe.a.killTweensOf(this.eyeL.scale),Oe.a.killTweensOf(this.eyeR.scale),this.body.rotation.x=0,this.torso.rotation.x=0,this.body.position.y=0,this.torso.position.y=7,Oe.a.to(this.mesh.rotation,1,{y:0,ease:e}),Oe.a.to(this.mesh.position,1,{y:-7,z:6,ease:e}),Oe.a.to(this.head.rotation,1,{x:Math.PI/6,ease:e,onComplete:function(){t.nod()}}),Oe.a.to(this.earL.rotation,1,{x:Math.PI/3,ease:e}),Oe.a.to(this.earR.rotation,1,{x:Math.PI/3,ease:e}),Oe.a.to(this.pawFL.position,1,{y:-1,z:3,ease:e}),Oe.a.to(this.pawFR.position,1,{y:-1,z:3,ease:e}),Oe.a.to(this.pawBL.position,1,{y:-2,z:-3,ease:e}),Oe.a.to(this.pawBR.position,1,{y:-2,z:-3,ease:e}),Oe.a.to(this.eyeL.scale,1,{y:1,ease:e}),Oe.a.to(this.eyeR.scale,1,{y:1,ease:e})}},{key:"nod",value:function(){var t=this,e=.5+Math.random(),i=-Math.PI/6+Math.random()*Math.PI/3;Oe.a.to(this.head.rotation,e,{y:i,ease:Me.e.easeInOut,onComplete:function(){t.nod()}});var a=Math.PI/4+Math.random()*Math.PI/6,n=Math.PI/4+Math.random()*Math.PI/6;Oe.a.to(this.earL.rotation,e,{x:a,ease:Me.e.easeInOut}),Oe.a.to(this.earR.rotation,e,{x:n,ease:Me.e.easeInOut});var o=Math.random()*Math.PI/2,s=8*Math.random()-4;Oe.a.to(this.pawBL.rotation,e/2,{x:o,ease:Me.c.easeInOut,yoyo:!0,repeat:2}),Oe.a.to(this.pawBL.position,e/2,{y:s,ease:Me.c.easeInOut,yoyo:!0,repeat:2});var r=Math.random()*Math.PI/2,c=8*Math.random()-4;Oe.a.to(this.pawBR.rotation,e/2,{x:r,ease:Me.c.easeInOut,yoyo:!0,repeat:2}),Oe.a.to(this.pawBR.position,e/2,{y:c,ease:Me.c.easeInOut,yoyo:!0,repeat:2});var h=Math.random()*Math.PI/2,l=8*Math.random()-4;Oe.a.to(this.pawFL.rotation,e/2,{x:h,ease:Me.c.easeInOut,yoyo:!0,repeat:2}),Oe.a.to(this.pawFL.position,e/2,{y:l,ease:Me.c.easeInOut,yoyo:!0,repeat:2});var d=Math.random()*Math.PI/2,u=8*Math.random()-4;Oe.a.to(this.pawFR.rotation,e/2,{x:d,ease:Me.c.easeInOut,yoyo:!0,repeat:2}),Oe.a.to(this.pawFR.position,e/2,{y:u,ease:Me.c.easeInOut,yoyo:!0,repeat:2});var m=Math.random()*Math.PI/8;Oe.a.to(this.mouth.rotation,e,{x:m,ease:Me.c.easeInOut});var p=2*Math.random()-1,g=2*Math.random()-1,b=this.iris,f=this.eyeR.children[0];Oe.a.to([b.position,f.position],e,{y:p,z:g,ease:Me.c.easeInOut}),Math.random()>.2&&Oe.a.to([this.eyeR.scale,this.eyeL.scale],e/8,{y:0,ease:Me.c.easeInOut,yoyo:!0,repeat:1})}}]),t}(),ke=function(){function t(){Object(ut.a)(this,t),this.body=void 0,this.runningCycle=void 0,this.mesh=void 0,this.torso=void 0,this.head=void 0,this.mouth=void 0,this.heroHolder=void 0,this.tongue=void 0,this.pawFR=void 0,this.pawFL=void 0,this.pawBL=void 0,this.pawBR=void 0,this.tail=void 0,this.earR=void 0,this.nose=void 0,this.eyeL=void 0,this.earL=void 0,this.iris=void 0,this.eyeR=void 0,this.material=void 0,this.testGeom=void 0,this.testEarGeom=void 0,this.material=new Se,this.init()}return Object(mt.a)(t,[{key:"createHead",value:function(){}},{key:"init",value:function(){this.runningCycle=0,this.mesh=new ye.i,this.body=new ye.i;var t=new ye.c(15,15,20,1);this.torso=new ye.k(t,this.material.blackMat);var e=new ye.c(20,20,40,1);e.applyMatrix4((new ye.j).makeTranslation(0,0,20)),this.head=new ye.k(e,this.material.blackMat),this.head.position.z=12,this.head.position.y=2;var i=new ye.c(10,4,20,1);i.applyMatrix4((new ye.j).makeTranslation(0,-2,10)),this.mouth=new ye.k(i,this.material.blackMat),this.mouth.position.y=-8,this.mouth.rotation.x=.4,this.mouth.position.z=4,this.heroHolder=new ye.i,this.heroHolder.position.z=20,this.mouth.add(this.heroHolder),this.testGeom=new ye.b;var a=new ye.c(2,2,1,1);this.testGeom.merge(a),this.testGeom.attributes.position.setXYZ(4,1,0,0),this.testGeom.attributes.position.setXYZ(5,1,0,0),this.testGeom.attributes.position.setXYZ(0,-1,0,0);for(var n=0;n<3;n++){var o=new ye.k(this.testGeom,this.material.whiteMat);o.position.x=2.5*n-2.8,o.position.y=1,o.position.z=19;var s=new ye.k(this.testGeom,this.material.whiteMat);s.rotation.y=Math.PI/2,s.position.z=12+2.5*n,s.position.y=1,s.position.x=4;var r=s.clone();s.position.x=-4,this.mouth.add(o),this.mouth.add(s),this.mouth.add(r)}var c=new ye.c(6,1,14);c.applyMatrix4((new ye.j).makeTranslation(0,0,7)),this.tongue=new ye.k(c,this.material.pinkMat),this.tongue.position.z=2,this.tongue.rotation.x=-.2,this.mouth.add(this.tongue);var h=new ye.c(4,4,4,1);this.nose=new ye.k(h,this.material.pinkMat),this.nose.position.z=39.5,this.nose.position.y=9,this.head.add(this.nose),this.head.add(this.mouth);var l=new ye.c(2,3,3);this.eyeL=new ye.k(l,this.material.whiteMat),this.eyeL.position.x=10,this.eyeL.position.z=5,this.eyeL.position.y=5,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var d=new ye.c(.6,1,1);this.iris=new ye.k(d,this.material.blackMat),this.iris.position.x=1.2,this.iris.position.y=-1,this.iris.position.z=1,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x,this.head.add(this.eyeR),this.testEarGeom=new ye.b;var u=new ye.c(8,6,2,1);this.testEarGeom.merge(u),this.testEarGeom.attributes.position.setXYZ(1,-4,0,0),this.testEarGeom.attributes.position.setXYZ(4,4,0,0),this.testEarGeom.attributes.position.setXYZ(5,4,0,-2),this.testEarGeom.attributes.position.setXYZ(0,-4,0,-2),this.testEarGeom.applyMatrix4((new ye.j).makeTranslation(0,3,0)),this.earL=new ye.k(this.testEarGeom,this.material.blackMat),this.earL.position.x=6,this.earL.position.z=1,this.earL.position.y=10,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.head.add(this.earR);l=new ye.c(2,4,4);var m=new ye.f(5,2,20,4,1);m.applyMatrix4((new ye.j).makeTranslation(0,10,0)),m.applyMatrix4((new ye.j).makeRotationX(-Math.PI/2)),m.applyMatrix4((new ye.j).makeRotationZ(Math.PI/4)),this.tail=new ye.k(m,this.material.blackMat),this.tail.position.z=-10,this.tail.position.y=4,this.torso.add(this.tail);var p=new ye.f(1.5,0,10);p.applyMatrix4((new ye.j).makeTranslation(0,-5,0)),this.pawFL=new ye.k(p,this.material.blackMat),this.pawFL.position.y=-7.5,this.pawFL.position.z=8.5,this.pawFL.position.x=5.5,this.torso.add(this.pawFL),this.pawFR=this.pawFL.clone(),this.pawFR.position.x=-this.pawFL.position.x,this.torso.add(this.pawFR),this.pawBR=this.pawFR.clone(),this.pawBR.position.z=-this.pawFL.position.z,this.torso.add(this.pawBR),this.pawBL=this.pawBR.clone(),this.pawBL.position.x=this.pawFL.position.x,this.torso.add(this.pawBL),this.mesh.add(this.body),this.torso.add(this.head),this.body.add(this.torso),this.torso.castShadow=!0,this.head.castShadow=!0,this.pawFL.castShadow=!0,this.pawFR.castShadow=!0,this.pawBL.castShadow=!0,this.pawBR.castShadow=!0,this.body.rotation.y=Math.PI/2}},{key:"run",value:function(){var t=Math.min(Re.speed,Re.maxSpeed);this.runningCycle+=Re.delta*t*.7,this.runningCycle%=2*Math.PI;var e=this.runningCycle;this.pawFR.rotation.x=Math.sin(e)*Math.PI/4,this.pawFR.position.y=-5.5-Math.sin(e),this.pawFR.position.z=7.5+Math.cos(e),this.pawFL.rotation.x=Math.sin(e+.4)*Math.PI/4,this.pawFL.position.y=-5.5-Math.sin(e+.4),this.pawFL.position.z=7.5+Math.cos(e+.4),this.pawBL.rotation.x=Math.sin(e+2)*Math.PI/4,this.pawBL.position.y=-5.5-Math.sin(e+3.8),this.pawBL.position.z=-7.5+Math.cos(e+3.8),this.pawBR.rotation.x=Math.sin(e+2.4)*Math.PI/4,this.pawBR.position.y=-5.5-Math.sin(e+3.4),this.pawBR.position.z=-7.5+Math.cos(e+3.4),this.torso.rotation.x=Math.sin(e)*Math.PI/8,this.torso.position.y=3-3*Math.sin(e+Math.PI/2),this.head.rotation.x=.4*Math.sin(-e-1)-.1,this.mouth.rotation.x=.2+.4*Math.sin(e+Math.PI+.3),this.tail.rotation.x=.2+Math.sin(e-Math.PI/2),this.eyeR.scale.y=.5+.5*Math.sin(e+Math.PI)}},{key:"nod",value:function(){var t=this,e=1+2*Math.random(),i=-Math.PI/3+.5*Math.random(),a=Math.PI/3-.2+.4*Math.random();Oe.a.to(this.head.rotation,e,{x:a,y:i,ease:Me.e.easeInOut,onComplete:function(){t.nod()}});var n=-Math.PI/4;Oe.a.to(this.tail.rotation,e/8,{y:n,ease:Me.c.easeInOut,yoyo:!0,repeat:8}),Oe.a.to([this.eyeR.scale,this.eyeL.scale],e/20,{y:0,ease:Me.c.easeInOut,yoyo:!0,repeat:1})}},{key:"sit",value:function(){var t=1.2,e=Me.e.easeOut,i=this;Oe.a.to(this.torso.rotation,t,{x:-1.3,ease:e}),Oe.a.to(this.torso.position,t,{y:-5,ease:e,onComplete:function(){i.nod()}}),Oe.a.to(this.head.rotation,t,{x:Math.PI/3,y:-Math.PI/3,ease:e}),Oe.a.to(this.tail.rotation,t,{x:2,y:Math.PI/4,ease:e}),Oe.a.to(this.pawBL.rotation,t,{x:-.1,ease:e}),Oe.a.to(this.pawBR.rotation,t,{x:-.1,ease:e}),Oe.a.to(this.pawFL.rotation,t,{x:1,ease:e}),Oe.a.to(this.pawFR.rotation,t,{x:1,ease:e}),Oe.a.to(this.mouth.rotation,t,{x:.3,ease:e}),Oe.a.to(this.eyeL.scale,t,{y:1,ease:e}),Oe.a.to(this.eyeR.scale,t,{y:1,ease:e})}}]),t}(),Ee=function(){function t(){Object(ut.a)(this,t),this.testLeafGeom=void 0,this.testBodyGeom=void 0,this.angle=void 0,this.mesh=void 0,this.body=void 0,this.leaf1=void 0,this.leaf2=void 0,this.material=void 0,this.material=new Se,this.init()}return Object(mt.a)(t,[{key:"init",value:function(){this.angle=0,this.mesh=new ye.i;var t=new ye.f(5,3,10,4,1),e=new ye.e;e.merge(t),e.attributes.position.setXYZ(8,0,2,0),e.attributes.position.setXYZ(9,0,-3,0),this.body=new ye.k(e,this.material.pinkMat);var i=new ye.c(5,3,10,4,1),a=new ye.b;a.merge(i),a.applyMatrix4((new ye.j).makeTranslation(0,5,0)),a.attributes.position.setXYZ(2,-1,0,0),a.attributes.position.setXYZ(3,-1,0,0),a.attributes.position.setXYZ(6,1,0,0),a.attributes.position.setXYZ(7,1,0,0),this.leaf1=new ye.k(a,this.material.greenMat),this.leaf1.position.y=7,this.leaf1.rotation.z=.3,this.leaf1.rotation.x=.2,this.leaf2=this.leaf1.clone(),this.leaf2.scale.set(1,1.3,1),this.leaf2.position.y=7,this.leaf2.rotation.z=-.3,this.leaf2.rotation.x=-.2,this.mesh.add(this.body),this.mesh.add(this.leaf1),this.mesh.add(this.leaf2),this.body.traverse((function(t){t instanceof ye.k&&(t.castShadow=!0,t.receiveShadow=!0)}))}}]),t}(),Le=function(){function t(){Object(ut.a)(this,t),this.eyeR=void 0,this.iris=void 0,this.body=void 0,this.mesh=void 0,this.head=void 0,this.mouth=void 0,this.tongue=void 0,this.tail=void 0,this.earR=void 0,this.nose=void 0,this.eyeL=void 0,this.earL=void 0,this.status=void 0,this.angle=void 0,this.material=void 0,this.material=new Se,this.init()}return Object(mt.a)(t,[{key:"init",value:function(){this.angle=0,this.status="ready",this.mesh=new ye.i;var t=new ye.c(6,6,6,1);this.body=new ye.k(t,this.material.blackMat);var e=new ye.c(5,5,7,1);this.head=new ye.k(e,this.material.lightBrownMat),this.head.position.z=6,this.head.position.y=-.5;var i=new ye.c(1.5,1.5,1.5,1);this.nose=new ye.k(i,this.material.blackMat),this.nose.position.z=4,this.nose.position.y=2;var a=new ye.c(1,3,3);this.eyeL=new ye.k(a,this.material.whiteMat),this.eyeL.position.x=2.2,this.eyeL.position.z=-.5,this.eyeL.position.y=.8,this.eyeL.castShadow=!0,this.head.add(this.eyeL);var n=new ye.c(.5,1,1);this.iris=new ye.k(n,this.material.blackMat),this.iris.position.x=.5,this.iris.position.y=.8,this.iris.position.z=.8,this.eyeL.add(this.iris),this.eyeR=this.eyeL.clone(),this.eyeR.children[0].position.x=-this.iris.position.x,this.eyeR.position.x=-this.eyeL.position.x;var o=new ye.c(.5,2,.5,1);o.applyMatrix4((new ye.j).makeTranslation(0,1,0));for(var s=0;s<9;s++){var r=s%3,c=Math.floor(s/3),h=new ye.k(o,this.material.blackMat);h.rotation.x=-Math.PI/2+Math.PI/12*r-.5+Math.random(),h.position.z=-3,h.position.y=2*r-2,h.position.x=2*c-2,this.body.add(h);var l=new ye.k(o,this.material.blackMat);l.position.y=3,l.position.x=2*r-2,l.position.z=2*c-2,l.rotation.z=Math.PI/6-Math.PI/6*r-.5+Math.random(),this.body.add(l);var d=new ye.k(o,this.material.blackMat);d.position.x=3,d.position.y=2*r-2,d.position.z=2*c-2,d.rotation.z=-Math.PI/2+Math.PI/12*r-.5+Math.random(),this.body.add(d);var u=new ye.k(o,this.material.blackMat);u.position.x=-3,u.position.y=2*r-2,u.position.z=2*c-2,u.rotation.z=Math.PI/2-Math.PI/12*r-.5+Math.random(),this.body.add(u)}this.head.add(this.eyeR);var m=new ye.c(2,2,.5,1);this.earL=new ye.k(m,this.material.lightBrownMat),this.earL.position.x=2.5,this.earL.position.z=-2.5,this.earL.position.y=2.5,this.earL.rotation.z=-Math.PI/12,this.earL.castShadow=!0,this.head.add(this.earL),this.earR=this.earL.clone(),this.earR.position.x=-this.earL.position.x,this.earR.rotation.z=-this.earL.rotation.z,this.earR.castShadow=!0,this.head.add(this.earR);var p=new ye.c(1,1,.5,1);this.mouth=new ye.k(p,this.material.blackMat),this.mouth.position.z=3.5,this.mouth.position.y=-1.5,this.head.add(this.mouth),this.mesh.add(this.body),this.body.add(this.head),this.head.add(this.nose),this.mesh.traverse((function(t){t instanceof ye.k&&(t.castShadow=!0,t.receiveShadow=!0)}))}},{key:"nod",value:function(){var t=this,e=.1+.5*Math.random(),i=-Math.PI/4+Math.random()*Math.PI/2;Oe.a.to(this.head.rotation,e,{y:i,onComplete:function(){t.nod()}})}}]),t}(),He=function(){function t(){Object(ut.a)(this,t),this.mesh=void 0,this.material=void 0,this.material=new Se,this.init()}return Object(mt.a)(t,[{key:"init",value:function(){var t=50+150*Math.random(),e=1+5*Math.random(),i=5+5*Math.random(),a=[this.material.blackMat,this.material.brownMat,this.material.pinkMat,this.material.whiteMat,this.material.greenMat,this.material.lightBrownMat,this.material.pinkMat],n=this.material.blackMat,o=new ye.f(e,i,t,3,3);o.applyMatrix4((new ye.j).makeTranslation(0,t/2,0)),this.mesh=new ye.k(o,n);for(var s=this.mesh.geometry.attributes.position,r=new ye.r,c=0;c<s.count;c++){r.fromBufferAttribute(s,c),r.applyMatrix4(this.mesh.matrixWorld);var h=Math.random(),l=r;if(l.x+=-h+Math.random()*h*2,l.y+=-h+Math.random()*h*2,l.z+=-h+Math.random()*h*2,o.computeVertexNormals(),Math.random()>.7){var d=3*Math.random(),u=new ye.c(d,d,d,1),m=a[Math.floor(Math.random()*a.length)],p=new ye.k(u,m);p.position.x=l.x,p.position.y=l.y+3,p.position.z=l.z,p.rotation.x=Math.random()*Math.PI,p.rotation.y=Math.random()*Math.PI,this.mesh.add(p)}if(Math.random()>.5&&l.y>10&&l.y<t-10){var g=3+5*Math.random(),b=.2+Math.random(),f=new ye.f(b/2,b,g,3,1);f.applyMatrix4((new ye.j).makeTranslation(0,g/2,0));var v=new ye.k(f,n);v.position.x=l.x,v.position.y=l.y,v.position.z=l.z;var x=new ye.r(l.x,2,l.z),w=new ye.r(0,1,0);v.quaternion.setFromUnitVectors(w,x.clone().normalize()),this.mesh.add(v)}}this.mesh.castShadow=!0}}]),t}(),Te=function(){function t(){Object(ut.a)(this,t),this.mesh=void 0,this.trunc=void 0,this.init()}return Object(mt.a)(t,[{key:"init",value:function(){this.mesh=new ye.n,this.trunc=new He,this.mesh.add(this.trunc.mesh)}}]),t}(),Pe=function(){function t(){Object(ut.a)(this,t),this.mesh=void 0,this.parts=void 0,this.material=void 0,this.material=new Se,this.init()}return Object(mt.a)(t,[{key:"init",value:function(){this.mesh=new ye.i;var t=new ye.c(10,10,10,1),e=new ye.c(5,5,5,1);this.parts=[];for(var i=0;i<10;i++){var a=new ye.k(t,this.material.pinkMat),n=new ye.k(e,this.material.greenMat);n.scale.set(.5,.5,.5),this.parts.push(a),this.parts.push(n),this.mesh.add(a),this.mesh.add(n)}}},{key:"explose",value:function(){for(var t=0;t<this.parts.length;t++){var e=100*Math.random()-50,i=100*Math.random()-50,a=100*Math.random()-50,n=this.parts[t];n.position.set(0,0,0),n.scale.set(1,1,1),n.visible=!0;var o=.5+.5*Math.random();Oe.a.to(n.position,o,{x:e,y:i,z:a,ease:Me.e.easeOut}),Oe.a.to(n.scale,o,{x:.01,y:.01,z:.01,ease:Me.e.easeOut,onComplete:Re.removeParticle,onCompleteParams:[n]})}}}]),t}(),Re=function(){function t(){var e=this;Object(ut.a)(this,t),this.HEIGHT=void 0,this.WIDTH=void 0,this.windowHalfX=void 0,this.windowHalfY=void 0,this.mousePos=void 0,this.hero=void 0,this.monster=void 0,this.carrot=void 0,this.obstacle=void 0,this.bonusParticles=void 0,this.button=void 0,this.fieldGameOver=void 0,this.fieldDistance=void 0,this.fieldHighScore=void 0,this.PI=void 0,this.window=void 0,this.material=void 0,this.aspectRatio=void 0,this.audio=void 0,this.camera=void 0,this.cameraPosGame=void 0,this.cameraPosGameOver=void 0,this.collisionBonus=void 0,this.collisionObstacle=void 0,this.container=void 0,this.distance=void 0,this.farPlane=void 0,this.fieldOfView=void 0,this.floor=void 0,this.floorGrass=void 0,this.floorRadius=void 0,this.floorRotation=void 0,this.floorShadow=void 0,this.globalLight=void 0,this.initSpeed=void 0,this.level=void 0,this.levelInterval=void 0,this.levelUpdateFreq=void 0,this.malusClearAlpha=void 0,this.malusClearColor=void 0,this.monsterAcceleration=void 0,this.monsterPos=void 0,this.monsterPosTarget=void 0,this.nearPlane=void 0,this.renderer=void 0,this.scene=void 0,this.shadowLight=void 0,this.polyCountValue=void 0,this.drawCallsValue=void 0,this.texturesInMemoryValue=void 0,this.geometriesInMemoryValue=void 0,this.highScore=void 0,this.pauseOrPlay=function(){e.audio&&(e.audio.paused||e.audio.pause())},this.init=function(){e.initScreenAnd3D(),e.createLights(),e.createFloor(),e.createHero(),e.createMonster(),e.createFir(),e.createCarrot(),e.createBonusParticles(),e.createObstacle(),e.initUI(),e.resetGame(),e.loop()},this.initScreenAnd3D=function(){e.HEIGHT=window.innerHeight,e.WIDTH=window.innerWidth,e.windowHalfX=e.WIDTH/2,e.windowHalfY=e.HEIGHT/2,e.scene=new ye.p,e.scene.fog=new ye.h(14084838,160,350),e.createCamera(),e.createRenderer(),e.container=document.getElementById("world"),e.button=document.getElementById("button"),e.container.appendChild(e.renderer.domElement),window.addEventListener("resize",e.handleWindowResize,!1),document.addEventListener("mousedown",e.handleMouseDown,!1),document.addEventListener("touchend",e.handleMouseDown,!1),e.button.addEventListener("click",e.pauseOrPlay),e.audio=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/264161/Antonio-Vivaldi-Summer_01.mp3")},this.handleWindowResize=function(){e.HEIGHT=window.innerHeight,e.WIDTH=window.innerWidth,e.windowHalfX=e.WIDTH/2,e.windowHalfY=e.HEIGHT/2,e.renderer.setSize(e.WIDTH,e.HEIGHT),e.camera.aspect=e.WIDTH/e.HEIGHT,e.camera.updateProjectionMatrix()},this.handleMouseDown=function(){"play"==t.gameStatus?e.hero.jump():"readyToReplay"==t.gameStatus&&e.replay()},this.createCamera=function(){e.aspectRatio=e.WIDTH/e.HEIGHT,e.fieldOfView=50,e.nearPlane=10,e.farPlane=2e3,window.innerWidth<=768?(e.fieldOfView=50,e.farPlane=1200):window.innerWidth>=769&&window.innerWidth<=1080?(e.fieldOfView=50,e.farPlane=1475):(e.fieldOfView=40,e.farPlane=1800),e.camera=new ye.o(e.fieldOfView,e.aspectRatio,e.nearPlane,e.farPlane),e.camera.position.x=0,e.camera.position.z=e.cameraPosGame,e.camera.position.y=30,e.camera.lookAt(new ye.r(0,30,0))},this.createRenderer=function(){e.renderer=new ye.s({alpha:!0,antialias:!0}),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.setClearColor(e.malusClearColor,e.malusClearAlpha),e.renderer.setSize(e.WIDTH,e.HEIGHT),e.renderer.shadowMap.enabled=!0},this.createLights=function(){e.globalLight=new ye.a(16777215,.9),e.shadowLight=new ye.g(16777215,1),e.shadowLight.position.set(-30,40,20),e.shadowLight.castShadow=!0,e.shadowLight.shadow.camera.left=-400,e.shadowLight.shadow.camera.right=400,e.shadowLight.shadow.camera.top=400,e.shadowLight.shadow.camera.bottom=-400,e.shadowLight.shadow.camera.near=1,e.shadowLight.shadow.camera.far=2e3,e.shadowLight.shadow.mapSize.width=e.shadowLight.shadow.mapSize.height=2048,e.scene.add(e.globalLight),e.scene.add(e.shadowLight)},this.createFloor=function(){e.floorShadow=new ye.k(new ye.q(e.floorRadius,50,50),new ye.m({color:8044430,specular:0,shininess:1,transparent:!0,opacity:.5})),e.floorShadow.receiveShadow=!0,e.floorGrass=new ye.k(new ye.q(e.floorRadius-.5,50,50),new ye.l({color:8044430})),e.floorGrass.receiveShadow=!1,e.floor=new ye.i,e.floor.position.y=-e.floorRadius,e.floor.add(e.floorShadow),e.floor.add(e.floorGrass),e.scene.add(e.floor)},this.createHero=function(){e.hero=new Ie,e.hero.mesh.rotation.y=Math.PI/2,e.scene.add(e.hero.mesh),e.hero.nod()},this.createMonster=function(){e.monster=new ke,e.monster.mesh.position.z=20,e.scene.add(e.monster.mesh),e.updateMonsterPosition()},this.updateMonsterPosition=function(){e.monster.run(),e.monsterPosTarget-=t.delta*e.monsterAcceleration,e.monsterPos+=(e.monsterPosTarget-e.monsterPos)*t.delta,e.monsterPos<.56&&e.gameOver();var i=Math.PI*e.monsterPos;e.monster.mesh.position.y=-e.floorRadius+Math.sin(i)*(e.floorRadius+12),e.monster.mesh.position.x=Math.cos(i)*(e.floorRadius+15),e.monster.mesh.rotation.z=-Math.PI/2+i},this.gameOver=function(){console.log("fun _> gameOver"),e.fieldGameOver.className="show",t.gameStatus="gameOver",e.monster.sit(),e.hero.hang(),e.monster.heroHolder.add(e.hero.mesh),Oe.a.to(e,1,{speed:0}),Oe.a.to(e.camera.position,3,{z:e.cameraPosGameOver,y:60,x:-30}),e.carrot.mesh.visible=!1,e.obstacle.mesh.visible=!1,clearInterval(e.levelInterval)},this.replay=function(){t.gameStatus="preparingToReplay",e.fieldGameOver.className="",Oe.a.killTweensOf(e.monster.pawFL.position),Oe.a.killTweensOf(e.monster.pawFR.position),Oe.a.killTweensOf(e.monster.pawBL.position),Oe.a.killTweensOf(e.monster.pawBR.position),Oe.a.killTweensOf(e.monster.tail.rotation),Oe.a.killTweensOf(e.monster.head.rotation),Oe.a.killTweensOf(e.monster.eyeL.scale),Oe.a.killTweensOf(e.monster.eyeR.scale),e.monster.tail.rotation.y=0,Oe.a.to(e.camera.position,3,{z:e.cameraPosGame,x:0,y:30,ease:Me.e.easeInOut}),Oe.a.to(e.monster.torso.rotation,2,{x:0,ease:Me.e.easeInOut}),Oe.a.to(e.monster.torso.position,2,{y:0,ease:Me.e.easeInOut}),Oe.a.to(e.monster.pawFL.rotation,2,{x:0,ease:Me.e.easeInOut}),Oe.a.to(e.monster.pawFR.rotation,2,{x:0,ease:Me.e.easeInOut}),Oe.a.to(e.monster.mouth.rotation,2,{x:.5,ease:Me.e.easeInOut}),Oe.a.to(e.monster.head.rotation,2,{y:0,x:-.3,ease:Me.e.easeInOut}),Oe.a.to(e.hero.mesh.position,2,{x:20,ease:Me.e.easeInOut}),Oe.a.to(e.hero.head.rotation,2,{x:0,y:0,ease:Me.e.easeInOut}),Oe.a.to(e.monster.mouth.rotation,2,{x:.2,ease:Me.e.easeInOut}),Oe.a.to(e.monster.mouth.rotation,1,{x:.4,ease:Me.e.easeIn,delay:1,onComplete:e.resetGame})},this.createFir=function(){for(var t=0;t<100;t++){var i=t*(2*Math.PI)/100,a=Math.PI/2;a+=Math.random()>.05?.25+.3*Math.random():-.35-.1*Math.random();var n=new Te;n.mesh.position.x=Math.sin(a)*Math.cos(i)*e.floorRadius,n.mesh.position.y=Math.sin(a)*Math.sin(i)*(e.floorRadius-10),n.mesh.position.z=Math.cos(a)*e.floorRadius;var o=n.mesh.position.clone(),s=new ye.r(0,1,0);n.mesh.quaternion.setFromUnitVectors(s,o.clone().normalize()),e.floor.add(n.mesh)}},this.createCarrot=function(){e.carrot=new Ee,e.scene.add(e.carrot.mesh)},this.updateCarrotPosition=function(){e.carrot.mesh.rotation.y+=6*t.delta,e.carrot.mesh.rotation.z=Math.PI/2-(e.floorRotation+e.carrot.angle),e.carrot.mesh.position.y=-e.floorRadius+Math.sin(e.floorRotation+e.carrot.angle)*(e.floorRadius+50),e.carrot.mesh.position.x=Math.cos(e.floorRotation+e.carrot.angle)*(e.floorRadius+50)},this.updateObstaclePosition=function(){"flying"!=e.obstacle.status&&(e.floorRotation+e.obstacle.angle>2.5&&(e.obstacle.angle=-e.floorRotation+.3*Math.random(),e.obstacle.body.rotation.y=Math.random()*Math.PI*2),e.obstacle.mesh.rotation.z=e.floorRotation+e.obstacle.angle-Math.PI/2,e.obstacle.mesh.position.y=-e.floorRadius+Math.sin(e.floorRotation+e.obstacle.angle)*(e.floorRadius+3),e.obstacle.mesh.position.x=Math.cos(e.floorRotation+e.obstacle.angle)*(e.floorRadius+3))},this.updateFloorRotation=function(){e.floorRotation+=.03*t.delta*t.speed,e.floorRotation%=2*Math.PI,e.floor.rotation.z=e.floorRotation},this.createObstacle=function(){e.obstacle=new Le,e.obstacle.body.rotation.y=-Math.PI/2,e.obstacle.mesh.scale.set(1.1,1.1,1.1),e.obstacle.mesh.position.y=e.floorRadius+4,e.obstacle.nod(),e.scene.add(e.obstacle.mesh)},this.createBonusParticles=function(){e.bonusParticles=new Pe,e.bonusParticles.mesh.visible=!1,e.scene.add(e.bonusParticles.mesh)},this.checkCollision=function(){var t=e.hero.mesh.position.clone().sub(e.carrot.mesh.position.clone()),i=e.hero.mesh.position.clone().sub(e.obstacle.mesh.position.clone());t.length()<e.collisionBonus&&e.getBonus(),i.length()<e.collisionObstacle&&"flying"!=e.obstacle.status&&e.getMalus()},this.getBonus=function(){e.bonusParticles.mesh.position.copy(e.carrot.mesh.position),e.bonusParticles.mesh.visible=!0,e.bonusParticles.explose(),e.carrot.angle+=Math.PI/2,e.monsterPosTarget+=.025},this.getMalus=function(){e.obstacle.status="flying";var t=Math.random()>.5?-20-10*Math.random():20+5*Math.random();Oe.a.to(e.obstacle.mesh.position,4,{x:t,y:50*Math.random(),z:350,ease:Me.e.easeOut}),Oe.a.to(e.obstacle.mesh.rotation,4,{x:3*Math.PI,z:3*Math.PI,y:6*Math.PI,ease:Me.e.easeOut,onComplete:function(){e.obstacle.status="ready",e.obstacle.body.rotation.y=Math.random()*Math.PI*2,e.obstacle.angle=-e.floorRotation-.4*Math.random(),e.obstacle.angle=e.obstacle.angle%(2*Math.PI),e.obstacle.mesh.rotation.x=0,e.obstacle.mesh.rotation.y=0,e.obstacle.mesh.rotation.z=0,e.obstacle.mesh.position.z=0}}),e.monsterPosTarget-=.04,Oe.a.from(e,.5,{malusClearAlpha:.5,onUpdate:function(){e.renderer.setClearColor(e.malusClearColor,e.malusClearAlpha)}})},this.updateDistance=function(){e.distance+=t.delta*t.speed;var i=e.distance/2;e.fieldDistance.innerHTML=Math.floor(i),e.updateStats(),e.fieldHighScore>e.highScore?e.fieldHighScore.innerHTML=Math.floor(i):e.fieldHighScore=e.highScore,localStorage.setItem("highScore",Math.floor(i).toLocaleString())},this.updateStats=function(){e.polyCountValue.innerHTML=e.renderer.info.render.triangles.toLocaleString(),e.drawCallsValue.innerHTML=e.renderer.info.render.calls.toLocaleString(),e.texturesInMemoryValue.innerHTML=e.renderer.info.memory.textures.toLocaleString(),e.geometriesInMemoryValue.innerHTML=e.renderer.info.memory.geometries.toLocaleString()},this.updateLevel=function(){t.speed>=t.maxSpeed||(e.level++,t.speed+=2)},this.loop=function(){t.delta=t.clock.getDelta(),e.updateFloorRotation(),"play"==t.gameStatus&&("running"==e.hero.status&&e.hero.run(),e.updateDistance(),e.updateMonsterPosition(),e.updateCarrotPosition(),e.updateObstaclePosition(),e.checkCollision()),e.render(),requestAnimationFrame(e.loop)},this.render=function(){e.renderer.render(e.scene,e.camera)},this.resetGame=function(){console.log("fun _> resetGame"),e.scene.add(e.hero.mesh),e.hero.mesh.rotation.y=Math.PI/2,e.hero.mesh.position.y=0,e.hero.mesh.position.z=0,e.hero.mesh.position.x=0,e.monsterPos=.56,e.monsterPosTarget=.65,t.speed=e.initSpeed,e.level=0,e.distance=0,e.carrot.mesh.visible=!0,e.obstacle.mesh.visible=!0,t.gameStatus="play",e.hero.status="running",e.hero.nod(),e.updateLevel(),e.levelInterval=setInterval(e.updateLevel,e.levelUpdateFreq)},this.initUI=function(){e.fieldDistance=document.getElementById("distValue"),e.fieldGameOver=document.getElementById("gameoverInstructions"),e.fieldHighScore=document.getElementById("highScoreValue"),e.polyCountValue=document.getElementById("polyCountValue"),e.drawCallsValue=document.getElementById("drawCallsValue"),e.texturesInMemoryValue=document.getElementById("texturesInMemoryValue"),e.geometriesInMemoryValue=document.getElementById("geometriesInMemoryValue")},this.material=new Se,t.delta=0,t.maxSpeed=48,t.speed=6,t.gameStatus="play",t.clock=new ye.d,this.highScore=localStorage.getItem("highScore"),this.fieldHighScore=localStorage.getItem("highScore"),this.floorRadius=200,this.distance=0,this.level=1,this.levelUpdateFreq=3e3,this.initSpeed=5,this.monsterPos=.65,this.monsterPosTarget=.65,this.floorRotation=0,this.collisionObstacle=10,this.collisionBonus=20,this.cameraPosGame=160,this.cameraPosGameOver=260,this.monsterAcceleration=.004,this.malusClearColor=11815737,this.malusClearAlpha=0,window.addEventListener("load",this.init,!1)}return Object(mt.a)(t,null,[{key:"removeParticle",value:function(t){t.visible=!1}}]),t}();Re.delta=void 0,Re.gameStatus=void 0,Re.clock=void 0,Re.speed=void 0,Re.maxSpeed=void 0,Re.getWorldVerticesPos=function(t){if(t.isMesh)for(var e=t.geometry.attributes.position,i=new ye.r,a=0,n=e.count;a<n;a++)i.fromBufferAttribute(e,a),i.applyMatrix4(t.matrixWorld)};var ze=function(){Object(a.useEffect)((function(){var t=new Re;t.init(),console.log("Game Status",Re.gameStatus,"\nHero Status",t&&t.hero&&t.hero.status)}));return Object(it.jsxs)("div",{id:"world",children:[Object(it.jsx)("div",{id:"gameoverInstructions",children:"Game Over"}),Object(it.jsxs)("div",{className:"stats",children:[Object(it.jsxs)("div",{className:"statsContainer",children:[Object(it.jsx)("span",{className:"statsLabel",children:"Scene polyCount:"}),Object(it.jsx)("div",{id:"polyCountValue",children:"000"})]}),Object(it.jsxs)("div",{className:"statsContainer",children:["Active Draw Calls:",Object(it.jsx)("div",{id:"drawCallsValue",children:"000"})]}),Object(it.jsxs)("div",{className:"statsContainer",children:["Textures in Memory:",Object(it.jsx)("div",{id:"texturesInMemoryValue",children:"000"})]}),Object(it.jsxs)("div",{className:"statsContainer",children:["Geometries in Memory:",Object(it.jsx)("div",{id:"geometriesInMemoryValue",children:"000"})]})]}),Object(it.jsxs)("div",{id:"dist",children:[Object(it.jsx)("div",{className:"label",children:"distance"}),Object(it.jsx)("div",{id:"distValue",children:"000"})]}),Object(it.jsxs)("div",{id:"highScore",children:["HighScore:",Object(it.jsx)("div",{id:"highScoreValue",children:"000"})]}),Object(it.jsxs)("div",{id:"instructions",children:["Click to jump",Object(it.jsx)("span",{className:"lightInstructions",children:"\u2014 Grab the carrots / avoid the hedgehogs"}),Object(it.jsx)("button",{id:"button",children:"sound"})]}),Object(it.jsx)(ae,{})]})},Ne=function t(e){var i=this;Object(ut.a)(this,t),this.n=void 0,this.result=void 0,this.tw=void 0,this.image=void 0,this.gameEngine=void 0,this.update=function(){},this.firstRender=function(t){t.fillStyle="#383933",t.fillRect(0,0,i.tw,i.gameEngine.HEIGHT),t.fillStyle="#2a2b26",t.fillRect(0,0,10,i.gameEngine.HEIGHT),t.fillStyle="#484235",t.fillRect(0,i.gameEngine.HEIGHT-150,i.tw,10),t.fillStyle="#747362",t.fillRect(0,i.gameEngine.HEIGHT-140,i.tw,140)},this.secondRender=function(t){var e=t.createPattern(i.result,"repeat");t.fillStyle=e,t.fillRect(0,0,2*i.gameEngine.WIDTH,i.gameEngine.HEIGHT)},this.draw=function(t){var e=i.gameEngine.distance%i.gameEngine.WIDTH/2;t.save(),t.translate(-e,0),t.drawImage(i.image,0,0),t.fill(),t.restore()},this.gameEngine=e,this.tw=this.gameEngine.WIDTH/12,this.result=this.gameEngine.renderToCanvas(this.tw,this.gameEngine.HEIGHT,this.firstRender),this.n=this.gameEngine.renderToCanvas(2*this.gameEngine.WIDTH,this.gameEngine.HEIGHT,this.secondRender),this.image=this.n},Ce=Math.PI/180,Be=function t(e){var i=this;Object(ut.a)(this,t),this.node=void 0,this.engine=void 0,this.getAngle=function(t,e,i,a){var n=t-i,o=e-a;return Math.atan2(o,n)},this.getDegree=function(t,e,a,n){return i.getAngle(t,e,a,n)/Ce},this.update=function(){},this.draw=function(t){for(var e,a,n,o,s=i.engine.walls.length,r=0;r<s;r+=1)e={x:i.engine.walls[r].x-i.engine.walls[r].width/2,y:i.engine.WALL_HEIGHT},a={x:i.engine.walls[r].x+i.engine.walls[r].width/2,y:i.engine.WALL_HEIGHT},n=i.getDegree(e.x-i.engine.distance,e.y,i.node.x,i.node.y),o=i.getDegree(a.x-i.engine.distance,a.y,i.node.x,i.node.y),t.save(),t.translate(-i.engine.distance,0),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(a.x,a.y),t.lineTo(a.x+200*Math.cos(o*Ce),a.y+200*Math.sin(o*Ce)),t.lineTo(e.x+200*Math.cos(n*Ce),e.y+200*Math.sin(n*Ce)),t.closePath(),t.fillStyle=i.engine.gradients.shadow,t.fill(),t.restore()},this.engine=e,this.node={x:this.engine.WIDTH/2,y:this.engine.HEIGHT/4}},_e=Math.PI/180;Math.randMinMax||(Math.randMinMax=function(t,e,i){var a=t+Math.random()*(e-t);return i?a=Math.round(a):a});var De=function t(e,i){var a=this;for(Object(ut.a)(this,t),this.life=void 0,this.particles=void 0,this.val=void 0,this.x=void 0,this.y=void 0,this.engine=void 0,this.getAngle=function(t,e,i,a){var n=t-i,o=e-a;return Math.atan2(o,n)},this.getDegree=function(t,e,i,n){return a.getAngle(t,e,i,n)/_e},this.update=function(t){if(a.life<.5)for(var e,i=0;i<40;i+=1)(e=a.particles[i]).degree+=e.vd*t,e.speed+=e.vs,e.speed<0&&(e.speed=0),e.x+=Math.cos(e.degree*_e)*e.speed*t,e.y+=Math.sin(e.degree*_e)*e.speed*t,e.x-=t*a.engine.speed,e.y>e.parent.y+20&&(e.degree*=-1)},this.draw=function(t){if(a.life<.5)for(var e,i=0;i<40;i+=1)e=a.particles[i],t.save(),t.translate(e.x,e.y),t.rotate(e.degree*_e),t.fillStyle=e.color,t.fillRect(-e.size,-e.size,2*e.size,2*e.size),t.restore()},this.engine=i,this.life=0,this.x=e.x,this.y=e.y,this.particles=[],this.val=0;this.val<40;this.val+=1)this.particles.push({parent:this,x:this.x,y:this.y,color:"rgba(255,255,255,".concat(Math.random(),")"),speed:Math.randMinMax(100,300,void 0),size:Math.randMinMax(2,10,void 0),degree:Math.randMinMax(0,360,void 0),vd:Math.randMinMax(-30,0,void 0),vs:Math.randMinMax(-12,-6,void 0)})},We=Math.PI/180,Ge=function t(e,i){var a=this;return Object(ut.a)(this,t),this.skin=void 0,this.img=void 0,this.gun=void 0,this.x=void 0,this.y=void 0,this.vx=void 0,this.vy=void 0,this.degree=void 0,this.counter=void 0,this.width=void 0,this.height=void 0,this.gunDegree=void 0,this.currentGunDegree=void 0,this.isRunning=void 0,this.isJumping=void 0,this.isLanding=void 0,this.engine=void 0,this.localY=void 0,this.update=function(t){console.log("updated players"),a.counter+=1*t,a.currentGunDegree!==a.gunDegree&&(a.currentGunDegree+=.1*(a.gunDegree-a.currentGunDegree)),a.isJumping&&(a.degree+=.5,a.degree>30&&(a.degree=30),a.vy>0&&a.y>=a.engine.HEIGHT-70&&(a.onLanding(),a.setGunDegree(0),a.isLanding=!0,a.isJumping=!1)),a.isLanding&&(a.degree+=10,a.degree>=355&&(a.onLandingEnd(),a.degree=0,a.isLanding=!1,a.isRunning=!0)),a.vy+=a.engine.GRAVITY,a.y+=a.vy*t,a.y>a.localY&&(a.y=a.localY)},this.draw=function(t){var e=a.width,i=a.height,n=a.x,o=a.y+2.5*Math.sin(8*a.counter);o-i/2<=0&&(a.y=i/2,a.vy=0),a.img.onload=function(){t.save(),t.translate(n,o),t.rotate(a.degree*We),t.drawImage(a.img,-e/2,-i/2,e,i),console.log("IMAGE Context",t),t.restore(),t.save(),180===a.gunDegree?t.translate(n+8,o+15):t.translate(n-13,o+5),t.rotate(a.currentGunDegree*We),t.drawImage(a.gun,-5,-5),t.restore()}},this.jump=function(){a.isLanding||(a.isRunning?(a.onJumping(),a.setGunDegree(100),a.vy=-650,a.isJumping=!0,a.isRunning=!1):a.isJumping&&a.inWallBoundaries()&&(a.onLanding(),a.setGunDegree(180),a.vy=-450))},this.onJumping=function(){a.engine.setSpeed(a.engine.JUMP_INCREASE,1),a.engine.addToWorld(new De({x:a.x,y:a.y},a.engine))},this.setGunDegree=function(t){a.gunDegree=t},this.inWallBoundaries=function(){for(var t=a.engine.distance+a.x,e=a.engine.walls.length,i=0;i<e;i+=1)if(a.y<a.engine.WALL_HEIGHT&&t>a.engine.walls[i].x-a.engine.walls[i].width/2&&t<a.engine.walls[i].x+a.engine.walls[i].width/2)return!0;return!1},this.onLanding=function(){a.engine.addToWorld(new De({x:a.x,y:a.y},a.engine)),a.engine.setSpeed(a.engine.speed+a.engine.NADE_INCREASE,1),a.engine.setScore(a.engine.score+100),a.engine.setJumps(a.engine.jumps+1)},this.onLandingEnd=function(){a.engine.score>a.engine.highscore&&a.engine.setHighscore(a.engine.score),a.engine.setSpeed(a.engine.MIN_SPEED,.1),a.engine.setScore(0),a.engine.setJumps(0)},this.engine=i,this.skin=this,this.img=new Image,this.gun=new Image,this.x=e.x,this.localY=e.y,this.vx=0,this.vy=0,this.degree=0,this.counter=0,this.width=7,this.height=7,this.gunDegree=0,this.currentGunDegree=0,this.isRunning=!0,this.isJumping=!1,this.isLanding=!1,this.img.onload=function(){a.skin.width=a.width,a.skin.height=a.height,a.img.src="../assets/razor.png",a.gun.src="../assets/nader.png"},this.img.src="../assets/razor.png",this.gun.src="../assets/nader.png",this},Ae=function t(e,i){var a=this;Object(ut.a)(this,t),this.targetWidth=void 0,this.width=void 0,this.x=void 0,this.engine=void 0,this.spawn=function(){a.x=a.engine.lastWallX+a.engine.WIDTH,a.engine.speed===a.engine.MAX_SPEED&&(a.x-=a.engine.Math.randMinMax(0,200,void 0)),a.engine.lastWallX=a.x},this.resize=function(t){a.targetWidth=t},this.update=function(){a.width!==a.targetWidth&&(a.width+=.1*(a.targetWidth-a.width)),a.engine.distance>a.x+a.width/2&&a.spawn()},this.draw=function(t){var e=a.width,i=a.engine.WALL_HEIGHT;t.save(),t.translate(a.x-a.engine.distance,0),t.fillStyle=a.engine.gradients.wall,t.fillRect(-e/2,0,e,i),t.restore()},this.x=e.x,this.width=e.width,this.targetWidth=e.width,this.engine=i},Xe=function(){function t(){var e=this;Object(ut.a)(this,t),this.ctx=void 0,this.canvas=void 0,this.d0=void 0,this.particles=void 0,this.gradients=void 0,this.WIDTH=void 0,this.HEIGHT=void 0,this.WALL_HEIGHT=void 0,this.GRAVITY=void 0,this.MIN_SPEED=void 0,this.MAX_SPEED=void 0,this.MIN_WALL_WIDTH=void 0,this.MAX_WALL_WIDTH=void 0,this.MAX_JUMPS=void 0,this.NADE_INCREASE=void 0,this.JUMP_INCREASE=void 0,this.score=void 0,this.highscore=void 0,this.jumps=void 0,this.distance=void 0,this.speed=void 0,this.targetSpeed=void 0,this.acceleration=void 0,this.walls=void 0,this.lastWallX=void 0,this.player=void 0,this.mouseDown=function(){e.$("#title").classList.add("hidden"),e.update()},this.init=function(){var t=e.ctx.createLinearGradient(0,e.WALL_HEIGHT,0,e.HEIGHT),i=e.ctx.createLinearGradient(0,0,0,e.WALL_HEIGHT);t.addColorStop(0,"#5d5c4f"),t.addColorStop(1,"#747362"),i.addColorStop(0,"#838678"),i.addColorStop(.33,"#929585"),i.addColorStop(.33,"#676b52"),i.addColorStop(.66,"#676b52"),i.addColorStop(.66,"#545743"),i.addColorStop(.68,"#929585"),i.addColorStop(1,"#838678"),e.gradients={shadow:t,wall:i}},this.update=function(){e.init(),e.setSpeed(e.MIN_SPEED,0),e.addToWorld(new Ne(e));for(var t=0;t<3;t+=1)e.walls[t]=new Ae({x:e.WIDTH+e.WIDTH*t,width:e.WIDTH},e),e.addToWorld(e.walls[t]),e.lastWallX=e.walls[t].x;e.addToWorld(new Be(e)),e.player=new Ge({x:100,y:e.HEIGHT-60},e),e.addToWorld(e.player),e.$("#game").addEventListener("mousedown",e.playerJump),e.step()},this.playerJump=function(){e.player.jump()},this.step=function(){var t=new Date,i=(t-e.d0)/1e3,a=e.particles.length;e.distance+=i*e.speed,e.speed!==e.targetSpeed&&(e.speed+=(e.targetSpeed-e.speed)*e.acceleration),e.canvas.width=e.WIDTH;for(var n=0;n<a;n+=1)e.particles[n].update(i),e.particles[n].draw(e.ctx);e.d0=t,e.requestAnimationFrame(e.step)},this.addToWorld=function(t){e.particles.push(t)},this.setSpeed=function(t,i){t>e.MAX_SPEED&&(t=e.MAX_SPEED),e.targetSpeed=t,e.acceleration=i||e.acceleration},this.setScore=function(t){var i=t-e.score;i>0&&(i="+".concat(i)),e.score=t,e.$("#score").innerHTML=t,e.$("#increase").style.top="".concat(e.player.y-80,"px"),e.$("#increase").innerHTML='<div class="ding">'.concat(i,"</div>")},this.setHighscore=function(t){e.highscore=t,e.$("#highscore").innerHTML=t,e.$("#newhighscore").classList.add("visible"),window.setTimeout(e.removeHighScore,1500)},this.removeHighScore=function(){e.$("#newhighscore").classList.remove("visible")},this.resizeWalls=function(){for(var t=e.MIN_WALL_WIDTH+(1-e.jumps/e.MAX_JUMPS)*(e.MAX_WALL_WIDTH-e.MIN_WALL_WIDTH),i=e.walls.length,a=0;a<i;a+=1)e.walls[a].resize(t)},this.renderToCanvas=function(t,e,i,a){var n=document.createElement("canvas");return a||(a={}),n.width=t,n.height=e,i.call(a,n.getContext("2d")),n},this.requestAnimationFrame=function(t){window.setTimeout(t,1e3/60)},this.canvas=document.getElementById("game"),this.ctx=this.canvas.getContext("2d"),this.d0=new Date,this.particles=[],this.WIDTH=this.canvas.width,this.HEIGHT=this.canvas.height,this.WALL_HEIGHT=this.HEIGHT-75,this.GRAVITY=25,this.MIN_SPEED=100,this.MAX_SPEED=1100,this.MIN_WALL_WIDTH=60,this.MAX_WALL_WIDTH=this.WIDTH,this.MAX_JUMPS=12,this.NADE_INCREASE=100,this.JUMP_INCREASE=300,this.score=0,this.highscore=0,this.jumps=0,this.distance=0,this.speed=0,this.targetSpeed=0,this.acceleration=.05,this.walls=[],this.gradients={},this.lastWallX=0,this.$("#title").addEventListener("mousedown",this.mouseDown)}return Object(mt.a)(t,[{key:"$",value:function(t){return document.querySelector(t)}}]),t}(),Ye=(i(90),function(){var t=function(){return Object(it.jsxs)("div",{className:"instructions",children:["You are ",Object(it.jsx)("em",{children:"PropelMan!"}),Object(it.jsx)("br",{}),Object(it.jsx)("em",{children:"Click"})," to propel yourself in the air by using your grenade launcher.",Object(it.jsx)("br",{}),"When airborne, ",Object(it.jsx)("em",{children:"click again in front of walls"})," to bounce further and further.",Object(it.jsx)("br",{}),"The longer you can go without touching the ground,"," ",Object(it.jsx)("em",{children:"the more points you get."}),Object(it.jsx)("br",{})]})},e=function(){return Object(it.jsx)("canvas",{className:"canvas",id:"game",width:"640",height:"360"})},i=function(){return Object(it.jsxs)("div",{className:"hud-highscore",children:[Object(it.jsx)("div",{id:"highscore",className:"hud-counter",children:"0"}),Object(it.jsx)("div",{className:"hud-caption",children:"Highscore"})]})},n=function(){return Object(it.jsxs)("div",{className:"hud-score",children:[Object(it.jsx)("div",{id:"score",className:"hud-counter",children:"0"}),Object(it.jsx)("div",{className:"hud-caption",children:"Score"})]})},o=function(){return Object(it.jsxs)("div",{className:"hud-jumps",children:[Object(it.jsx)("div",{id:"jumps",className:"hud-counter",children:"0"}),Object(it.jsx)("div",{className:"hud-caption",children:"Jump Combo"})]})};return Object(a.useEffect)((function(){(new Xe).init()}),[]),Object(it.jsx)("div",{className:"propelManContainer",children:Object(it.jsxs)("div",{className:"wrap",children:[Object(it.jsxs)("div",{className:"screen title",id:"title",children:[Object(it.jsx)("h1",{children:"PropelMan"}),Object(it.jsx)("p",{children:"Click to start"})]}),Object(it.jsx)(e,{}),Object(it.jsxs)("div",{className:"screen hud",children:[Object(it.jsx)(o,{}),Object(it.jsx)(n,{}),Object(it.jsx)(i,{}),Object(it.jsx)("div",{id:"increase"}),Object(it.jsx)("div",{id:"newhighscore",children:"New Highscore!"})]}),Object(it.jsx)(t,{})]})})}),Fe=(i(91),function t(){var e=this;Object(ut.a)(this,t),this.holes=void 0,this.accelerationX=void 0,this.accelerationY=void 0,this.ballElements=void 0,this.ballSize=void 0,this.balls=void 0,this.debugMode=void 0,this.frictionX=void 0,this.frictionY=void 0,this.gameInProgress=void 0,this.hardMode=void 0,this.holeElements=void 0,this.holeSize=void 0,this.mouseStartX=void 0,this.mouseStartY=void 0,this.pathW=void 0,this.previousTimestamp=void 0,this.wallW=void 0,this.walls=void 0,this.joystickHeadElement=void 0,this.mazeElement=void 0,this.noteElement=void 0,this.maxVelocity=void 0,this.minmax=function(t,e){return Math.max(Math.min(t,e),-e)},this.drawBallsFirstTime=function(){e.balls.forEach((function(t){var i=t.x,a=t.y,n=document.createElement("div");n.setAttribute("class","ball"),n.style.cssText="left: ".concat(i,"px; top: ").concat(a,"px; "),e.mazeElement.appendChild(n),e.ballElements.push(n)}))},this.drawWalls=function(){e.walls.forEach((function(t){var i=t.x,a=t.y,n=t.horizontal,o=t.length,s=document.createElement("div");s.setAttribute("class","wall"),s.style.cssText="\n      left: ".concat(i,"px;\n      top: ").concat(a,"px;\n      width: ").concat(e.wallW,"px;\n      height: ").concat(o,"px;\n      transform: rotate(").concat(n?-90:0,"deg);\n    "),e.mazeElement.appendChild(s)}))},this.setHole=function(){e.holes=[{column:0,row:5},{column:2,row:0},{column:2,row:4},{column:4,row:6},{column:6,row:2},{column:6,row:8},{column:8,row:1},{column:8,row:2}].map((function(t){return{x:t.column*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2),y:t.row*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2)}}))},this.setWallData=function(){e.walls=[{column:0,row:0,horizontal:!0,length:10},{column:0,row:0,horizontal:!1,length:9},{column:0,row:9,horizontal:!0,length:10},{column:10,row:0,horizontal:!1,length:9},{column:0,row:6,horizontal:!0,length:1},{column:0,row:8,horizontal:!0,length:1},{column:1,row:1,horizontal:!0,length:2},{column:1,row:7,horizontal:!0,length:1},{column:2,row:2,horizontal:!0,length:2},{column:2,row:4,horizontal:!0,length:1},{column:2,row:5,horizontal:!0,length:1},{column:2,row:6,horizontal:!0,length:1},{column:3,row:3,horizontal:!0,length:1},{column:3,row:8,horizontal:!0,length:3},{column:4,row:6,horizontal:!0,length:1},{column:5,row:2,horizontal:!0,length:2},{column:5,row:7,horizontal:!0,length:1},{column:6,row:1,horizontal:!0,length:1},{column:6,row:6,horizontal:!0,length:2},{column:7,row:3,horizontal:!0,length:2},{column:7,row:7,horizontal:!0,length:2},{column:8,row:1,horizontal:!0,length:1},{column:8,row:2,horizontal:!0,length:1},{column:8,row:3,horizontal:!0,length:1},{column:8,row:4,horizontal:!0,length:2},{column:8,row:8,horizontal:!0,length:2},{column:1,row:1,horizontal:!1,length:2},{column:1,row:4,horizontal:!1,length:2},{column:2,row:2,horizontal:!1,length:2},{column:2,row:5,horizontal:!1,length:1},{column:2,row:7,horizontal:!1,length:2},{column:3,row:0,horizontal:!1,length:1},{column:3,row:4,horizontal:!1,length:1},{column:3,row:6,horizontal:!1,length:2},{column:4,row:1,horizontal:!1,length:2},{column:4,row:6,horizontal:!1,length:1},{column:5,row:0,horizontal:!1,length:2},{column:5,row:6,horizontal:!1,length:1},{column:5,row:8,horizontal:!1,length:1},{column:6,row:4,horizontal:!1,length:1},{column:6,row:6,horizontal:!1,length:1},{column:7,row:1,horizontal:!1,length:4},{column:7,row:7,horizontal:!1,length:2},{column:8,row:2,horizontal:!1,length:1},{column:8,row:4,horizontal:!1,length:2},{column:9,row:1,horizontal:!1,length:1},{column:9,row:5,horizontal:!1,length:2}].map((function(t){return{x:t.column*(e.pathW+e.wallW),y:t.row*(e.pathW+e.wallW),horizontal:t.horizontal,length:t.length*(e.pathW+e.wallW)}}))},this.keyDown=function(t){if([" ","H","h","E","e"].includes(t.key)){if(t.preventDefault()," "!==t.key)return"H"===t.key||"h"===t.key?(e.hardMode=!0,void e.resetGame()):void("E"!==t.key&&"e"!==t.key||(e.hardMode=!1,e.resetGame()));e.resetGame()}},this.mouseMove=function(t){if(e.gameInProgress&&e.mouseStartX&&e.mouseStartY){var i=-e.minmax(e.mouseStartX-t.clientX,15),a=-e.minmax(e.mouseStartY-t.clientY,15);e.joystickHeadElement.style.cssText="\n        left: ".concat(i,"px;\n        top: ").concat(a,"px;\n        animation: none;\n        cursor: grabbing;\n      ");var n=.8*i,o=.8*a;e.mazeElement.style.cssText="\n        transform: rotateY(".concat(n,"deg) rotateX(").concat(-o,"deg)\n      ");e.accelerationX=2*Math.sin(n/180*Math.PI),e.accelerationY=2*Math.sin(o/180*Math.PI),e.frictionX=2*Math.cos(n/180*Math.PI)*.01,e.frictionY=2*Math.cos(o/180*Math.PI)*.01}},this.mouseDown=function(t){if(!e.gameInProgress){e.mouseStartX=t.clientX,e.mouseStartY=t.clientY,e.gameInProgress=!0,window.requestAnimationFrame(e.main);e.noteElement.style.opacity=(0).toString(),e.joystickHeadElement.style.cssText="\n        animation: none;\n        cursor: grabbing;\n      "}},this.distance2D=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},this.getAngle=function(t,e){var i=Math.atan((e.y-t.y)/(e.x-t.x));return e.x-t.x<0&&(i+=Math.PI),i},this.closestItCanBe=function(t,i){var a=e.getAngle(t,i),n=Math.cos(a)*(e.wallW/2+e.ballSize/2),o=Math.sin(a)*(e.wallW/2+e.ballSize/2);return{x:t.x+n,y:t.y+o}},this.rollAroundCap=function(t,i){var a=e.getAngle(i,t),n=a-e.getAngle({x:0,y:0},{x:i.velocityX,y:i.velocityY}),o=e.distance2D({x:0,y:0},{x:i.velocityX,y:i.velocityY}),s=Math.sin(n)*o,r=e.wallW/2+e.ballSize/2,c=Math.atan(s/r),h=Math.cos(a+Math.PI-c)*r,l=Math.sin(a+Math.PI-c)*r,d=i.x,u=i.y,m=i.x-(t.x+h),p=i.y-(t.y+l);return{x:d,y:u,velocityX:m,velocityY:p,nextX:d+m,nextY:u+p}},this.slow=function(t,e){return Math.abs(t)<=e?0:t>e?t-e:t+e},this.resetGame=function(){console.log("resetGame"),e.previousTimestamp=void 0,e.gameInProgress=!1,e.mouseStartX=void 0,e.mouseStartY=void 0,e.accelerationX=void 0,e.accelerationY=void 0,e.frictionX=void 0,e.frictionY=void 0,e.mazeElement.style.cssText="\n      transform: rotateY(0deg) rotateX(0deg)\n    ",e.joystickHeadElement.style.cssText="\n      left: 0;\n      top: 0;\n      animation: glow;\n      cursor: grab;\n    ",e.hardMode?e.noteElement.innerHTML="Click the joystick to start!\n        <p>Hard mode, Avoid black holes. Back to easy mode? Press E</p>":e.noteElement.innerHTML="Click the joystick to start!\n        <p>Move every ball to the center. Ready for hard mode? Press H</p>";e.noteElement.style.opacity=1..toString(),e.balls=[{column:0,row:0},{column:9,row:0},{column:0,row:8},{column:9,row:8}].map((function(t){return{x:t.column*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2),y:t.row*(e.wallW+e.pathW)+(e.wallW/2+e.pathW/2),velocityX:0,velocityY:0}})),e.ballElements.length&&e.balls.forEach((function(t,i){var a=t.x,n=t.y;e.ballElements[i].style.cssText="left: ".concat(a,"px; top: ").concat(n,"px; ")})),e.holeElements.forEach((function(t){e.mazeElement.removeChild(t)})),e.holeElements=[],e.hardMode&&e.holes.forEach((function(t,i){var a=document.createElement("div");a.setAttribute("class","black-hole"),a.style.cssText="left: ".concat(t,"px; top: ").concat(i,"px; "),e.mazeElement.appendChild(a),e.holeElements.push(a)}))},this.main=function(t){if(e.gameInProgress){if(void 0===e.previousTimestamp)return e.previousTimestamp=t,void window.requestAnimationFrame(e.main);var i=(t-e.previousTimestamp)/16;try{if(void 0!==e.accelerationX&&void 0!==e.accelerationY&&void 0!==e.frictionX&&void 0!==e.frictionY){var a=e.accelerationX*i,n=e.accelerationY*i,o=e.frictionX*i,s=e.frictionY*i;e.balls.forEach((function(t){0===a?t.velocityX=e.slow(t.velocityX,o):(t.velocityX+=a,t.velocityX=Math.max(Math.min(t.velocityX,1.5),-1.5),t.velocityX-=Math.sign(a)*o,t.velocityX=e.minmax(t.velocityX,e.maxVelocity)),0===n?t.velocityY=e.slow(t.velocityY,s):(t.velocityY+=n,t.velocityY-=Math.sign(n)*s,t.velocityY=e.minmax(t.velocityY,e.maxVelocity)),t.nextX=t.x+t.velocityX,t.nextY=t.y+t.velocityY,e.debugMode&&console.log("tick",t),e.walls.forEach((function(i,a){if(i.horizontal){if(t.nextY+e.ballSize/2>=i.y-e.wallW/2&&t.nextY-e.ballSize/2<=i.y+e.wallW/2){var n={x:i.x,y:i.y},o={x:i.x+i.length,y:i.y};if(t.nextX+e.ballSize/2>=n.x-e.wallW/2&&t.nextX<n.x){var s=e.distance2D(n,{x:t.nextX,y:t.nextY});if(s<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close h head",s,t);var r=e.closestItCanBe(n,{x:t.nextX,y:t.nextY}),c=e.rollAroundCap(n,{x:r.x,y:r.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,c)}}if(t.nextX-e.ballSize/2<=o.x+e.wallW/2&&t.nextX>o.x){var h=e.distance2D(o,{x:t.nextX,y:t.nextY});if(h<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close h tail",h,t);var l=e.closestItCanBe(o,{x:t.nextX,y:t.nextY}),d=e.rollAroundCap(o,{x:l.x,y:l.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,d)}}t.nextX>=n.x&&t.nextX<=o.x&&(t.nextY<i.y?t.nextY=i.y-e.wallW/2-e.ballSize/2:t.nextY=i.y+e.wallW/2+e.ballSize/2,t.y=t.nextY,t.velocityY=-t.velocityY/3,e.debugMode&&a>4&&console.error("crossing h line, HIT",t))}}else if(t.nextX+e.ballSize/2>=i.x-e.wallW/2&&t.nextX-e.ballSize/2<=i.x+e.wallW/2){var u={x:i.x,y:i.y},m={x:i.x,y:i.y+i.length};if(t.nextY+e.ballSize/2>=u.y-e.wallW/2&&t.nextY<u.y){var p=e.distance2D(u,{x:t.nextX,y:t.nextY});if(p<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close v head",p,t);var g=e.closestItCanBe(u,{x:t.nextX,y:t.nextY}),b=e.rollAroundCap(u,{x:g.x,y:g.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,b)}}if(t.nextY-e.ballSize/2<=m.y+e.wallW/2&&t.nextY>m.y){var f=e.distance2D(m,{x:t.nextX,y:t.nextY});if(f<e.ballSize/2+e.wallW/2){e.debugMode&&a>4&&console.warn("too close v tail",f,t);var v=e.closestItCanBe(m,{x:t.nextX,y:t.nextY}),x=e.rollAroundCap(m,{x:v.x,y:v.y,velocityX:t.velocityX,velocityY:t.velocityY});Object.assign(t,x)}}t.nextY>=u.y&&t.nextY<=m.y&&(t.nextX<i.x?t.nextX=i.x-e.wallW/2-e.ballSize/2:t.nextX=i.x+e.wallW/2+e.ballSize/2,t.x=t.nextX,t.velocityX=-t.velocityX/3,e.debugMode&&a>4&&console.error("crossing v line, HIT",t))}})),e.hardMode&&e.holes.forEach((function(i,a){if(e.distance2D(i,{x:t.nextX,y:t.nextY})<=e.holeSize/2)throw e.holeElements[a].style.backgroundColor="red",Error("The ball fell into a hole")})),t.x+=t.velocityX,t.y+=t.velocityY})),e.balls.forEach((function(t,i){var a=t.x,n=t.y;e.ballElements[i].style.cssText="left: ".concat(a,"px; top: ").concat(n,"px; ")}))}var r={x:175,y:157.5};if(e.balls.every((function(t){return e.distance2D(t,r)<32.5}))){e.noteElement.innerHTML="Congrats, you did it!\n        ".concat(e.hardMode?"":"<p>Press H for hard mode</p>",'\n        <p>\n          Follow me\n          <a href="#" , target="_blank">\n            @poplogics</a>\n        </p>');e.noteElement.style.opacity=1..toString(),e.gameInProgress=!1}else e.previousTimestamp=t,window.requestAnimationFrame(e.main)}catch(c){if("The ball fell into a hole"!==c.message)throw c;e.noteElement.innerHTML="A ball fell into a black hole! Press space to reset the game.\n        <p>\n          Back to easy? Press E\n        </p>";e.noteElement.style.opacity=1..toString(),e.gameInProgress=!1}}},this.mazeElement=document.getElementById("maze"),this.joystickHeadElement=document.getElementById("joystick-head"),this.noteElement=document.getElementById("note"),this.pathW=25,this.wallW=10,this.ballSize=10,this.holeSize=18,this.debugMode=!1,this.balls=[],this.ballElements=[],this.holeElements=[],this.maxVelocity=1.5,this.resetGame(),this.drawBallsFirstTime(),this.setWallData(),this.drawWalls(),this.setHole(),this.joystickHeadElement.addEventListener("mousedown",this.mouseDown),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("keydown",this.keyDown)}),Ve=function(){return Object(a.useEffect)((function(){console.log("tiltMaze initialized");new Fe})),Object(it.jsx)("div",{id:"center",children:Object(it.jsxs)("div",{id:"game",children:[Object(it.jsx)("div",{id:"maze",children:Object(it.jsx)("div",{id:"end"})}),Object(it.jsxs)("div",{id:"joystick",children:[Object(it.jsx)("div",{className:"joystick-arrow"}),Object(it.jsx)("div",{className:"joystick-arrow"}),Object(it.jsx)("div",{className:"joystick-arrow"}),Object(it.jsx)("div",{className:"joystick-arrow"}),Object(it.jsx)("div",{id:"joystick-head"})]}),Object(it.jsxs)("div",{id:"note",children:["Click the joystick to start!",Object(it.jsx)("p",{children:"Move every ball to the center. Ready for hard mode? Press H"})]})]})})},qe=Object(r.a)((function(t){return t.notification}),(function(t){return t.notifications})),Ue=(i(92),function(){var t=Object(s.b)(),e=Object(s.c)(qe);return Object(it.jsx)("div",{className:"notification",children:Object(it.jsx)("ul",{className:"notification_list",children:Object(it.jsx)(et.a,{initial:!1,children:e&&e.map((function(e,i){var a;return a=i,setTimeout((function(){t(P(a))}),2500),Object(it.jsx)(nt.a.li,{className:"notification_list_item",initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{x:50,opacity:0,transition:{duration:.2}},children:Object(it.jsx)("span",{className:"notification_list_item_message",children:e.message})},i)}))})})})}),Je=(i(93),i(94),function(){return Object(it.jsx)("div",{className:"mediaContainer",children:Object(it.jsxs)("div",{className:"wrapper",children:[Object(it.jsxs)("div",{className:"icon facebook",children:[Object(it.jsx)("div",{className:"tooltip",children:"Home"}),Object(it.jsx)("span",{children:Object(it.jsx)("i",{className:"fab fa-facebook-f"})})]}),Object(it.jsx)(tt.b,{to:"/app",children:Object(it.jsxs)("div",{className:"icon twitter",children:[Object(it.jsx)("div",{className:"tooltip",children:"Game"}),Object(it.jsx)("span",{children:Object(it.jsx)("i",{className:"fab fa-twitter"})})]})}),Object(it.jsxs)("div",{className:"icon instagram",children:[Object(it.jsx)("div",{className:"tooltip",children:"Instagram"}),Object(it.jsx)("span",{children:Object(it.jsx)("i",{className:"fab fa-instagram"})})]}),Object(it.jsxs)("div",{className:"icon github",children:[Object(it.jsx)("div",{className:"tooltip",children:"Github"}),Object(it.jsx)("span",{children:Object(it.jsx)("i",{className:"fab fa-github"})})]}),Object(it.jsxs)("div",{className:"icon youtube",children:[Object(it.jsx)("div",{className:"tooltip",children:"Profile"}),Object(it.jsx)("span",{children:Object(it.jsx)("i",{className:"fab fa-youtube"})})]})]})})}),Ze={initial:{x:-50,opacity:0},animate:{x:0,opacity:1},exit:{y:-30,opacity:0}},$e=function(t){return t.time},Ke=(Object(r.a)($e,(function(t){return t.date})),Object(r.a)($e,(function(t){return t.dayOfMonth})),Object(r.a)($e,(function(t){return t.numberOfMonth})),Object(r.a)($e,(function(t){return t.time})),i(95),i(96),i.p+"static/media/_default_profile_img.ce4ec54a.png"),Qe=function(){var t=Object(a.useState)(Ke),e=Object(jt.a)(t,2),i=e[0],n=e[1];return{imageFile:i,fileInputRef:Object(a.useRef)(null),handleFileInput:function(t){t.preventDefault(),function(t){var e=t,i=new FileReader;i.readAsDataURL(e),i.onloadend=function(t){var e,i={blob:null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.result};n(i.blob)},i.onerror=function(t){console.log("Error: ",t)}}(t.target.files[0])}}},ti=function(){var t=Qe(),e=t.imageFile,i=t.fileInputRef,a=t.handleFileInput;return Object(it.jsxs)("div",{className:"profile",children:[Object(it.jsx)("img",{onClick:function(t){i.current&&i.current.click()},className:"profile__img",src:e,alt:"profile_img"}),Object(it.jsx)("input",{ref:i,style:{display:"none"},id:"photo-upload",type:"file",accept:"image/*",onChange:a})]})},ei=(i(97),function(){var t=Object(s.c)(c),e=function(){return Object(it.jsx)("span",{className:"userInfo_name",children:t.userName})};return Object(it.jsxs)("div",{className:"userInfo",children:[Object(it.jsx)(e,{}),Object(it.jsx)(ti,{})]},"userInfoOptions")}),ii=(i(98),function(){return Object(a.createElement)(nt.a.div,Object(d.a)(Object(d.a)({},Ze),{},{className:"topbar",key:"topbar"}),Object(it.jsx)(ei,{}))}),ai=function(){return Object(it.jsxs)("div",{className:"menu",children:[Object(it.jsx)(Je,{}),Object(it.jsx)(ii,{})]})},ni=function(){return Object(it.jsx)("div",{children:"Not found, 404"})},oi=function(){return Object(it.jsx)("div",{children:"Please signup to access all the goodies"})},si=i(55),ri=["component"],ci=function(t){var e=t.component,i=Object(si.a)(t,ri),a=Object(s.c)(h);return Object(it.jsx)(Q.b,Object(d.a)(Object(d.a)({},i),{},{render:function(t){return a.status?Object(it.jsx)(e,Object(d.a)({},t)):Object(it.jsx)(Q.a,{to:"/intro"})}}))},hi=function(){return Object(it.jsxs)(a.Fragment,{children:[Object(it.jsx)(ai,{}),Object(it.jsx)(Ue,{}),Object(it.jsxs)(Q.d,{children:[Object(it.jsx)(Q.b,{exact:!0,path:"/app",render:function(){return Object(it.jsx)(Q.a,{to:"/app/dashboard"})}}),Object(it.jsx)(ci,{path:"/app/dashboard",component:ne}),Object(it.jsx)(Q.b,{exact:!0,path:"/app/cliffHanger",component:le}),Object(it.jsx)(Q.b,{exact:!0,path:"/app/leaderBoard",component:at}),Object(it.jsx)(Q.b,{exact:!0,path:"/app/click",component:je}),Object(it.jsx)(Q.b,{exact:!0,path:"/app/rabbit",component:ze}),Object(it.jsx)(Q.b,{exact:!0,path:"/app/tilt",component:Ve}),Object(it.jsx)(Q.b,{exact:!0,path:"/app/propelman",component:Ye})]})]})},li=function(){var t=function(){return Object(it.jsx)(Q.a,{to:"/app"})};return Object(it.jsx)(tt.a,{children:Object(it.jsx)(Q.b,{render:function(e){var i=e.location;return Object(it.jsx)(et.a,{exitBeforeEnter:!0,children:Object(it.jsxs)(Q.d,{location:i,children:[Object(it.jsx)(Q.b,{exact:!0,path:"/",component:t}),Object(it.jsx)(ci,{path:"/app",component:hi}),Object(it.jsx)(Q.b,{exact:!0,path:"/signup",component:Gt}),Object(it.jsx)(Q.b,{exact:!0,path:"/intro",component:Ft}),Object(it.jsx)(Q.b,{path:"/non-auth",component:oi}),Object(it.jsx)(Q.b,{path:"/404",component:ni}),Object(it.jsx)(Q.a,{to:"/404"})]},i.key)})}})})};i(99);o.a.render(Object(it.jsx)(s.a,{store:K,children:Object(it.jsx)(li,{})}),document.getElementById("root"))},72:function(t,e,i){},76:function(t,e,i){},77:function(t,e,i){},78:function(t,e,i){},79:function(t,e,i){},80:function(t,e,i){},81:function(t,e,i){},82:function(t,e,i){},83:function(t,e,i){},84:function(t,e,i){},85:function(t,e,i){},86:function(t,e,i){},87:function(t,e,i){},88:function(t,e,i){},90:function(t,e,i){},91:function(t,e,i){},92:function(t,e,i){},93:function(t,e,i){},94:function(t,e,i){},95:function(t,e,i){},96:function(t,e,i){},97:function(t,e,i){},98:function(t,e,i){},99:function(t,e,i){}},[[100,1,2]]]);
//# sourceMappingURL=main.a6be3403.chunk.js.map